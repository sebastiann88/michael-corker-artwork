"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/yet-another-react-lightbox";
exports.ids = ["vendor-chunks/yet-another-react-lightbox"];
exports.modules = {

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/thumbnails.css":
/*!****************************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/thumbnails.css ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"5f2412407627\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3RodW1ibmFpbHMvdGh1bWJuYWlscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taWNoYWVsLWNvcmtlci1hcnR3b3JrLy4vbm9kZV9tb2R1bGVzL3lldC1hbm90aGVyLXJlYWN0LWxpZ2h0Ym94L2Rpc3QvcGx1Z2lucy90aHVtYm5haWxzL3RodW1ibmFpbHMuY3NzP2Q5NTYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI1ZjI0MTI0MDc2MjdcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/thumbnails.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/styles.css":
/*!*****************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/styles.css ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"f16e834b6791\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9zdHlsZXMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWljaGFlbC1jb3JrZXItYXJ0d29yay8uL25vZGVfbW9kdWxlcy95ZXQtYW5vdGhlci1yZWFjdC1saWdodGJveC9kaXN0L3N0eWxlcy5jc3M/OWEyYSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImYxNmU4MzRiNjc5MVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/styles.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_CLOSE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE),\n/* harmony export */   ACTION_NEXT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT),\n/* harmony export */   ACTION_PREV: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV),\n/* harmony export */   ACTION_SWIPE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE),\n/* harmony export */   ACTIVE_SLIDE_COMPLETE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_COMPLETE),\n/* harmony export */   ACTIVE_SLIDE_ERROR: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_ERROR),\n/* harmony export */   ACTIVE_SLIDE_LOADING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_LOADING),\n/* harmony export */   ACTIVE_SLIDE_PLAYING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_PLAYING),\n/* harmony export */   CLASS_FLEX_CENTER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER),\n/* harmony export */   CLASS_FULLSIZE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE),\n/* harmony export */   CLASS_NO_SCROLL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL),\n/* harmony export */   CLASS_NO_SCROLL_PADDING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL_PADDING),\n/* harmony export */   CLASS_SLIDE_WRAPPER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER),\n/* harmony export */   Carousel: () => (/* binding */ Carousel),\n/* harmony export */   CarouselModule: () => (/* binding */ CarouselModule),\n/* harmony export */   CloseIcon: () => (/* binding */ CloseIcon),\n/* harmony export */   Controller: () => (/* binding */ Controller),\n/* harmony export */   ControllerContext: () => (/* binding */ ControllerContext),\n/* harmony export */   ControllerModule: () => (/* binding */ ControllerModule),\n/* harmony export */   DocumentContext: () => (/* binding */ DocumentContext),\n/* harmony export */   DocumentContextProvider: () => (/* binding */ DocumentContextProvider),\n/* harmony export */   ELEMENT_BUTTON: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_BUTTON),\n/* harmony export */   ELEMENT_ICON: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON),\n/* harmony export */   EVENT_ON_KEY_DOWN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN),\n/* harmony export */   EVENT_ON_KEY_UP: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_UP),\n/* harmony export */   EVENT_ON_POINTER_CANCEL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_CANCEL),\n/* harmony export */   EVENT_ON_POINTER_DOWN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_DOWN),\n/* harmony export */   EVENT_ON_POINTER_LEAVE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_LEAVE),\n/* harmony export */   EVENT_ON_POINTER_MOVE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_MOVE),\n/* harmony export */   EVENT_ON_POINTER_UP: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_UP),\n/* harmony export */   EVENT_ON_WHEEL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL),\n/* harmony export */   ErrorIcon: () => (/* binding */ ErrorIcon),\n/* harmony export */   EventsContext: () => (/* binding */ EventsContext),\n/* harmony export */   EventsProvider: () => (/* binding */ EventsProvider),\n/* harmony export */   IMAGE_FIT_CONTAIN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_CONTAIN),\n/* harmony export */   IMAGE_FIT_COVER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_COVER),\n/* harmony export */   IconButton: () => (/* binding */ IconButton),\n/* harmony export */   ImageSlide: () => (/* binding */ ImageSlide),\n/* harmony export */   Lightbox: () => (/* binding */ Lightbox),\n/* harmony export */   LightboxDefaultProps: () => (/* binding */ LightboxDefaultProps),\n/* harmony export */   LightboxDispatchContext: () => (/* binding */ LightboxDispatchContext),\n/* harmony export */   LightboxPropsContext: () => (/* binding */ LightboxPropsContext),\n/* harmony export */   LightboxPropsProvider: () => (/* binding */ LightboxPropsProvider),\n/* harmony export */   LightboxRoot: () => (/* binding */ LightboxRoot),\n/* harmony export */   LightboxStateContext: () => (/* binding */ LightboxStateContext),\n/* harmony export */   LightboxStateProvider: () => (/* binding */ LightboxStateProvider),\n/* harmony export */   LoadingIcon: () => (/* binding */ LoadingIcon),\n/* harmony export */   MODULE_CAROUSEL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CAROUSEL),\n/* harmony export */   MODULE_CONTROLLER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER),\n/* harmony export */   MODULE_NAVIGATION: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NAVIGATION),\n/* harmony export */   MODULE_NO_SCROLL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NO_SCROLL),\n/* harmony export */   MODULE_PORTAL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL),\n/* harmony export */   MODULE_ROOT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_ROOT),\n/* harmony export */   MODULE_TOOLBAR: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_TOOLBAR),\n/* harmony export */   Navigation: () => (/* binding */ Navigation),\n/* harmony export */   NavigationButton: () => (/* binding */ NavigationButton),\n/* harmony export */   NavigationModule: () => (/* binding */ NavigationModule),\n/* harmony export */   NextIcon: () => (/* binding */ NextIcon),\n/* harmony export */   NoScroll: () => (/* binding */ NoScroll),\n/* harmony export */   NoScrollModule: () => (/* binding */ NoScrollModule),\n/* harmony export */   PLUGIN_CAPTIONS: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_CAPTIONS),\n/* harmony export */   PLUGIN_COUNTER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_COUNTER),\n/* harmony export */   PLUGIN_DOWNLOAD: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_DOWNLOAD),\n/* harmony export */   PLUGIN_FULLSCREEN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN),\n/* harmony export */   PLUGIN_INLINE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_INLINE),\n/* harmony export */   PLUGIN_SHARE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SHARE),\n/* harmony export */   PLUGIN_SLIDESHOW: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SLIDESHOW),\n/* harmony export */   PLUGIN_THUMBNAILS: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS),\n/* harmony export */   PLUGIN_ZOOM: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_ZOOM),\n/* harmony export */   Portal: () => (/* binding */ Portal),\n/* harmony export */   PortalModule: () => (/* binding */ PortalModule),\n/* harmony export */   PreviousIcon: () => (/* binding */ PreviousIcon),\n/* harmony export */   Root: () => (/* binding */ Root),\n/* harmony export */   RootModule: () => (/* binding */ RootModule),\n/* harmony export */   SLIDE_STATUS_COMPLETE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE),\n/* harmony export */   SLIDE_STATUS_ERROR: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR),\n/* harmony export */   SLIDE_STATUS_LOADING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING),\n/* harmony export */   SLIDE_STATUS_PLACEHOLDER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLACEHOLDER),\n/* harmony export */   SLIDE_STATUS_PLAYING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLAYING),\n/* harmony export */   SwipeState: () => (/* binding */ SwipeState),\n/* harmony export */   TimeoutsContext: () => (/* binding */ TimeoutsContext),\n/* harmony export */   TimeoutsProvider: () => (/* binding */ TimeoutsProvider),\n/* harmony export */   Toolbar: () => (/* binding */ Toolbar),\n/* harmony export */   ToolbarModule: () => (/* binding */ ToolbarModule),\n/* harmony export */   UNKNOWN_ACTION_TYPE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.UNKNOWN_ACTION_TYPE),\n/* harmony export */   VK_ARROW_LEFT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_LEFT),\n/* harmony export */   VK_ARROW_RIGHT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_RIGHT),\n/* harmony export */   VK_ESCAPE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ESCAPE),\n/* harmony export */   activeSlideStatus: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.activeSlideStatus),\n/* harmony export */   addToolbarButton: () => (/* binding */ addToolbarButton),\n/* harmony export */   calculatePreload: () => (/* binding */ calculatePreload),\n/* harmony export */   cleanup: () => (/* binding */ cleanup),\n/* harmony export */   clsx: () => (/* binding */ clsx),\n/* harmony export */   composePrefix: () => (/* binding */ composePrefix),\n/* harmony export */   computeSlideRect: () => (/* binding */ computeSlideRect),\n/* harmony export */   createIcon: () => (/* binding */ createIcon),\n/* harmony export */   createIconDisabled: () => (/* binding */ createIconDisabled),\n/* harmony export */   createModule: () => (/* binding */ createModule),\n/* harmony export */   createNode: () => (/* binding */ createNode),\n/* harmony export */   cssClass: () => (/* binding */ cssClass),\n/* harmony export */   cssVar: () => (/* binding */ cssVar),\n/* harmony export */   \"default\": () => (/* binding */ Lightbox),\n/* harmony export */   devicePixelRatio: () => (/* binding */ devicePixelRatio),\n/* harmony export */   getSlide: () => (/* binding */ getSlide),\n/* harmony export */   getSlideIfPresent: () => (/* binding */ getSlideIfPresent),\n/* harmony export */   getSlideIndex: () => (/* binding */ getSlideIndex),\n/* harmony export */   getSlideKey: () => (/* binding */ getSlideKey),\n/* harmony export */   hasSlides: () => (/* binding */ hasSlides),\n/* harmony export */   hasWindow: () => (/* binding */ hasWindow),\n/* harmony export */   isImageFitCover: () => (/* binding */ isImageFitCover),\n/* harmony export */   isImageSlide: () => (/* binding */ isImageSlide),\n/* harmony export */   label: () => (/* binding */ label),\n/* harmony export */   makeComposePrefix: () => (/* binding */ makeComposePrefix),\n/* harmony export */   makeUseContext: () => (/* binding */ makeUseContext),\n/* harmony export */   parseInt: () => (/* binding */ parseInt),\n/* harmony export */   parseLengthPercentage: () => (/* binding */ parseLengthPercentage),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   setRef: () => (/* binding */ setRef),\n/* harmony export */   stopNavigationEventsPropagation: () => (/* binding */ stopNavigationEventsPropagation),\n/* harmony export */   useAnimation: () => (/* binding */ useAnimation),\n/* harmony export */   useContainerRect: () => (/* binding */ useContainerRect),\n/* harmony export */   useController: () => (/* binding */ useController),\n/* harmony export */   useDelay: () => (/* binding */ useDelay),\n/* harmony export */   useDocumentContext: () => (/* binding */ useDocumentContext),\n/* harmony export */   useEventCallback: () => (/* binding */ useEventCallback),\n/* harmony export */   useEvents: () => (/* binding */ useEvents),\n/* harmony export */   useForkRef: () => (/* binding */ useForkRef),\n/* harmony export */   useKeyboardNavigation: () => (/* binding */ useKeyboardNavigation),\n/* harmony export */   useLayoutEffect: () => (/* binding */ useLayoutEffect),\n/* harmony export */   useLightboxDispatch: () => (/* binding */ useLightboxDispatch),\n/* harmony export */   useLightboxProps: () => (/* binding */ useLightboxProps),\n/* harmony export */   useLightboxState: () => (/* binding */ useLightboxState),\n/* harmony export */   useLoseFocus: () => (/* binding */ useLoseFocus),\n/* harmony export */   useMotionPreference: () => (/* binding */ useMotionPreference),\n/* harmony export */   useNavigationState: () => (/* binding */ useNavigationState),\n/* harmony export */   usePointerEvents: () => (/* binding */ usePointerEvents),\n/* harmony export */   usePointerSwipe: () => (/* binding */ usePointerSwipe),\n/* harmony export */   usePreventWheelDefaults: () => (/* binding */ usePreventWheelDefaults),\n/* harmony export */   useRTL: () => (/* binding */ useRTL),\n/* harmony export */   useSensors: () => (/* binding */ useSensors),\n/* harmony export */   useThrottle: () => (/* binding */ useThrottle),\n/* harmony export */   useTimeouts: () => (/* binding */ useTimeouts),\n/* harmony export */   useWheelSwipe: () => (/* binding */ useWheelSwipe),\n/* harmony export */   withPlugins: () => (/* binding */ withPlugins)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* __next_internal_client_entry_do_not_use__ ACTIVE_SLIDE_COMPLETE,ACTIVE_SLIDE_ERROR,ACTIVE_SLIDE_LOADING,ACTIVE_SLIDE_PLAYING,CLASS_FULLSIZE,PLUGIN_CAPTIONS,PLUGIN_COUNTER,PLUGIN_DOWNLOAD,PLUGIN_FULLSCREEN,PLUGIN_INLINE,PLUGIN_SHARE,PLUGIN_SLIDESHOW,PLUGIN_THUMBNAILS,PLUGIN_ZOOM,SLIDE_STATUS_PLAYING,ACTION_CLOSE,ACTION_NEXT,ACTION_PREV,ACTION_SWIPE,CLASS_FLEX_CENTER,CLASS_NO_SCROLL,CLASS_NO_SCROLL_PADDING,CLASS_SLIDE_WRAPPER,Carousel,CarouselModule,CloseIcon,Controller,ControllerContext,ControllerModule,DocumentContext,DocumentContextProvider,ELEMENT_BUTTON,ELEMENT_ICON,EVENT_ON_KEY_DOWN,EVENT_ON_KEY_UP,EVENT_ON_POINTER_CANCEL,EVENT_ON_POINTER_DOWN,EVENT_ON_POINTER_LEAVE,EVENT_ON_POINTER_MOVE,EVENT_ON_POINTER_UP,EVENT_ON_WHEEL,ErrorIcon,EventsContext,EventsProvider,IMAGE_FIT_CONTAIN,IMAGE_FIT_COVER,IconButton,ImageSlide,Lightbox,LightboxDefaultProps,LightboxDispatchContext,LightboxPropsContext,LightboxPropsProvider,LightboxRoot,LightboxStateContext,LightboxStateProvider,LoadingIcon,MODULE_CAROUSEL,MODULE_CONTROLLER,MODULE_NAVIGATION,MODULE_NO_SCROLL,MODULE_PORTAL,MODULE_ROOT,MODULE_TOOLBAR,Navigation,NavigationButton,NavigationModule,NextIcon,NoScroll,NoScrollModule,Portal,PortalModule,PreviousIcon,Root,RootModule,SLIDE_STATUS_COMPLETE,SLIDE_STATUS_ERROR,SLIDE_STATUS_LOADING,SLIDE_STATUS_PLACEHOLDER,SwipeState,TimeoutsContext,TimeoutsProvider,Toolbar,ToolbarModule,UNKNOWN_ACTION_TYPE,VK_ARROW_LEFT,VK_ARROW_RIGHT,VK_ESCAPE,activeSlideStatus,addToolbarButton,calculatePreload,cleanup,clsx,composePrefix,computeSlideRect,createIcon,createIconDisabled,createModule,createNode,cssClass,cssVar,default,devicePixelRatio,getSlide,getSlideIfPresent,getSlideIndex,getSlideKey,hasSlides,hasWindow,isImageFitCover,isImageSlide,label,makeComposePrefix,makeUseContext,parseInt,parseLengthPercentage,round,setRef,stopNavigationEventsPropagation,useAnimation,useContainerRect,useController,useDelay,useDocumentContext,useEventCallback,useEvents,useForkRef,useKeyboardNavigation,useLayoutEffect,useLightboxDispatch,useLightboxProps,useLightboxState,useLoseFocus,useMotionPreference,useNavigationState,usePointerEvents,usePointerSwipe,usePreventWheelDefaults,useRTL,useSensors,useThrottle,useTimeouts,useWheelSwipe,withPlugins auto */ \n\n\n\nconst cssPrefix$3 = \"yarl__\";\nfunction clsx(...classes) {\n    return [\n        ...classes\n    ].filter(Boolean).join(\" \");\n}\nfunction cssClass(name) {\n    return `${cssPrefix$3}${name}`;\n}\nfunction cssVar(name) {\n    return `--${cssPrefix$3}${name}`;\n}\nfunction composePrefix(base, prefix) {\n    return `${base}${prefix ? `_${prefix}` : \"\"}`;\n}\nfunction makeComposePrefix(base) {\n    return (prefix)=>composePrefix(base, prefix);\n}\nfunction label(labels, defaultLabel) {\n    var _a;\n    return (_a = labels === null || labels === void 0 ? void 0 : labels[defaultLabel]) !== null && _a !== void 0 ? _a : defaultLabel;\n}\nfunction cleanup(...cleaners) {\n    return ()=>{\n        cleaners.forEach((cleaner)=>{\n            cleaner();\n        });\n    };\n}\nfunction makeUseContext(name, contextName, context) {\n    return ()=>{\n        const ctx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(context);\n        if (!ctx) {\n            throw new Error(`${name} must be used within a ${contextName}.Provider`);\n        }\n        return ctx;\n    };\n}\nfunction hasWindow() {\n    return \"undefined\" !== \"undefined\";\n}\nfunction round(value, decimals = 0) {\n    const factor = 10 ** decimals;\n    return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nfunction isImageSlide(slide) {\n    return slide.type === undefined || slide.type === \"image\";\n}\nfunction isImageFitCover(image, imageFit) {\n    return image.imageFit === _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_COVER || image.imageFit !== _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_CONTAIN && imageFit === _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_COVER;\n}\nfunction parseInt(value) {\n    return typeof value === \"string\" ? Number.parseInt(value, 10) : value;\n}\nfunction parseLengthPercentage(input) {\n    if (typeof input === \"number\") {\n        return {\n            pixel: input\n        };\n    }\n    if (typeof input === \"string\") {\n        const value = parseInt(input);\n        return input.endsWith(\"%\") ? {\n            percent: value\n        } : {\n            pixel: value\n        };\n    }\n    return {\n        pixel: 0\n    };\n}\nfunction computeSlideRect(containerRect, padding) {\n    const paddingValue = parseLengthPercentage(padding);\n    const paddingPixels = paddingValue.percent !== undefined ? containerRect.width / 100 * paddingValue.percent : paddingValue.pixel;\n    return {\n        width: Math.max(containerRect.width - 2 * paddingPixels, 0),\n        height: Math.max(containerRect.height - 2 * paddingPixels, 0)\n    };\n}\nfunction devicePixelRatio() {\n    return (hasWindow() ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\n}\nfunction getSlideIndex(index, slidesCount) {\n    return slidesCount > 0 ? (index % slidesCount + slidesCount) % slidesCount : 0;\n}\nfunction hasSlides(slides) {\n    return slides.length > 0;\n}\nfunction getSlide(slides, index) {\n    return slides[getSlideIndex(index, slides.length)];\n}\nfunction getSlideIfPresent(slides, index) {\n    return hasSlides(slides) ? getSlide(slides, index) : undefined;\n}\nfunction getSlideKey(slide) {\n    return isImageSlide(slide) ? slide.src : undefined;\n}\nfunction addToolbarButton(toolbar, key, button) {\n    if (!button) return toolbar;\n    const { buttons, ...restToolbar } = toolbar;\n    const index = buttons.findIndex((item)=>item === key);\n    const buttonWithKey = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(button) ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(button, {\n        key\n    }, null) : button;\n    if (index >= 0) {\n        const result = [\n            ...buttons\n        ];\n        result.splice(index, 1, buttonWithKey);\n        return {\n            buttons: result,\n            ...restToolbar\n        };\n    }\n    return {\n        buttons: [\n            buttonWithKey,\n            ...buttons\n        ],\n        ...restToolbar\n    };\n}\nfunction stopNavigationEventsPropagation() {\n    const stopPropagation = (event)=>{\n        event.stopPropagation();\n    };\n    return {\n        onPointerDown: stopPropagation,\n        onKeyDown: stopPropagation,\n        onWheel: stopPropagation\n    };\n}\nfunction calculatePreload(carousel, slides, minimum = 0) {\n    return Math.min(carousel.preload, Math.max(carousel.finite ? slides.length - 1 : Math.floor(slides.length / 2), minimum));\n}\nconst LightboxDefaultProps = {\n    open: false,\n    close: ()=>{},\n    index: 0,\n    slides: [],\n    render: {},\n    plugins: [],\n    toolbar: {\n        buttons: [\n            _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE\n        ]\n    },\n    labels: {},\n    animation: {\n        fade: 250,\n        swipe: 500,\n        easing: {\n            fade: \"ease\",\n            swipe: \"ease-out\",\n            navigation: \"ease-in-out\"\n        }\n    },\n    carousel: {\n        finite: false,\n        preload: 2,\n        padding: \"16px\",\n        spacing: \"30%\",\n        imageFit: _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_CONTAIN,\n        imageProps: {}\n    },\n    controller: {\n        ref: null,\n        focus: true,\n        aria: false,\n        touchAction: \"none\",\n        closeOnPullUp: false,\n        closeOnPullDown: false,\n        closeOnBackdropClick: false,\n        preventDefaultWheelX: true,\n        preventDefaultWheelY: false\n    },\n    portal: {},\n    noScroll: {\n        disabled: false\n    },\n    on: {},\n    styles: {},\n    className: \"\"\n};\nfunction createModule(name, component) {\n    return {\n        name,\n        component\n    };\n}\nfunction createNode(module, children) {\n    return {\n        module,\n        children\n    };\n}\nfunction traverseNode(node, target, apply) {\n    if (node.module.name === target) {\n        return apply(node);\n    }\n    if (node.children) {\n        return [\n            createNode(node.module, node.children.flatMap((n)=>{\n                var _a;\n                return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : [];\n            }))\n        ];\n    }\n    return [\n        node\n    ];\n}\nfunction traverse(nodes, target, apply) {\n    return nodes.flatMap((node)=>{\n        var _a;\n        return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : [];\n    });\n}\nfunction withPlugins(root, plugins = [], augmentations = []) {\n    let config = root;\n    const contains = (target)=>{\n        const nodes = [\n            ...config\n        ];\n        while(nodes.length > 0){\n            const node = nodes.pop();\n            if ((node === null || node === void 0 ? void 0 : node.module.name) === target) return true;\n            if (node === null || node === void 0 ? void 0 : node.children) nodes.push(...node.children);\n        }\n        return false;\n    };\n    const addParent = (target, module)=>{\n        if (target === \"\") {\n            config = [\n                createNode(module, config)\n            ];\n            return;\n        }\n        config = traverse(config, target, (node)=>[\n                createNode(module, [\n                    node\n                ])\n            ]);\n    };\n    const append = (target, module)=>{\n        config = traverse(config, target, (node)=>[\n                createNode(node.module, [\n                    createNode(module, node.children)\n                ])\n            ]);\n    };\n    const addChild = (target, module, precede)=>{\n        config = traverse(config, target, (node)=>{\n            var _a;\n            return [\n                createNode(node.module, [\n                    ...precede ? [\n                        createNode(module)\n                    ] : [],\n                    ...(_a = node.children) !== null && _a !== void 0 ? _a : [],\n                    ...!precede ? [\n                        createNode(module)\n                    ] : []\n                ])\n            ];\n        });\n    };\n    const addSibling = (target, module, precede)=>{\n        config = traverse(config, target, (node)=>[\n                ...precede ? [\n                    createNode(module)\n                ] : [],\n                node,\n                ...!precede ? [\n                    createNode(module)\n                ] : []\n            ]);\n    };\n    const addModule = (module)=>{\n        append(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, module);\n    };\n    const replace = (target, module)=>{\n        config = traverse(config, target, (node)=>[\n                createNode(module, node.children)\n            ]);\n    };\n    const remove = (target)=>{\n        config = traverse(config, target, (node)=>node.children);\n    };\n    const augment = (augmentation)=>{\n        augmentations.push(augmentation);\n    };\n    plugins.forEach((plugin)=>{\n        plugin({\n            contains,\n            addParent,\n            append,\n            addChild,\n            addSibling,\n            addModule,\n            replace,\n            remove,\n            augment\n        });\n    });\n    return {\n        config,\n        augmentation: (props)=>augmentations.reduce((acc, augmentation)=>augmentation(acc), props)\n    };\n}\nconst DocumentContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useDocumentContext = makeUseContext(\"useDocument\", \"DocumentContext\", DocumentContext);\nfunction DocumentContextProvider({ nodeRef, children }) {\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>{\n        const getOwnerDocument = (node)=>{\n            var _a;\n            return ((_a = node || nodeRef.current) === null || _a === void 0 ? void 0 : _a.ownerDocument) || document;\n        };\n        const getOwnerWindow = (node)=>{\n            var _a;\n            return ((_a = getOwnerDocument(node)) === null || _a === void 0 ? void 0 : _a.defaultView) || window;\n        };\n        return {\n            getOwnerDocument,\n            getOwnerWindow\n        };\n    }, [\n        nodeRef\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(DocumentContext.Provider, {\n        value: context\n    }, children);\n}\nconst EventsContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nfunction EventsProvider({ children }) {\n    const [subscriptions] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>()=>{\n            Object.keys(subscriptions).forEach((topic)=>delete subscriptions[topic]);\n        }, [\n        subscriptions\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>{\n        const unsubscribe = (topic, callback)=>{\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.splice(0, subscriptions[topic].length, ...subscriptions[topic].filter((cb)=>cb !== callback));\n        };\n        const subscribe = (topic, callback)=>{\n            if (!subscriptions[topic]) {\n                subscriptions[topic] = [];\n            }\n            subscriptions[topic].push(callback);\n            return ()=>unsubscribe(topic, callback);\n        };\n        const publish = (...[topic, event])=>{\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach((callback)=>callback(event));\n        };\n        return {\n            publish,\n            subscribe,\n            unsubscribe\n        };\n    }, [\n        subscriptions\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EventsContext.Provider, {\n        value: context\n    }, children);\n}\nconst LightboxPropsContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useLightboxProps = makeUseContext(\"useLightboxProps\", \"LightboxPropsContext\", LightboxPropsContext);\nfunction LightboxPropsProvider({ children, ...props }) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxPropsContext.Provider, {\n        value: props\n    }, children);\n}\nconst LightboxStateContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst LightboxDispatchContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useLightboxDispatch = makeUseContext(\"useLightboxDispatch\", \"LightboxDispatchContext\", LightboxDispatchContext);\nfunction reducer(state, action) {\n    switch(action.type){\n        case \"swipe\":\n            {\n                const { slides } = state;\n                const increment = (action === null || action === void 0 ? void 0 : action.increment) || 0;\n                const globalIndex = state.globalIndex + increment;\n                const currentIndex = getSlideIndex(globalIndex, slides.length);\n                const currentSlide = getSlideIfPresent(slides, currentIndex);\n                const animation = increment || action.duration ? {\n                    increment,\n                    duration: action.duration,\n                    easing: action.easing\n                } : undefined;\n                return {\n                    slides,\n                    currentIndex,\n                    globalIndex,\n                    currentSlide,\n                    animation\n                };\n            }\n        case \"update\":\n            if (action.slides !== state.slides || action.index !== state.currentIndex) {\n                return {\n                    slides: action.slides,\n                    currentIndex: action.index,\n                    globalIndex: action.index,\n                    currentSlide: getSlideIfPresent(action.slides, action.index)\n                };\n            }\n            return state;\n        default:\n            throw new Error(_types_js__WEBPACK_IMPORTED_MODULE_2__.UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction LightboxStateProvider({ slides, index, children }) {\n    const [state, dispatch] = react__WEBPACK_IMPORTED_MODULE_0__.useReducer(reducer, {\n        slides,\n        currentIndex: index,\n        globalIndex: index,\n        currentSlide: getSlideIfPresent(slides, index)\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        dispatch({\n            type: \"update\",\n            slides,\n            index\n        });\n    }, [\n        slides,\n        index\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>({\n            ...state,\n            state,\n            dispatch\n        }), [\n        state,\n        dispatch\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxDispatchContext.Provider, {\n        value: dispatch\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxStateContext.Provider, {\n        value: context\n    }, children));\n}\nconst TimeoutsContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nfunction TimeoutsProvider({ children }) {\n    const [timeouts] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>()=>{\n            timeouts.forEach((tid)=>window.clearTimeout(tid));\n            timeouts.splice(0, timeouts.length);\n        }, [\n        timeouts\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>{\n        const removeTimeout = (id)=>{\n            timeouts.splice(0, timeouts.length, ...timeouts.filter((tid)=>tid !== id));\n        };\n        const setTimeout = (fn, delay)=>{\n            const id = window.setTimeout(()=>{\n                removeTimeout(id);\n                fn();\n            }, delay);\n            timeouts.push(id);\n            return id;\n        };\n        const clearTimeout = (id)=>{\n            if (id !== undefined) {\n                removeTimeout(id);\n                window.clearTimeout(id);\n            }\n        };\n        return {\n            setTimeout,\n            clearTimeout\n        };\n    }, [\n        timeouts\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TimeoutsContext.Provider, {\n        value: context\n    }, children);\n}\nconst IconButton = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function IconButton({ label: label$1, className, icon: Icon, renderIcon, onClick, style, ...rest }, ref) {\n    const { styles, labels } = useLightboxProps();\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        ref: ref,\n        type: \"button\",\n        \"aria-label\": label(labels, label$1),\n        className: clsx(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_BUTTON), className),\n        onClick: onClick,\n        style: {\n            ...style,\n            ...styles.button\n        },\n        ...rest\n    }, renderIcon ? renderIcon() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Icon, {\n        className: cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON),\n        style: styles.icon\n    }));\n});\nfunction svgIcon(name, children) {\n    const icon = (props)=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            width: \"24\",\n            height: \"24\",\n            \"aria-hidden\": \"true\",\n            focusable: \"false\",\n            ...props\n        }, children);\n    icon.displayName = name;\n    return icon;\n}\nfunction createIcon(name, glyph) {\n    return svgIcon(name, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n        fill: \"currentColor\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"none\"\n    }), glyph));\n}\nfunction createIconDisabled(name, glyph) {\n    return svgIcon(name, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"defs\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"mask\", {\n        id: \"strike\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"white\"\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0L24 24\",\n        stroke: \"black\",\n        strokeWidth: 4\n    }))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0.70707 2.121320L21.878680 23.292883\",\n        stroke: \"currentColor\",\n        strokeWidth: 2\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n        fill: \"currentColor\",\n        mask: \"url(#strike)\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"none\"\n    }), glyph)));\n}\nconst CloseIcon = createIcon(\"Close\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}));\nconst PreviousIcon = createIcon(\"Previous\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}));\nconst NextIcon = createIcon(\"Next\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}));\nconst LoadingIcon = createIcon(\"Loading\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, Array.from({\n    length: 8\n}).map((_, index, array)=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"line\", {\n        key: index,\n        x1: \"12\",\n        y1: \"6.5\",\n        x2: \"12\",\n        y2: \"1.8\",\n        strokeLinecap: \"round\",\n        strokeWidth: \"2.6\",\n        stroke: \"currentColor\",\n        strokeOpacity: 1 / array.length * (index + 1),\n        transform: `rotate(${360 / array.length * index}, 12, 12)`\n    }))));\nconst ErrorIcon = createIcon(\"Error\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\"\n}));\nconst useLayoutEffect = hasWindow() ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nfunction useMotionPreference() {\n    const [reduceMotion, setReduceMotion] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        var _a, _b;\n        const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n        setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n        const listener = (event)=>setReduceMotion(event.matches);\n        (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n        return ()=>{\n            var _a;\n            return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener);\n        };\n    }, []);\n    return reduceMotion;\n}\nfunction currentTransformation(node) {\n    let x = 0;\n    let y = 0;\n    let z = 0;\n    const matrix = window.getComputedStyle(node).transform;\n    const matcher = matrix.match(/matrix.*\\((.+)\\)/);\n    if (matcher) {\n        const values = matcher[1].split(\",\").map(parseInt);\n        if (values.length === 6) {\n            x = values[4];\n            y = values[5];\n        } else if (values.length === 16) {\n            x = values[12];\n            y = values[13];\n            z = values[14];\n        }\n    }\n    return {\n        x,\n        y,\n        z\n    };\n}\nfunction useAnimation(nodeRef, computeAnimation) {\n    const snapshot = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const animation = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const reduceMotion = useMotionPreference();\n    useLayoutEffect(()=>{\n        var _a, _b, _c;\n        if (nodeRef.current && snapshot.current !== undefined && !reduceMotion) {\n            const { keyframes, duration, easing, onfinish } = computeAnimation(snapshot.current, nodeRef.current.getBoundingClientRect(), currentTransformation(nodeRef.current)) || {};\n            if (keyframes && duration) {\n                (_a = animation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n                animation.current = undefined;\n                try {\n                    animation.current = (_c = (_b = nodeRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, keyframes, {\n                        duration,\n                        easing\n                    });\n                } catch (err) {\n                    console.error(err);\n                }\n                if (animation.current) {\n                    animation.current.onfinish = ()=>{\n                        animation.current = undefined;\n                        onfinish === null || onfinish === void 0 ? void 0 : onfinish();\n                    };\n                }\n            }\n        }\n        snapshot.current = undefined;\n    });\n    return {\n        prepareAnimation: (currentSnapshot)=>{\n            snapshot.current = currentSnapshot;\n        },\n        isAnimationPlaying: ()=>{\n            var _a;\n            return ((_a = animation.current) === null || _a === void 0 ? void 0 : _a.playState) === \"running\";\n        }\n    };\n}\nfunction useContainerRect() {\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const observerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const [containerRect, setContainerRect] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const setContainerRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node)=>{\n        containerRef.current = node;\n        if (observerRef.current) {\n            observerRef.current.disconnect();\n            observerRef.current = undefined;\n        }\n        const updateContainerRect = ()=>{\n            if (node) {\n                const styles = window.getComputedStyle(node);\n                const parse = (value)=>parseFloat(value) || 0;\n                setContainerRect({\n                    width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n                    height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom))\n                });\n            } else {\n                setContainerRect(undefined);\n            }\n        };\n        updateContainerRect();\n        if (node && typeof ResizeObserver !== \"undefined\") {\n            observerRef.current = new ResizeObserver(updateContainerRect);\n            observerRef.current.observe(node);\n        }\n    }, []);\n    return {\n        setContainerRef,\n        containerRef,\n        containerRect\n    };\n}\nfunction useDelay() {\n    const timeoutId = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback((callback, delay)=>{\n        clearTimeout(timeoutId.current);\n        timeoutId.current = setTimeout(callback, delay > 0 ? delay : 0);\n    }, [\n        setTimeout,\n        clearTimeout\n    ]);\n}\nfunction useEventCallback(fn) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(fn);\n    useLayoutEffect(()=>{\n        ref.current = fn;\n    });\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback((...args)=>{\n        var _a;\n        return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args);\n    }, []);\n}\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    } else if (ref) {\n        ref.current = value;\n    }\n}\nfunction useForkRef(refA, refB) {\n    return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>refA == null && refB == null ? null : (refValue)=>{\n            setRef(refA, refValue);\n            setRef(refB, refValue);\n        }, [\n        refA,\n        refB\n    ]);\n}\nfunction useLoseFocus(focus, disabled = false) {\n    const focused = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    useLayoutEffect(()=>{\n        if (disabled && focused.current) {\n            focused.current = false;\n            focus();\n        }\n    }, [\n        disabled,\n        focus\n    ]);\n    const onFocus = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        focused.current = true;\n    }, []);\n    const onBlur = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        focused.current = false;\n    }, []);\n    return {\n        onFocus,\n        onBlur\n    };\n}\nfunction useRTL() {\n    const [isRTL, setIsRTL] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    useLayoutEffect(()=>{\n        setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n    }, []);\n    return isRTL;\n}\nfunction useSensors() {\n    const [subscribers] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    const notifySubscribers = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((type, event)=>{\n        var _a;\n        (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach((listener)=>{\n            if (!event.isPropagationStopped()) listener(event);\n        });\n    }, [\n        subscribers\n    ]);\n    const registerSensors = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>({\n            onPointerDown: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_DOWN, event),\n            onPointerMove: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_MOVE, event),\n            onPointerUp: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_UP, event),\n            onPointerLeave: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_LEAVE, event),\n            onPointerCancel: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_CANCEL, event),\n            onKeyDown: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN, event),\n            onKeyUp: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_UP, event),\n            onWheel: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL, event)\n        }), [\n        notifySubscribers\n    ]);\n    const subscribeSensors = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((type, callback)=>{\n        if (!subscribers[type]) {\n            subscribers[type] = [];\n        }\n        subscribers[type].unshift(callback);\n        return ()=>{\n            const listeners = subscribers[type];\n            if (listeners) {\n                listeners.splice(0, listeners.length, ...listeners.filter((el)=>el !== callback));\n            }\n        };\n    }, [\n        subscribers\n    ]);\n    return {\n        registerSensors,\n        subscribeSensors\n    };\n}\nfunction useThrottle(callback, delay) {\n    const lastCallbackTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const delayCallback = useDelay();\n    const executeCallback = useEventCallback((...args)=>{\n        lastCallbackTime.current = Date.now();\n        callback(args);\n    });\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback((...args)=>{\n        delayCallback(()=>{\n            executeCallback(args);\n        }, delay - (Date.now() - lastCallbackTime.current));\n    }, [\n        delay,\n        executeCallback,\n        delayCallback\n    ]);\n}\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nfunction ImageSlide({ slide: image, offset, render, rect, imageFit, imageProps, onClick, onLoad, style }) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const [status, setStatus] = react__WEBPACK_IMPORTED_MODULE_0__.useState(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING);\n    const { publish } = useEvents();\n    const { setTimeout } = useTimeouts();\n    const imageRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (offset === 0) {\n            publish((0,_types_js__WEBPACK_IMPORTED_MODULE_2__.activeSlideStatus)(status));\n        }\n    }, [\n        offset,\n        status,\n        publish\n    ]);\n    const handleLoading = useEventCallback((img)=>{\n        (\"decode\" in img ? img.decode() : Promise.resolve()).catch(()=>{}).then(()=>{\n            if (!img.parentNode) {\n                return;\n            }\n            setStatus(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE);\n            setTimeout(()=>{\n                onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n            }, 0);\n        });\n    });\n    const setImageRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((img)=>{\n        imageRef.current = img;\n        if (img === null || img === void 0 ? void 0 : img.complete) {\n            handleLoading(img);\n        }\n    }, [\n        handleLoading\n    ]);\n    const handleOnLoad = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event)=>{\n        handleLoading(event.currentTarget);\n    }, [\n        handleLoading\n    ]);\n    const onError = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        setStatus(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR);\n    }, []);\n    const cover = isImageFitCover(image, imageFit);\n    const nonInfinite = (value, fallback)=>Number.isFinite(value) ? value : fallback;\n    const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map((x)=>x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [\n        image.width\n    ] : []).filter(Boolean)), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n    const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map((x)=>x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [\n        image.height\n    ] : []).filter(Boolean)), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n    const defaultStyle = maxWidth && maxHeight ? {\n        maxWidth: `min(${maxWidth}px, 100%)`,\n        maxHeight: `min(${maxHeight}px, 100%)`\n    } : {\n        maxWidth: \"100%\",\n        maxHeight: \"100%\"\n    };\n    const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b)=>a.width - b.width).map((item)=>`${item.src} ${item.width}w`).join(\", \");\n    const estimateActualWidth = ()=>rect && !cover && image.width && image.height ? rect.height / image.height * image.width : Number.MAX_VALUE;\n    const sizes = srcSet && rect && hasWindow() ? `${Math.round(Math.min(estimateActualWidth(), rect.width))}px` : undefined;\n    const { style: imagePropsStyle, className: imagePropsClassName, ...restImageProps } = imageProps || {};\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n        ref: setImageRef,\n        onLoad: handleOnLoad,\n        onError: onError,\n        onClick: onClick,\n        draggable: false,\n        className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\")), imagePropsClassName),\n        style: {\n            ...defaultStyle,\n            ...style,\n            ...imagePropsStyle\n        },\n        ...restImageProps,\n        alt: image.alt,\n        sizes: sizes,\n        srcSet: srcSet,\n        src: image.src\n    }), status !== _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: cssClass(slidePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLACEHOLDER))\n    }, status === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING && ((render === null || render === void 0 ? void 0 : render.iconLoading) ? render.iconLoading() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingIcon, {\n        className: clsx(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON), cssClass(slidePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING)))\n    })), status === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR && ((render === null || render === void 0 ? void 0 : render.iconError) ? render.iconError() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ErrorIcon, {\n        className: clsx(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON), cssClass(slidePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR)))\n    }))));\n}\nconst LightboxRoot = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function LightboxRoot({ className, children, ...rest }, ref) {\n    const nodeRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(DocumentContextProvider, {\n        nodeRef: nodeRef\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: useForkRef(ref, nodeRef),\n        className: clsx(cssClass(\"root\"), className),\n        ...rest\n    }, children));\n});\nvar SwipeState;\n(function(SwipeState) {\n    SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n    SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n    SwipeState[SwipeState[\"PULL\"] = 2] = \"PULL\";\n    SwipeState[SwipeState[\"ANIMATION\"] = 3] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\nfunction usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled) {\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>!disabled ? cleanup(subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_CANCEL, onPointerUp)) : ()=>{}, [\n        subscribeSensors,\n        onPointerDown,\n        onPointerMove,\n        onPointerUp,\n        disabled\n    ]);\n}\nvar Gesture;\n(function(Gesture) {\n    Gesture[Gesture[\"NONE\"] = 0] = \"NONE\";\n    Gesture[Gesture[\"SWIPE\"] = 1] = \"SWIPE\";\n    Gesture[Gesture[\"PULL\"] = 2] = \"PULL\";\n})(Gesture || (Gesture = {}));\nconst SWIPE_THRESHOLD = 30;\nfunction usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel, pullUpEnabled, pullDownEnabled, onPullStart, onPullProgress, onPullFinish, onPullCancel) {\n    const offset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pointers = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n    const activePointer = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const startTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const gesture = react__WEBPACK_IMPORTED_MODULE_0__.useRef(Gesture.NONE);\n    const clearPointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event)=>{\n        if (activePointer.current === event.pointerId) {\n            activePointer.current = undefined;\n            gesture.current = Gesture.NONE;\n        }\n        const currentPointers = pointers.current;\n        currentPointers.splice(0, currentPointers.length, ...currentPointers.filter((p)=>p.pointerId !== event.pointerId));\n    }, []);\n    const addPointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event)=>{\n        clearPointer(event);\n        event.persist();\n        pointers.current.push(event);\n    }, [\n        clearPointer\n    ]);\n    const onPointerDown = useEventCallback((event)=>{\n        addPointer(event);\n    });\n    const exceedsPullThreshold = (value, threshold)=>pullDownEnabled && value > threshold || pullUpEnabled && value < -threshold;\n    const onPointerUp = useEventCallback((event)=>{\n        if (pointers.current.find((x)=>x.pointerId === event.pointerId) && activePointer.current === event.pointerId) {\n            const duration = Date.now() - startTime.current;\n            const currentOffset = offset.current;\n            if (gesture.current === Gesture.SWIPE) {\n                if (Math.abs(currentOffset) > 0.3 * containerWidth || Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration) {\n                    onSwipeFinish(currentOffset, duration);\n                } else {\n                    onSwipeCancel(currentOffset);\n                }\n            } else if (gesture.current === Gesture.PULL) {\n                if (exceedsPullThreshold(currentOffset, 2 * SWIPE_THRESHOLD)) {\n                    onPullFinish(currentOffset, duration);\n                } else {\n                    onPullCancel(currentOffset);\n                }\n            }\n            offset.current = 0;\n            gesture.current = Gesture.NONE;\n        }\n        clearPointer(event);\n    });\n    const onPointerMove = useEventCallback((event)=>{\n        const pointer = pointers.current.find((p)=>p.pointerId === event.pointerId);\n        if (pointer) {\n            const isCurrentPointer = activePointer.current === event.pointerId;\n            if (event.buttons === 0) {\n                if (isCurrentPointer && offset.current !== 0) {\n                    onPointerUp(event);\n                } else {\n                    clearPointer(pointer);\n                }\n                return;\n            }\n            const deltaX = event.clientX - pointer.clientX;\n            const deltaY = event.clientY - pointer.clientY;\n            if (activePointer.current === undefined) {\n                const startGesture = (newGesture)=>{\n                    addPointer(event);\n                    activePointer.current = event.pointerId;\n                    startTime.current = Date.now();\n                    gesture.current = newGesture;\n                };\n                if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > SWIPE_THRESHOLD && isSwipeValid(deltaX)) {\n                    startGesture(Gesture.SWIPE);\n                    onSwipeStart();\n                } else if (Math.abs(deltaY) > Math.abs(deltaX) && exceedsPullThreshold(deltaY, SWIPE_THRESHOLD)) {\n                    startGesture(Gesture.PULL);\n                    onPullStart();\n                }\n            } else if (isCurrentPointer) {\n                if (gesture.current === Gesture.SWIPE) {\n                    offset.current = deltaX;\n                    onSwipeProgress(deltaX);\n                } else if (gesture.current === Gesture.PULL) {\n                    offset.current = deltaY;\n                    onPullProgress(deltaY);\n                }\n            }\n        }\n    });\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp);\n}\nfunction usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY }) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const listener = useEventCallback((event)=>{\n        const horizontal = Math.abs(event.deltaX) > Math.abs(event.deltaY);\n        if (horizontal && preventDefaultWheelX || !horizontal && preventDefaultWheelY || event.ctrlKey) {\n            event.preventDefault();\n        }\n    });\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node)=>{\n        var _a;\n        if (node) {\n            node.addEventListener(\"wheel\", listener, {\n                passive: false\n            });\n        } else {\n            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"wheel\", listener);\n        }\n        ref.current = node;\n    }, [\n        listener\n    ]);\n}\nfunction useWheelSwipe(swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n    const offset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const intent = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const intentCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const resetCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const wheelResidualMomentum = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const startTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const cancelSwipeIntentCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        if (intentCleanup.current) {\n            clearTimeout(intentCleanup.current);\n            intentCleanup.current = undefined;\n        }\n    }, [\n        clearTimeout\n    ]);\n    const cancelSwipeResetCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        if (resetCleanup.current) {\n            clearTimeout(resetCleanup.current);\n            resetCleanup.current = undefined;\n        }\n    }, [\n        clearTimeout\n    ]);\n    const handleCleanup = useEventCallback(()=>{\n        if (swipeState !== SwipeState.SWIPE) {\n            offset.current = 0;\n            startTime.current = 0;\n            cancelSwipeIntentCleanup();\n            cancelSwipeResetCleanup();\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(handleCleanup, [\n        swipeState,\n        handleCleanup\n    ]);\n    const handleCancelSwipe = useEventCallback((currentSwipeOffset)=>{\n        resetCleanup.current = undefined;\n        if (offset.current === currentSwipeOffset) {\n            onSwipeCancel(offset.current);\n        }\n    });\n    const onWheel = useEventCallback((event)=>{\n        if (event.ctrlKey) {\n            return;\n        }\n        if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n            return;\n        }\n        if (swipeState === SwipeState.NONE) {\n            if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelResidualMomentum.current)) {\n                wheelResidualMomentum.current = event.deltaX;\n                return;\n            }\n            if (!isSwipeValid(-event.deltaX)) {\n                return;\n            }\n            intent.current += event.deltaX;\n            cancelSwipeIntentCleanup();\n            if (Math.abs(intent.current) > 30) {\n                intent.current = 0;\n                wheelResidualMomentum.current = 0;\n                startTime.current = Date.now();\n                onSwipeStart();\n            } else {\n                const currentSwipeIntent = intent.current;\n                intentCleanup.current = setTimeout(()=>{\n                    intentCleanup.current = undefined;\n                    if (currentSwipeIntent === intent.current) {\n                        intent.current = 0;\n                    }\n                }, swipeAnimationDuration);\n            }\n        } else if (swipeState === SwipeState.SWIPE) {\n            let newSwipeOffset = offset.current - event.deltaX;\n            newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n            offset.current = newSwipeOffset;\n            onSwipeProgress(newSwipeOffset);\n            cancelSwipeResetCleanup();\n            if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n                wheelResidualMomentum.current = event.deltaX;\n                onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n                return;\n            }\n            resetCleanup.current = setTimeout(()=>handleCancelSwipe(newSwipeOffset), 2 * swipeAnimationDuration);\n        } else {\n            wheelResidualMomentum.current = event.deltaX;\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL, onWheel), [\n        subscribeSensors,\n        onWheel\n    ]);\n}\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nfunction Controller({ children, ...props }) {\n    var _a;\n    const { carousel, animation, controller, on, styles, render } = props;\n    const { closeOnPullUp, closeOnPullDown, preventDefaultWheelX, preventDefaultWheelY } = controller;\n    const [toolbarWidth, setToolbarWidth] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const state = useLightboxState();\n    const dispatch = useLightboxDispatch();\n    const [swipeState, setSwipeState] = react__WEBPACK_IMPORTED_MODULE_0__.useState(SwipeState.NONE);\n    const swipeOffset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pullOffset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pullOpacity = react__WEBPACK_IMPORTED_MODULE_0__.useRef(1);\n    const { registerSensors, subscribeSensors } = useSensors();\n    const { subscribe, publish } = useEvents();\n    const cleanupAnimationIncrement = useDelay();\n    const cleanupSwipeOffset = useDelay();\n    const cleanupPullOffset = useDelay();\n    const { containerRef, setContainerRef, containerRect } = useContainerRect();\n    const handleContainerRef = useForkRef(usePreventWheelDefaults({\n        preventDefaultWheelX,\n        preventDefaultWheelY\n    }), setContainerRef);\n    const carouselRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const setCarouselRef = useForkRef(carouselRef, undefined);\n    const { getOwnerDocument } = useDocumentContext();\n    const isRTL = useRTL();\n    const rtl = (value)=>(isRTL ? -1 : 1) * (typeof value === \"number\" ? value : 1);\n    const focus = useEventCallback(()=>{\n        var _a;\n        return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    });\n    const getLightboxProps = useEventCallback(()=>props);\n    const getLightboxState = useEventCallback(()=>state);\n    const prev = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((params)=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV, params), [\n        publish\n    ]);\n    const next = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((params)=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT, params), [\n        publish\n    ]);\n    const close = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE), [\n        publish\n    ]);\n    const isSwipeValid = (offset)=>!(carousel.finite && (rtl(offset) > 0 && state.currentIndex === 0 || rtl(offset) < 0 && state.currentIndex === state.slides.length - 1));\n    const setSwipeOffset = (offset)=>{\n        var _a;\n        swipeOffset.current = offset;\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n    };\n    const setPullOffset = (offset)=>{\n        var _a, _b;\n        pullOffset.current = offset;\n        pullOpacity.current = (()=>{\n            const threshold = 60;\n            const minOpacity = 0.5;\n            const offsetValue = (()=>{\n                if (closeOnPullDown && offset > 0) return offset;\n                if (closeOnPullUp && offset < 0) return -offset;\n                return 0;\n            })();\n            return Math.min(Math.max(round(1 - offsetValue / threshold * (1 - minOpacity), 2), minOpacity), 1);\n        })();\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"pull_offset\"), `${Math.round(offset)}px`);\n        (_b = containerRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(cssVar(\"pull_opacity\"), `${pullOpacity.current}`);\n    };\n    const { prepareAnimation: preparePullAnimation } = useAnimation(carouselRef, (snapshot, rect, translate)=>{\n        if (carouselRef.current && containerRect) {\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(0, ${snapshot.rect.y - rect.y + translate.y}px)`,\n                        opacity: snapshot.opacity\n                    },\n                    {\n                        transform: \"translate(0, 0)\",\n                        opacity: 1\n                    }\n                ],\n                duration: snapshot.duration,\n                easing: animation.easing.fade\n            };\n        }\n        return undefined;\n    });\n    const pull = (offset, cancel)=>{\n        if (closeOnPullUp || closeOnPullDown) {\n            setPullOffset(offset);\n            let duration = 0;\n            if (carouselRef.current) {\n                duration = animation.fade * (cancel ? 2 : 1);\n                preparePullAnimation({\n                    rect: carouselRef.current.getBoundingClientRect(),\n                    opacity: pullOpacity.current,\n                    duration\n                });\n            }\n            cleanupPullOffset(()=>{\n                setPullOffset(0);\n                setSwipeState(SwipeState.NONE);\n            }, duration);\n            setSwipeState(SwipeState.ANIMATION);\n            if (!cancel) {\n                close();\n            }\n        }\n    };\n    const { prepareAnimation, isAnimationPlaying } = useAnimation(carouselRef, (snapshot, rect, translate)=>{\n        var _a;\n        if (carouselRef.current && containerRect && ((_a = state.animation) === null || _a === void 0 ? void 0 : _a.duration)) {\n            const parsedSpacing = parseLengthPercentage(carousel.spacing);\n            const spacingValue = (parsedSpacing.percent ? parsedSpacing.percent * containerRect.width / 100 : parsedSpacing.pixel) || 0;\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(${rtl(state.globalIndex - snapshot.index) * (containerRect.width + spacingValue) + snapshot.rect.x - rect.x + translate.x}px, 0)`\n                    },\n                    {\n                        transform: \"translate(0, 0)\"\n                    }\n                ],\n                duration: state.animation.duration,\n                easing: state.animation.easing\n            };\n        }\n        return undefined;\n    });\n    const swipe = useEventCallback((action)=>{\n        var _a, _b;\n        const currentSwipeOffset = action.offset || 0;\n        const swipeDuration = !currentSwipeOffset ? (_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe : animation.swipe;\n        const swipeEasing = !currentSwipeOffset && !isAnimationPlaying() ? animation.easing.navigation : animation.easing.swipe;\n        let { direction } = action;\n        const count = (_b = action.count) !== null && _b !== void 0 ? _b : 1;\n        let newSwipeState = SwipeState.ANIMATION;\n        let newSwipeAnimationDuration = swipeDuration * count;\n        if (!direction) {\n            const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n            const elapsedTime = action.duration || 0;\n            const expectedTime = containerWidth ? swipeDuration / containerWidth * Math.abs(currentSwipeOffset) : swipeDuration;\n            if (count !== 0) {\n                if (elapsedTime < expectedTime) {\n                    newSwipeAnimationDuration = newSwipeAnimationDuration / expectedTime * Math.max(elapsedTime, expectedTime / 5);\n                } else if (containerWidth) {\n                    newSwipeAnimationDuration = swipeDuration / containerWidth * (containerWidth - Math.abs(currentSwipeOffset));\n                }\n                direction = rtl(currentSwipeOffset) > 0 ? _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV : _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT;\n            } else {\n                newSwipeAnimationDuration = swipeDuration / 2;\n            }\n        }\n        let increment = 0;\n        if (direction === _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV) {\n            if (isSwipeValid(rtl(1))) {\n                increment = -count;\n            } else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        } else if (direction === _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT) {\n            if (isSwipeValid(rtl(-1))) {\n                increment = count;\n            } else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n        cleanupSwipeOffset(()=>{\n            setSwipeOffset(0);\n            setSwipeState(SwipeState.NONE);\n        }, newSwipeAnimationDuration);\n        if (carouselRef.current) {\n            prepareAnimation({\n                rect: carouselRef.current.getBoundingClientRect(),\n                index: state.globalIndex\n            });\n        }\n        setSwipeState(newSwipeState);\n        publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE, {\n            type: \"swipe\",\n            increment,\n            duration: newSwipeAnimationDuration,\n            easing: swipeEasing\n        });\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        var _a, _b;\n        if (((_a = state.animation) === null || _a === void 0 ? void 0 : _a.increment) && ((_b = state.animation) === null || _b === void 0 ? void 0 : _b.duration)) {\n            cleanupAnimationIncrement(()=>dispatch({\n                    type: \"swipe\",\n                    increment: 0\n                }), state.animation.duration);\n        }\n    }, [\n        state.animation,\n        dispatch,\n        cleanupAnimationIncrement\n    ]);\n    const swipeParams = [\n        subscribeSensors,\n        isSwipeValid,\n        (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0,\n        animation.swipe,\n        ()=>setSwipeState(SwipeState.SWIPE),\n        (offset)=>setSwipeOffset(offset),\n        (offset, duration)=>swipe({\n                offset,\n                duration,\n                count: 1\n            }),\n        (offset)=>swipe({\n                offset,\n                count: 0\n            })\n    ];\n    const pullParams = [\n        ()=>{\n            if (closeOnPullDown) {\n                setSwipeState(SwipeState.PULL);\n            }\n        },\n        (offset)=>setPullOffset(offset),\n        (offset)=>pull(offset),\n        (offset)=>pull(offset, true)\n    ];\n    usePointerSwipe(...swipeParams, closeOnPullUp, closeOnPullDown, ...pullParams);\n    useWheelSwipe(swipeState, ...swipeParams);\n    const focusOnMount = useEventCallback(()=>{\n        if (controller.focus && getOwnerDocument().querySelector(`.${cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL)} .${cssClass(cssContainerPrefix())}`)) {\n            focus();\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(focusOnMount, [\n        focusOnMount\n    ]);\n    const onViewCallback = useEventCallback(()=>{\n        var _a;\n        (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, {\n            index: state.currentIndex\n        });\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(onViewCallback, [\n        state.globalIndex,\n        onViewCallback\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>cleanup(subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV, (action)=>swipe({\n                direction: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV,\n                ...action\n            })), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT, (action)=>swipe({\n                direction: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT,\n                ...action\n            })), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE, (action)=>dispatch(action))), [\n        subscribe,\n        swipe,\n        dispatch\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>({\n            prev,\n            next,\n            close,\n            focus,\n            slideRect: containerRect ? computeSlideRect(containerRect, carousel.padding) : {\n                width: 0,\n                height: 0\n            },\n            containerRect: containerRect || {\n                width: 0,\n                height: 0\n            },\n            subscribeSensors,\n            containerRef,\n            setCarouselRef,\n            toolbarWidth,\n            setToolbarWidth\n        }), [\n        prev,\n        next,\n        close,\n        focus,\n        subscribeSensors,\n        containerRect,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n        carousel.padding\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(controller.ref, ()=>({\n            prev,\n            next,\n            close,\n            focus,\n            getLightboxProps,\n            getLightboxState\n        }), [\n        prev,\n        next,\n        close,\n        focus,\n        getLightboxProps,\n        getLightboxState\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: handleContainerRef,\n        className: clsx(cssClass(cssContainerPrefix()), cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)),\n        style: {\n            ...swipeState === SwipeState.SWIPE ? {\n                [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px`\n            } : null,\n            ...swipeState === SwipeState.PULL ? {\n                [cssVar(\"pull_offset\")]: `${Math.round(pullOffset.current)}px`,\n                [cssVar(\"pull_opacity\")]: `${pullOpacity.current}`\n            } : null,\n            ...controller.touchAction !== \"none\" ? {\n                [cssVar(\"controller_touch_action\")]: controller.touchAction\n            } : null,\n            ...styles.container\n        },\n        ...controller.aria ? {\n            role: \"presentation\",\n            \"aria-live\": \"polite\"\n        } : null,\n        tabIndex: -1,\n        ...registerSensors\n    }, containerRect && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ControllerContext.Provider, {\n        value: context\n    }, children, (_a = render.controls) === null || _a === void 0 ? void 0 : _a.call(render)));\n}\nconst ControllerModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, Controller);\nfunction cssPrefix$2(value) {\n    return composePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CAROUSEL, value);\n}\nfunction cssSlidePrefix(value) {\n    return composePrefix(\"slide\", value);\n}\nfunction CarouselSlide({ slide, offset }) {\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { currentIndex } = useLightboxState();\n    const { slideRect, close } = useController();\n    const { render, carousel: { imageFit, imageProps }, on: { click: onClick }, controller: { closeOnBackdropClick }, styles: { slide: style } } = useLightboxProps();\n    const renderSlide = ()=>{\n        var _a, _b, _c, _d;\n        let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, {\n            slide,\n            offset,\n            rect: slideRect\n        });\n        if (!rendered && isImageSlide(slide)) {\n            rendered = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ImageSlide, {\n                slide: slide,\n                offset: offset,\n                render: render,\n                rect: slideRect,\n                imageFit: imageFit,\n                imageProps: imageProps,\n                onClick: offset === 0 ? ()=>onClick === null || onClick === void 0 ? void 0 : onClick({\n                        index: currentIndex\n                    }) : undefined\n            });\n        }\n        return rendered ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 : _b.call(render, {\n            slide\n        }), ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : ({ children })=>children)({\n            slide,\n            children: rendered\n        }), (_d = render.slideFooter) === null || _d === void 0 ? void 0 : _d.call(render, {\n            slide\n        })) : null;\n    };\n    const handleBackdropClick = (event)=>{\n        const container = containerRef.current;\n        const target = event.target instanceof HTMLElement ? event.target : undefined;\n        if (closeOnBackdropClick && target && container && (target === container || Array.from(container.children).find((x)=>x === target) && target.classList.contains(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER)))) {\n            close();\n        }\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: containerRef,\n        className: clsx(cssClass(cssSlidePrefix()), offset === 0 && cssClass(cssSlidePrefix(\"current\")), cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)),\n        onClick: handleBackdropClick,\n        style: style\n    }, renderSlide());\n}\nfunction Placeholder() {\n    const style = useLightboxProps().styles.slide;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: cssClass(\"slide\"),\n        style: style\n    });\n}\nfunction Carousel({ carousel }) {\n    const { slides, currentIndex, globalIndex } = useLightboxState();\n    const { setCarouselRef } = useController();\n    const spacingValue = parseLengthPercentage(carousel.spacing);\n    const paddingValue = parseLengthPercentage(carousel.padding);\n    const preload = calculatePreload(carousel, slides, 1);\n    const items = [];\n    if (hasSlides(slides)) {\n        for(let index = currentIndex - preload; index <= currentIndex + preload; index += 1){\n            const slide = getSlide(slides, index);\n            const key = globalIndex - currentIndex + index;\n            const placeholder = carousel.finite && (index < 0 || index > slides.length - 1);\n            items.push(!placeholder ? {\n                key: [\n                    `${key}`,\n                    getSlideKey(slide)\n                ].filter(Boolean).join(\"|\"),\n                offset: index - currentIndex,\n                slide\n            } : {\n                key\n            });\n        }\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: setCarouselRef,\n        className: clsx(cssClass(cssPrefix$2()), items.length > 0 && cssClass(cssPrefix$2(\"with_slides\"))),\n        style: {\n            [`${cssVar(cssPrefix$2(\"slides_count\"))}`]: items.length,\n            [`${cssVar(cssPrefix$2(\"spacing_px\"))}`]: spacingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"spacing_percent\"))}`]: spacingValue.percent || 0,\n            [`${cssVar(cssPrefix$2(\"padding_px\"))}`]: paddingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"padding_percent\"))}`]: paddingValue.percent || 0\n        }\n    }, items.map(({ key, slide, offset })=>slide ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CarouselSlide, {\n            key: key,\n            slide: slide,\n            offset: offset\n        }) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Placeholder, {\n            key: key\n        })));\n}\nconst CarouselModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CAROUSEL, Carousel);\nfunction useNavigationState() {\n    const { carousel } = useLightboxProps();\n    const { slides, currentIndex } = useLightboxState();\n    const prevDisabled = slides.length === 0 || carousel.finite && currentIndex === 0;\n    const nextDisabled = slides.length === 0 || carousel.finite && currentIndex === slides.length - 1;\n    return {\n        prevDisabled,\n        nextDisabled\n    };\n}\nfunction useKeyboardNavigation(subscribeSensors) {\n    var _a;\n    const isRTL = useRTL();\n    const { publish } = useEvents();\n    const { animation } = useLightboxProps();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    const throttle = ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) / 2;\n    const prev = useThrottle(()=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV), throttle);\n    const next = useThrottle(()=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT), throttle);\n    const handleKeyDown = useEventCallback((event)=>{\n        switch(event.key){\n            case _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ESCAPE:\n                publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE);\n                break;\n            case _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_LEFT:\n                if (!(isRTL ? nextDisabled : prevDisabled)) (isRTL ? next : prev)();\n                break;\n            case _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_RIGHT:\n                if (!(isRTL ? prevDisabled : nextDisabled)) (isRTL ? prev : next)();\n                break;\n            default:\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN, handleKeyDown), [\n        subscribeSensors,\n        handleKeyDown\n    ]);\n}\nfunction NavigationButton({ label, icon, renderIcon, action, onClick, disabled, style }) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconButton, {\n        label: label,\n        icon: icon,\n        renderIcon: renderIcon,\n        className: cssClass(`navigation_${action}`),\n        disabled: disabled,\n        onClick: onClick,\n        style: style,\n        ...useLoseFocus(useController().focus, disabled)\n    });\n}\nfunction Navigation({ render: { buttonPrev, buttonNext, iconPrev, iconNext }, styles }) {\n    const { prev, next, subscribeSensors } = useController();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    useKeyboardNavigation(subscribeSensors);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, buttonPrev ? buttonPrev() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NavigationButton, {\n        label: \"Previous\",\n        action: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV,\n        icon: PreviousIcon,\n        renderIcon: iconPrev,\n        style: styles.navigationPrev,\n        disabled: prevDisabled,\n        onClick: prev\n    }), buttonNext ? buttonNext() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NavigationButton, {\n        label: \"Next\",\n        action: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT,\n        icon: NextIcon,\n        renderIcon: iconNext,\n        style: styles.navigationNext,\n        disabled: nextDisabled,\n        onClick: next\n    }));\n}\nconst NavigationModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NAVIGATION, Navigation);\nconst noScroll = cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL_PADDING);\nfunction isHTMLElement(element) {\n    return \"style\" in element;\n}\nfunction padScrollbar(element, padding, rtl) {\n    const styles = window.getComputedStyle(element);\n    const property = rtl ? \"padding-left\" : \"padding-right\";\n    const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n    const originalValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, `${(parseInt(computedValue) || 0) + padding}px`);\n    return ()=>{\n        if (originalValue) {\n            element.style.setProperty(property, originalValue);\n        } else {\n            element.style.removeProperty(property);\n        }\n    };\n}\nfunction NoScroll({ noScroll: { disabled }, children }) {\n    const rtl = useRTL();\n    const { getOwnerDocument, getOwnerWindow } = useDocumentContext();\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (disabled) return ()=>{};\n        const cleanup = [];\n        const ownerWindow = getOwnerWindow();\n        const { body, documentElement } = getOwnerDocument();\n        const scrollbar = Math.round(ownerWindow.innerWidth - documentElement.clientWidth);\n        if (scrollbar > 0) {\n            cleanup.push(padScrollbar(body, scrollbar, rtl));\n            const elements = body.getElementsByTagName(\"*\");\n            for(let i = 0; i < elements.length; i += 1){\n                const element = elements[i];\n                if (isHTMLElement(element) && ownerWindow.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" && !element.classList.contains(noScrollPadding)) {\n                    cleanup.push(padScrollbar(element, scrollbar, rtl));\n                }\n            }\n        }\n        body.classList.add(noScroll);\n        return ()=>{\n            body.classList.remove(noScroll);\n            cleanup.forEach((clean)=>clean());\n        };\n    }, [\n        rtl,\n        disabled,\n        getOwnerDocument,\n        getOwnerWindow\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nconst NoScrollModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NO_SCROLL, NoScroll);\nfunction cssPrefix$1(value) {\n    return composePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL, value);\n}\nfunction setAttribute(element, attribute, value) {\n    const previousValue = element.getAttribute(attribute);\n    element.setAttribute(attribute, value);\n    return ()=>{\n        if (previousValue) {\n            element.setAttribute(attribute, previousValue);\n        } else {\n            element.removeAttribute(attribute);\n        }\n    };\n}\nfunction Portal({ children, animation, styles, className, on, portal, close }) {\n    const [mounted, setMounted] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const [visible, setVisible] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const cleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n    const restoreFocus = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { setTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const reduceMotion = useMotionPreference();\n    const animationDuration = !reduceMotion ? animation.fade : 0;\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        setMounted(true);\n        return ()=>{\n            setMounted(false);\n            setVisible(false);\n        };\n    }, []);\n    const handleCleanup = useEventCallback(()=>{\n        cleanup.current.forEach((clean)=>clean());\n        cleanup.current = [];\n    });\n    const handleClose = useEventCallback(()=>{\n        var _a;\n        setVisible(false);\n        handleCleanup();\n        (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n        setTimeout(()=>{\n            var _a;\n            (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n            close();\n        }, animationDuration);\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE, handleClose), [\n        subscribe,\n        handleClose\n    ]);\n    const handleEnter = useEventCallback((node)=>{\n        var _a, _b, _c;\n        node.scrollTop;\n        setVisible(true);\n        (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n        const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n        for(let i = 0; i < elements.length; i += 1){\n            const element = elements[i];\n            if ([\n                \"TEMPLATE\",\n                \"SCRIPT\",\n                \"STYLE\"\n            ].indexOf(element.tagName) === -1 && element !== node) {\n                cleanup.current.push(setAttribute(element, \"inert\", \"true\"));\n                cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n            }\n        }\n        cleanup.current.push(()=>{\n            var _a, _b;\n            (_b = (_a = restoreFocus.current) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n        setTimeout(()=>{\n            var _a;\n            (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n        }, animationDuration);\n    });\n    const handleRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node)=>{\n        if (node) {\n            handleEnter(node);\n        } else {\n            handleCleanup();\n        }\n    }, [\n        handleEnter,\n        handleCleanup\n    ]);\n    return mounted ? /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxRoot, {\n        ref: handleRef,\n        className: clsx(className, cssClass(cssPrefix$1()), cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix$1(\"open\"))),\n        role: \"presentation\",\n        \"aria-live\": \"polite\",\n        style: {\n            ...animation.fade !== LightboxDefaultProps.animation.fade ? {\n                [cssVar(\"fade_animation_duration\")]: `${animationDuration}ms`\n            } : null,\n            ...animation.easing.fade !== LightboxDefaultProps.animation.easing.fade ? {\n                [cssVar(\"fade_animation_timing_function\")]: animation.easing.fade\n            } : null,\n            ...styles.root\n        },\n        onFocus: (event)=>{\n            if (!restoreFocus.current) {\n                restoreFocus.current = event.relatedTarget;\n            }\n        }\n    }, children), portal.root || document.body) : null;\n}\nconst PortalModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL, Portal);\nfunction Root({ children }) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nconst RootModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_ROOT, Root);\nfunction cssPrefix(value) {\n    return composePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_TOOLBAR, value);\n}\nfunction Toolbar({ toolbar: { buttons }, render: { buttonClose, iconClose }, styles }) {\n    const { close, setToolbarWidth } = useController();\n    const { setContainerRef, containerRect } = useContainerRect();\n    useLayoutEffect(()=>{\n        setToolbarWidth(containerRect === null || containerRect === void 0 ? void 0 : containerRect.width);\n    }, [\n        setToolbarWidth,\n        containerRect === null || containerRect === void 0 ? void 0 : containerRect.width\n    ]);\n    const renderCloseButton = ()=>{\n        if (buttonClose) return buttonClose();\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconButton, {\n            key: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE,\n            label: \"Close\",\n            icon: CloseIcon,\n            renderIcon: iconClose,\n            onClick: close\n        });\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: setContainerRef,\n        style: styles.toolbar,\n        className: cssClass(cssPrefix())\n    }, buttons === null || buttons === void 0 ? void 0 : buttons.map((button)=>button === _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE ? renderCloseButton() : button));\n}\nconst ToolbarModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_TOOLBAR, Toolbar);\nfunction renderNode(node, props) {\n    var _a;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(node.module.component, {\n        key: node.module.name,\n        ...props\n    }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map((child)=>renderNode(child, props)));\n}\nfunction mergeAnimation(defaultAnimation, animation = {}) {\n    const { easing: defaultAnimationEasing, ...restDefaultAnimation } = defaultAnimation;\n    const { easing, ...restAnimation } = animation;\n    return {\n        easing: {\n            ...defaultAnimationEasing,\n            ...easing\n        },\n        ...restDefaultAnimation,\n        ...restAnimation\n    };\n}\nfunction Lightbox({ carousel, animation, render, toolbar, controller, noScroll, on, plugins, slides, index, ...restProps }) {\n    const { animation: defaultAnimation, carousel: defaultCarousel, render: defaultRender, toolbar: defaultToolbar, controller: defaultController, noScroll: defaultNoScroll, on: defaultOn, slides: defaultSlides, index: defaultIndex, plugins: defaultPlugins, ...restDefaultProps } = LightboxDefaultProps;\n    const { config, augmentation } = withPlugins([\n        createNode(PortalModule, [\n            createNode(NoScrollModule, [\n                createNode(ControllerModule, [\n                    createNode(CarouselModule),\n                    createNode(ToolbarModule),\n                    createNode(NavigationModule)\n                ])\n            ])\n        ])\n    ], plugins || defaultPlugins);\n    const props = augmentation({\n        animation: mergeAnimation(defaultAnimation, animation),\n        carousel: {\n            ...defaultCarousel,\n            ...carousel\n        },\n        render: {\n            ...defaultRender,\n            ...render\n        },\n        toolbar: {\n            ...defaultToolbar,\n            ...toolbar\n        },\n        controller: {\n            ...defaultController,\n            ...controller\n        },\n        noScroll: {\n            ...defaultNoScroll,\n            ...noScroll\n        },\n        on: {\n            ...defaultOn,\n            ...on\n        },\n        ...restDefaultProps,\n        ...restProps\n    });\n    if (!props.open) return null;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxPropsProvider, {\n        ...props\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxStateProvider, {\n        slides: slides || defaultSlides,\n        index: parseInt(index || defaultIndex)\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TimeoutsProvider, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EventsProvider, null, renderNode(createNode(RootModule, config), props)))));\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bXNFQUMrQjtBQUNpcEI7QUFDdm9CO0FBQ29RO0FBRTdTLE1BQU1xRCxjQUFjO0FBQ3BCLFNBQVNDLEtBQUssR0FBR0MsT0FBTztJQUNwQixPQUFPO1dBQUlBO0tBQVEsQ0FBQ0MsTUFBTSxDQUFDQyxTQUFTQyxJQUFJLENBQUM7QUFDN0M7QUFDQSxTQUFTQyxTQUFTQyxJQUFJO0lBQ2xCLE9BQU8sQ0FBQyxFQUFFUCxZQUFZLEVBQUVPLEtBQUssQ0FBQztBQUNsQztBQUNBLFNBQVNDLE9BQU9ELElBQUk7SUFDaEIsT0FBTyxDQUFDLEVBQUUsRUFBRVAsWUFBWSxFQUFFTyxLQUFLLENBQUM7QUFDcEM7QUFDQSxTQUFTRSxjQUFjQyxJQUFJLEVBQUVDLE1BQU07SUFDL0IsT0FBTyxDQUFDLEVBQUVELEtBQUssRUFBRUMsU0FBUyxDQUFDLENBQUMsRUFBRUEsT0FBTyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ2pEO0FBQ0EsU0FBU0Msa0JBQWtCRixJQUFJO0lBQzNCLE9BQU8sQ0FBQ0MsU0FBV0YsY0FBY0MsTUFBTUM7QUFDM0M7QUFDQSxTQUFTRSxNQUFNQyxNQUFNLEVBQUVDLFlBQVk7SUFDL0IsSUFBSUM7SUFDSixPQUFPLENBQUNBLEtBQUtGLFdBQVcsUUFBUUEsV0FBVyxLQUFLLElBQUksS0FBSyxJQUFJQSxNQUFNLENBQUNDLGFBQWEsTUFBTSxRQUFRQyxPQUFPLEtBQUssSUFBSUEsS0FBS0Q7QUFDeEg7QUFDQSxTQUFTRSxRQUFRLEdBQUdDLFFBQVE7SUFD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RSxHQUFHakMsS0FBSztJQUFDLGlCQUMxRDlNLGdEQUFtQixDQUFDNFAsdUJBQXVCO1FBQUV6SSxRQUFRQSxVQUFVMGlCO1FBQWU3aUIsT0FBT2pCLFNBQVNpQixTQUFTOGlCO0lBQWMsaUJBQ2pIOXBCLGdEQUFtQixDQUFDaVEsa0JBQWtCLG9CQUNsQ2pRLGdEQUFtQixDQUFDaU8sZ0JBQWdCLE1BQU02YSxXQUFXN2QsV0FBV3NkLFlBQVl4YyxTQUFTZTtBQUNyRztBQUVtaUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taWNoYWVsLWNvcmtlci1hcnR3b3JrLy4vbm9kZV9tb2R1bGVzL3lldC1hbm90aGVyLXJlYWN0LWxpZ2h0Ym94L2Rpc3QvaW5kZXguanM/NTJlMiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJTUFHRV9GSVRfQ09WRVIsIElNQUdFX0ZJVF9DT05UQUlOLCBBQ1RJT05fQ0xPU0UsIE1PRFVMRV9DT05UUk9MTEVSLCBVTktOT1dOX0FDVElPTl9UWVBFLCBFTEVNRU5UX0JVVFRPTiwgRUxFTUVOVF9JQ09OLCBFVkVOVF9PTl9QT0lOVEVSX0RPV04sIEVWRU5UX09OX1BPSU5URVJfTU9WRSwgRVZFTlRfT05fUE9JTlRFUl9VUCwgRVZFTlRfT05fUE9JTlRFUl9MRUFWRSwgRVZFTlRfT05fUE9JTlRFUl9DQU5DRUwsIEVWRU5UX09OX0tFWV9ET1dOLCBFVkVOVF9PTl9LRVlfVVAsIEVWRU5UX09OX1dIRUVMLCBTTElERV9TVEFUVVNfTE9BRElORywgYWN0aXZlU2xpZGVTdGF0dXMsIFNMSURFX1NUQVRVU19DT01QTEVURSwgU0xJREVfU1RBVFVTX0VSUk9SLCBTTElERV9TVEFUVVNfUExBQ0VIT0xERVIsIEFDVElPTl9QUkVWLCBBQ1RJT05fTkVYVCwgQUNUSU9OX1NXSVBFLCBNT0RVTEVfUE9SVEFMLCBDTEFTU19GTEVYX0NFTlRFUiwgTU9EVUxFX0NBUk9VU0VMLCBDTEFTU19TTElERV9XUkFQUEVSLCBWS19BUlJPV19SSUdIVCwgVktfQVJST1dfTEVGVCwgVktfRVNDQVBFLCBNT0RVTEVfTkFWSUdBVElPTiwgQ0xBU1NfTk9fU0NST0xMLCBDTEFTU19OT19TQ1JPTExfUEFERElORywgTU9EVUxFX05PX1NDUk9MTCwgTU9EVUxFX1JPT1QsIE1PRFVMRV9UT09MQkFSIH0gZnJvbSAnLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xuZXhwb3J0IHsgQUNUSVZFX1NMSURFX0NPTVBMRVRFLCBBQ1RJVkVfU0xJREVfRVJST1IsIEFDVElWRV9TTElERV9MT0FESU5HLCBBQ1RJVkVfU0xJREVfUExBWUlORywgQ0xBU1NfRlVMTFNJWkUsIFBMVUdJTl9DQVBUSU9OUywgUExVR0lOX0NPVU5URVIsIFBMVUdJTl9ET1dOTE9BRCwgUExVR0lOX0ZVTExTQ1JFRU4sIFBMVUdJTl9JTkxJTkUsIFBMVUdJTl9TSEFSRSwgUExVR0lOX1NMSURFU0hPVywgUExVR0lOX1RIVU1CTkFJTFMsIFBMVUdJTl9aT09NLCBTTElERV9TVEFUVVNfUExBWUlORyB9IGZyb20gJy4vdHlwZXMuanMnO1xuXG5jb25zdCBjc3NQcmVmaXgkMyA9IFwieWFybF9fXCI7XG5mdW5jdGlvbiBjbHN4KC4uLmNsYXNzZXMpIHtcbiAgICByZXR1cm4gWy4uLmNsYXNzZXNdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbn1cbmZ1bmN0aW9uIGNzc0NsYXNzKG5hbWUpIHtcbiAgICByZXR1cm4gYCR7Y3NzUHJlZml4JDN9JHtuYW1lfWA7XG59XG5mdW5jdGlvbiBjc3NWYXIobmFtZSkge1xuICAgIHJldHVybiBgLS0ke2Nzc1ByZWZpeCQzfSR7bmFtZX1gO1xufVxuZnVuY3Rpb24gY29tcG9zZVByZWZpeChiYXNlLCBwcmVmaXgpIHtcbiAgICByZXR1cm4gYCR7YmFzZX0ke3ByZWZpeCA/IGBfJHtwcmVmaXh9YCA6IFwiXCJ9YDtcbn1cbmZ1bmN0aW9uIG1ha2VDb21wb3NlUHJlZml4KGJhc2UpIHtcbiAgICByZXR1cm4gKHByZWZpeCkgPT4gY29tcG9zZVByZWZpeChiYXNlLCBwcmVmaXgpO1xufVxuZnVuY3Rpb24gbGFiZWwobGFiZWxzLCBkZWZhdWx0TGFiZWwpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IGxhYmVscyA9PT0gbnVsbCB8fCBsYWJlbHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxhYmVsc1tkZWZhdWx0TGFiZWxdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0TGFiZWw7XG59XG5mdW5jdGlvbiBjbGVhbnVwKC4uLmNsZWFuZXJzKSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY2xlYW5lcnMuZm9yRWFjaCgoY2xlYW5lcikgPT4ge1xuICAgICAgICAgICAgY2xlYW5lcigpO1xuICAgICAgICB9KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbWFrZVVzZUNvbnRleHQobmFtZSwgY29udGV4dE5hbWUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdHggPSBSZWFjdC51c2VDb250ZXh0KGNvbnRleHQpO1xuICAgICAgICBpZiAoIWN0eCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke25hbWV9IG11c3QgYmUgdXNlZCB3aXRoaW4gYSAke2NvbnRleHROYW1lfS5Qcm92aWRlcmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdHg7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGhhc1dpbmRvdygpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbn1cbmZ1bmN0aW9uIHJvdW5kKHZhbHVlLCBkZWNpbWFscyA9IDApIHtcbiAgICBjb25zdCBmYWN0b3IgPSAxMCAqKiBkZWNpbWFscztcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgodmFsdWUgKyBOdW1iZXIuRVBTSUxPTikgKiBmYWN0b3IpIC8gZmFjdG9yO1xufVxuZnVuY3Rpb24gaXNJbWFnZVNsaWRlKHNsaWRlKSB7XG4gICAgcmV0dXJuIHNsaWRlLnR5cGUgPT09IHVuZGVmaW5lZCB8fCBzbGlkZS50eXBlID09PSBcImltYWdlXCI7XG59XG5mdW5jdGlvbiBpc0ltYWdlRml0Q292ZXIoaW1hZ2UsIGltYWdlRml0KSB7XG4gICAgcmV0dXJuIGltYWdlLmltYWdlRml0ID09PSBJTUFHRV9GSVRfQ09WRVIgfHwgKGltYWdlLmltYWdlRml0ICE9PSBJTUFHRV9GSVRfQ09OVEFJTiAmJiBpbWFnZUZpdCA9PT0gSU1BR0VfRklUX0NPVkVSKTtcbn1cbmZ1bmN0aW9uIHBhcnNlSW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IE51bWJlci5wYXJzZUludCh2YWx1ZSwgMTApIDogdmFsdWU7XG59XG5mdW5jdGlvbiBwYXJzZUxlbmd0aFBlcmNlbnRhZ2UoaW5wdXQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiB7IHBpeGVsOiBpbnB1dCB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoaW5wdXQpO1xuICAgICAgICByZXR1cm4gaW5wdXQuZW5kc1dpdGgoXCIlXCIpID8geyBwZXJjZW50OiB2YWx1ZSB9IDogeyBwaXhlbDogdmFsdWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcGl4ZWw6IDAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVTbGlkZVJlY3QoY29udGFpbmVyUmVjdCwgcGFkZGluZykge1xuICAgIGNvbnN0IHBhZGRpbmdWYWx1ZSA9IHBhcnNlTGVuZ3RoUGVyY2VudGFnZShwYWRkaW5nKTtcbiAgICBjb25zdCBwYWRkaW5nUGl4ZWxzID0gcGFkZGluZ1ZhbHVlLnBlcmNlbnQgIT09IHVuZGVmaW5lZCA/IChjb250YWluZXJSZWN0LndpZHRoIC8gMTAwKSAqIHBhZGRpbmdWYWx1ZS5wZXJjZW50IDogcGFkZGluZ1ZhbHVlLnBpeGVsO1xuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBNYXRoLm1heChjb250YWluZXJSZWN0LndpZHRoIC0gMiAqIHBhZGRpbmdQaXhlbHMsIDApLFxuICAgICAgICBoZWlnaHQ6IE1hdGgubWF4KGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gMiAqIHBhZGRpbmdQaXhlbHMsIDApLFxuICAgIH07XG59XG5mdW5jdGlvbiBkZXZpY2VQaXhlbFJhdGlvKCkge1xuICAgIHJldHVybiAoaGFzV2luZG93KCkgPyB3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6IHVuZGVmaW5lZCkgfHwgMTtcbn1cbmZ1bmN0aW9uIGdldFNsaWRlSW5kZXgoaW5kZXgsIHNsaWRlc0NvdW50KSB7XG4gICAgcmV0dXJuIHNsaWRlc0NvdW50ID4gMCA/ICgoaW5kZXggJSBzbGlkZXNDb3VudCkgKyBzbGlkZXNDb3VudCkgJSBzbGlkZXNDb3VudCA6IDA7XG59XG5mdW5jdGlvbiBoYXNTbGlkZXMoc2xpZGVzKSB7XG4gICAgcmV0dXJuIHNsaWRlcy5sZW5ndGggPiAwO1xufVxuZnVuY3Rpb24gZ2V0U2xpZGUoc2xpZGVzLCBpbmRleCkge1xuICAgIHJldHVybiBzbGlkZXNbZ2V0U2xpZGVJbmRleChpbmRleCwgc2xpZGVzLmxlbmd0aCldO1xufVxuZnVuY3Rpb24gZ2V0U2xpZGVJZlByZXNlbnQoc2xpZGVzLCBpbmRleCkge1xuICAgIHJldHVybiBoYXNTbGlkZXMoc2xpZGVzKSA/IGdldFNsaWRlKHNsaWRlcywgaW5kZXgpIDogdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZ2V0U2xpZGVLZXkoc2xpZGUpIHtcbiAgICByZXR1cm4gaXNJbWFnZVNsaWRlKHNsaWRlKSA/IHNsaWRlLnNyYyA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGFkZFRvb2xiYXJCdXR0b24odG9vbGJhciwga2V5LCBidXR0b24pIHtcbiAgICBpZiAoIWJ1dHRvbilcbiAgICAgICAgcmV0dXJuIHRvb2xiYXI7XG4gICAgY29uc3QgeyBidXR0b25zLCAuLi5yZXN0VG9vbGJhciB9ID0gdG9vbGJhcjtcbiAgICBjb25zdCBpbmRleCA9IGJ1dHRvbnMuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtID09PSBrZXkpO1xuICAgIGNvbnN0IGJ1dHRvbldpdGhLZXkgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChidXR0b24pID8gUmVhY3QuY2xvbmVFbGVtZW50KGJ1dHRvbiwgeyBrZXkgfSwgbnVsbCkgOiBidXR0b247XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWy4uLmJ1dHRvbnNdO1xuICAgICAgICByZXN1bHQuc3BsaWNlKGluZGV4LCAxLCBidXR0b25XaXRoS2V5KTtcbiAgICAgICAgcmV0dXJuIHsgYnV0dG9uczogcmVzdWx0LCAuLi5yZXN0VG9vbGJhciB9O1xuICAgIH1cbiAgICByZXR1cm4geyBidXR0b25zOiBbYnV0dG9uV2l0aEtleSwgLi4uYnV0dG9uc10sIC4uLnJlc3RUb29sYmFyIH07XG59XG5mdW5jdGlvbiBzdG9wTmF2aWdhdGlvbkV2ZW50c1Byb3BhZ2F0aW9uKCkge1xuICAgIGNvbnN0IHN0b3BQcm9wYWdhdGlvbiA9IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9O1xuICAgIHJldHVybiB7IG9uUG9pbnRlckRvd246IHN0b3BQcm9wYWdhdGlvbiwgb25LZXlEb3duOiBzdG9wUHJvcGFnYXRpb24sIG9uV2hlZWw6IHN0b3BQcm9wYWdhdGlvbiB9O1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlUHJlbG9hZChjYXJvdXNlbCwgc2xpZGVzLCBtaW5pbXVtID0gMCkge1xuICAgIHJldHVybiBNYXRoLm1pbihjYXJvdXNlbC5wcmVsb2FkLCBNYXRoLm1heChjYXJvdXNlbC5maW5pdGUgPyBzbGlkZXMubGVuZ3RoIC0gMSA6IE1hdGguZmxvb3Ioc2xpZGVzLmxlbmd0aCAvIDIpLCBtaW5pbXVtKSk7XG59XG5cbmNvbnN0IExpZ2h0Ym94RGVmYXVsdFByb3BzID0ge1xuICAgIG9wZW46IGZhbHNlLFxuICAgIGNsb3NlOiAoKSA9PiB7IH0sXG4gICAgaW5kZXg6IDAsXG4gICAgc2xpZGVzOiBbXSxcbiAgICByZW5kZXI6IHt9LFxuICAgIHBsdWdpbnM6IFtdLFxuICAgIHRvb2xiYXI6IHsgYnV0dG9uczogW0FDVElPTl9DTE9TRV0gfSxcbiAgICBsYWJlbHM6IHt9LFxuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICBmYWRlOiAyNTAsXG4gICAgICAgIHN3aXBlOiA1MDAsXG4gICAgICAgIGVhc2luZzoge1xuICAgICAgICAgICAgZmFkZTogXCJlYXNlXCIsXG4gICAgICAgICAgICBzd2lwZTogXCJlYXNlLW91dFwiLFxuICAgICAgICAgICAgbmF2aWdhdGlvbjogXCJlYXNlLWluLW91dFwiLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgY2Fyb3VzZWw6IHtcbiAgICAgICAgZmluaXRlOiBmYWxzZSxcbiAgICAgICAgcHJlbG9hZDogMixcbiAgICAgICAgcGFkZGluZzogXCIxNnB4XCIsXG4gICAgICAgIHNwYWNpbmc6IFwiMzAlXCIsXG4gICAgICAgIGltYWdlRml0OiBJTUFHRV9GSVRfQ09OVEFJTixcbiAgICAgICAgaW1hZ2VQcm9wczoge30sXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiB7XG4gICAgICAgIHJlZjogbnVsbCxcbiAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgIGFyaWE6IGZhbHNlLFxuICAgICAgICB0b3VjaEFjdGlvbjogXCJub25lXCIsXG4gICAgICAgIGNsb3NlT25QdWxsVXA6IGZhbHNlLFxuICAgICAgICBjbG9zZU9uUHVsbERvd246IGZhbHNlLFxuICAgICAgICBjbG9zZU9uQmFja2Ryb3BDbGljazogZmFsc2UsXG4gICAgICAgIHByZXZlbnREZWZhdWx0V2hlZWxYOiB0cnVlLFxuICAgICAgICBwcmV2ZW50RGVmYXVsdFdoZWVsWTogZmFsc2UsXG4gICAgfSxcbiAgICBwb3J0YWw6IHt9LFxuICAgIG5vU2Nyb2xsOiB7XG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICB9LFxuICAgIG9uOiB7fSxcbiAgICBzdHlsZXM6IHt9LFxuICAgIGNsYXNzTmFtZTogXCJcIixcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZU1vZHVsZShuYW1lLCBjb21wb25lbnQpIHtcbiAgICByZXR1cm4geyBuYW1lLCBjb21wb25lbnQgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU5vZGUobW9kdWxlLCBjaGlsZHJlbikge1xuICAgIHJldHVybiB7IG1vZHVsZSwgY2hpbGRyZW4gfTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlTm9kZShub2RlLCB0YXJnZXQsIGFwcGx5KSB7XG4gICAgaWYgKG5vZGUubW9kdWxlLm5hbWUgPT09IHRhcmdldCkge1xuICAgICAgICByZXR1cm4gYXBwbHkobm9kZSk7XG4gICAgfVxuICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBjcmVhdGVOb2RlKG5vZGUubW9kdWxlLCBub2RlLmNoaWxkcmVuLmZsYXRNYXAoKG4pID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdHJhdmVyc2VOb2RlKG4sIHRhcmdldCwgYXBwbHkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTsgfSkpLFxuICAgICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gW25vZGVdO1xufVxuZnVuY3Rpb24gdHJhdmVyc2Uobm9kZXMsIHRhcmdldCwgYXBwbHkpIHtcbiAgICByZXR1cm4gbm9kZXMuZmxhdE1hcCgobm9kZSkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0cmF2ZXJzZU5vZGUobm9kZSwgdGFyZ2V0LCBhcHBseSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdOyB9KTtcbn1cbmZ1bmN0aW9uIHdpdGhQbHVnaW5zKHJvb3QsIHBsdWdpbnMgPSBbXSwgYXVnbWVudGF0aW9ucyA9IFtdKSB7XG4gICAgbGV0IGNvbmZpZyA9IHJvb3Q7XG4gICAgY29uc3QgY29udGFpbnMgPSAodGFyZ2V0KSA9PiB7XG4gICAgICAgIGNvbnN0IG5vZGVzID0gWy4uLmNvbmZpZ107XG4gICAgICAgIHdoaWxlIChub2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXMucG9wKCk7XG4gICAgICAgICAgICBpZiAoKG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5tb2R1bGUubmFtZSkgPT09IHRhcmdldClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgbm9kZXMucHVzaCguLi5ub2RlLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBjb25zdCBhZGRQYXJlbnQgPSAodGFyZ2V0LCBtb2R1bGUpID0+IHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gXCJcIikge1xuICAgICAgICAgICAgY29uZmlnID0gW2NyZWF0ZU5vZGUobW9kdWxlLCBjb25maWcpXTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25maWcgPSB0cmF2ZXJzZShjb25maWcsIHRhcmdldCwgKG5vZGUpID0+IFtjcmVhdGVOb2RlKG1vZHVsZSwgW25vZGVdKV0pO1xuICAgIH07XG4gICAgY29uc3QgYXBwZW5kID0gKHRhcmdldCwgbW9kdWxlKSA9PiB7XG4gICAgICAgIGNvbmZpZyA9IHRyYXZlcnNlKGNvbmZpZywgdGFyZ2V0LCAobm9kZSkgPT4gW2NyZWF0ZU5vZGUobm9kZS5tb2R1bGUsIFtjcmVhdGVOb2RlKG1vZHVsZSwgbm9kZS5jaGlsZHJlbildKV0pO1xuICAgIH07XG4gICAgY29uc3QgYWRkQ2hpbGQgPSAodGFyZ2V0LCBtb2R1bGUsIHByZWNlZGUpID0+IHtcbiAgICAgICAgY29uZmlnID0gdHJhdmVyc2UoY29uZmlnLCB0YXJnZXQsIChub2RlKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGNyZWF0ZU5vZGUobm9kZS5tb2R1bGUsIFtcbiAgICAgICAgICAgICAgICAgICAgLi4uKHByZWNlZGUgPyBbY3JlYXRlTm9kZShtb2R1bGUpXSA6IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uKChfYSA9IG5vZGUuY2hpbGRyZW4pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uKCFwcmVjZWRlID8gW2NyZWF0ZU5vZGUobW9kdWxlKV0gOiBbXSksXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFNpYmxpbmcgPSAodGFyZ2V0LCBtb2R1bGUsIHByZWNlZGUpID0+IHtcbiAgICAgICAgY29uZmlnID0gdHJhdmVyc2UoY29uZmlnLCB0YXJnZXQsIChub2RlKSA9PiBbXG4gICAgICAgICAgICAuLi4ocHJlY2VkZSA/IFtjcmVhdGVOb2RlKG1vZHVsZSldIDogW10pLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIC4uLighcHJlY2VkZSA/IFtjcmVhdGVOb2RlKG1vZHVsZSldIDogW10pLFxuICAgICAgICBdKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZE1vZHVsZSA9IChtb2R1bGUpID0+IHtcbiAgICAgICAgYXBwZW5kKE1PRFVMRV9DT05UUk9MTEVSLCBtb2R1bGUpO1xuICAgIH07XG4gICAgY29uc3QgcmVwbGFjZSA9ICh0YXJnZXQsIG1vZHVsZSkgPT4ge1xuICAgICAgICBjb25maWcgPSB0cmF2ZXJzZShjb25maWcsIHRhcmdldCwgKG5vZGUpID0+IFtjcmVhdGVOb2RlKG1vZHVsZSwgbm9kZS5jaGlsZHJlbildKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZSA9ICh0YXJnZXQpID0+IHtcbiAgICAgICAgY29uZmlnID0gdHJhdmVyc2UoY29uZmlnLCB0YXJnZXQsIChub2RlKSA9PiBub2RlLmNoaWxkcmVuKTtcbiAgICB9O1xuICAgIGNvbnN0IGF1Z21lbnQgPSAoYXVnbWVudGF0aW9uKSA9PiB7XG4gICAgICAgIGF1Z21lbnRhdGlvbnMucHVzaChhdWdtZW50YXRpb24pO1xuICAgIH07XG4gICAgcGx1Z2lucy5mb3JFYWNoKChwbHVnaW4pID0+IHtcbiAgICAgICAgcGx1Z2luKHtcbiAgICAgICAgICAgIGNvbnRhaW5zLFxuICAgICAgICAgICAgYWRkUGFyZW50LFxuICAgICAgICAgICAgYXBwZW5kLFxuICAgICAgICAgICAgYWRkQ2hpbGQsXG4gICAgICAgICAgICBhZGRTaWJsaW5nLFxuICAgICAgICAgICAgYWRkTW9kdWxlLFxuICAgICAgICAgICAgcmVwbGFjZSxcbiAgICAgICAgICAgIHJlbW92ZSxcbiAgICAgICAgICAgIGF1Z21lbnQsXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgYXVnbWVudGF0aW9uOiAocHJvcHMpID0+IGF1Z21lbnRhdGlvbnMucmVkdWNlKChhY2MsIGF1Z21lbnRhdGlvbikgPT4gYXVnbWVudGF0aW9uKGFjYyksIHByb3BzKSxcbiAgICB9O1xufVxuXG5jb25zdCBEb2N1bWVudENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlRG9jdW1lbnRDb250ZXh0ID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VEb2N1bWVudFwiLCBcIkRvY3VtZW50Q29udGV4dFwiLCBEb2N1bWVudENvbnRleHQpO1xuZnVuY3Rpb24gRG9jdW1lbnRDb250ZXh0UHJvdmlkZXIoeyBub2RlUmVmLCBjaGlsZHJlbiB9KSB7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBnZXRPd25lckRvY3VtZW50ID0gKG5vZGUpID0+IHsgdmFyIF9hOyByZXR1cm4gKChfYSA9IChub2RlIHx8IG5vZGVSZWYuY3VycmVudCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vd25lckRvY3VtZW50KSB8fCBkb2N1bWVudDsgfTtcbiAgICAgICAgY29uc3QgZ2V0T3duZXJXaW5kb3cgPSAobm9kZSkgPT4geyB2YXIgX2E7IHJldHVybiAoKF9hID0gZ2V0T3duZXJEb2N1bWVudChub2RlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlZmF1bHRWaWV3KSB8fCB3aW5kb3c7IH07XG4gICAgICAgIHJldHVybiB7IGdldE93bmVyRG9jdW1lbnQsIGdldE93bmVyV2luZG93IH07XG4gICAgfSwgW25vZGVSZWZdKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChEb2N1bWVudENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSwgY2hpbGRyZW4pO1xufVxuXG5jb25zdCBFdmVudHNDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZUV2ZW50cyA9IG1ha2VVc2VDb250ZXh0KFwidXNlRXZlbnRzXCIsIFwiRXZlbnRzQ29udGV4dFwiLCBFdmVudHNDb250ZXh0KTtcbmZ1bmN0aW9uIEV2ZW50c1Byb3ZpZGVyKHsgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IFtzdWJzY3JpcHRpb25zXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gKCkgPT4ge1xuICAgICAgICBPYmplY3Qua2V5cyhzdWJzY3JpcHRpb25zKS5mb3JFYWNoKCh0b3BpYykgPT4gZGVsZXRlIHN1YnNjcmlwdGlvbnNbdG9waWNdKTtcbiAgICB9LCBbc3Vic2NyaXB0aW9uc10pO1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSAodG9waWMsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSBzdWJzY3JpcHRpb25zW3RvcGljXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGljZSgwLCBzdWJzY3JpcHRpb25zW3RvcGljXS5sZW5ndGgsIC4uLnN1YnNjcmlwdGlvbnNbdG9waWNdLmZpbHRlcigoY2IpID0+IGNiICE9PSBjYWxsYmFjaykpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdWJzY3JpYmUgPSAodG9waWMsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmlwdGlvbnNbdG9waWNdKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uc1t0b3BpY10gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnNbdG9waWNdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKHRvcGljLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHB1Ymxpc2ggPSAoLi4uW3RvcGljLCBldmVudF0pID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIChfYSA9IHN1YnNjcmlwdGlvbnNbdG9waWNdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKGV2ZW50KSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7IHB1Ymxpc2gsIHN1YnNjcmliZSwgdW5zdWJzY3JpYmUgfTtcbiAgICB9LCBbc3Vic2NyaXB0aW9uc10pO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEV2ZW50c0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSwgY2hpbGRyZW4pO1xufVxuXG5jb25zdCBMaWdodGJveFByb3BzQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2VMaWdodGJveFByb3BzID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VMaWdodGJveFByb3BzXCIsIFwiTGlnaHRib3hQcm9wc0NvbnRleHRcIiwgTGlnaHRib3hQcm9wc0NvbnRleHQpO1xuZnVuY3Rpb24gTGlnaHRib3hQcm9wc1Byb3ZpZGVyKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChMaWdodGJveFByb3BzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcHJvcHMgfSwgY2hpbGRyZW4pO1xufVxuXG5jb25zdCBMaWdodGJveFN0YXRlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2VMaWdodGJveFN0YXRlID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VMaWdodGJveFN0YXRlXCIsIFwiTGlnaHRib3hTdGF0ZUNvbnRleHRcIiwgTGlnaHRib3hTdGF0ZUNvbnRleHQpO1xuY29uc3QgTGlnaHRib3hEaXNwYXRjaENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlTGlnaHRib3hEaXNwYXRjaCA9IG1ha2VVc2VDb250ZXh0KFwidXNlTGlnaHRib3hEaXNwYXRjaFwiLCBcIkxpZ2h0Ym94RGlzcGF0Y2hDb250ZXh0XCIsIExpZ2h0Ym94RGlzcGF0Y2hDb250ZXh0KTtcbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcInN3aXBlXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2xpZGVzIH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGluY3JlbWVudCA9IChhY3Rpb24gPT09IG51bGwgfHwgYWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhY3Rpb24uaW5jcmVtZW50KSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgZ2xvYmFsSW5kZXggPSBzdGF0ZS5nbG9iYWxJbmRleCArIGluY3JlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGdldFNsaWRlSW5kZXgoZ2xvYmFsSW5kZXgsIHNsaWRlcy5sZW5ndGgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNsaWRlID0gZ2V0U2xpZGVJZlByZXNlbnQoc2xpZGVzLCBjdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gaW5jcmVtZW50IHx8IGFjdGlvbi5kdXJhdGlvblxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBhY3Rpb24uZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogYWN0aW9uLmVhc2luZyxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4geyBzbGlkZXMsIGN1cnJlbnRJbmRleCwgZ2xvYmFsSW5kZXgsIGN1cnJlbnRTbGlkZSwgYW5pbWF0aW9uIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInVwZGF0ZVwiOlxuICAgICAgICAgICAgaWYgKGFjdGlvbi5zbGlkZXMgIT09IHN0YXRlLnNsaWRlcyB8fCBhY3Rpb24uaW5kZXggIT09IHN0YXRlLmN1cnJlbnRJbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlczogYWN0aW9uLnNsaWRlcyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEluZGV4OiBhY3Rpb24uaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbEluZGV4OiBhY3Rpb24uaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTbGlkZTogZ2V0U2xpZGVJZlByZXNlbnQoYWN0aW9uLnNsaWRlcywgYWN0aW9uLmluZGV4KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFVOS05PV05fQUNUSU9OX1RZUEUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIExpZ2h0Ym94U3RhdGVQcm92aWRlcih7IHNsaWRlcywgaW5kZXgsIGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCBbc3RhdGUsIGRpc3BhdGNoXSA9IFJlYWN0LnVzZVJlZHVjZXIocmVkdWNlciwge1xuICAgICAgICBzbGlkZXMsXG4gICAgICAgIGN1cnJlbnRJbmRleDogaW5kZXgsXG4gICAgICAgIGdsb2JhbEluZGV4OiBpbmRleCxcbiAgICAgICAgY3VycmVudFNsaWRlOiBnZXRTbGlkZUlmUHJlc2VudChzbGlkZXMsIGluZGV4KSxcbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwidXBkYXRlXCIsIHNsaWRlcywgaW5kZXggfSk7XG4gICAgfSwgW3NsaWRlcywgaW5kZXhdKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiAoeyAuLi5zdGF0ZSwgc3RhdGUsIGRpc3BhdGNoIH0pLCBbc3RhdGUsIGRpc3BhdGNoXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpZ2h0Ym94RGlzcGF0Y2hDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBkaXNwYXRjaCB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpZ2h0Ym94U3RhdGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKSkpO1xufVxuXG5jb25zdCBUaW1lb3V0c0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlVGltZW91dHMgPSBtYWtlVXNlQ29udGV4dChcInVzZVRpbWVvdXRzXCIsIFwiVGltZW91dHNDb250ZXh0XCIsIFRpbWVvdXRzQ29udGV4dCk7XG5mdW5jdGlvbiBUaW1lb3V0c1Byb3ZpZGVyKHsgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IFt0aW1lb3V0c10gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+ICgpID0+IHtcbiAgICAgICAgdGltZW91dHMuZm9yRWFjaCgodGlkKSA9PiB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpZCkpO1xuICAgICAgICB0aW1lb3V0cy5zcGxpY2UoMCwgdGltZW91dHMubGVuZ3RoKTtcbiAgICB9LCBbdGltZW91dHNdKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbW92ZVRpbWVvdXQgPSAoaWQpID0+IHtcbiAgICAgICAgICAgIHRpbWVvdXRzLnNwbGljZSgwLCB0aW1lb3V0cy5sZW5ndGgsIC4uLnRpbWVvdXRzLmZpbHRlcigodGlkKSA9PiB0aWQgIT09IGlkKSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNldFRpbWVvdXQgPSAoZm4sIGRlbGF5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICByZW1vdmVUaW1lb3V0KGlkKTtcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgICAgdGltZW91dHMucHVzaChpZCk7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNsZWFyVGltZW91dCA9IChpZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVUaW1lb3V0KGlkKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHsgc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0IH07XG4gICAgfSwgW3RpbWVvdXRzXSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGltZW91dHNDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKTtcbn1cblxuY29uc3QgSWNvbkJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gSWNvbkJ1dHRvbih7IGxhYmVsOiBsYWJlbCQxLCBjbGFzc05hbWUsIGljb246IEljb24sIHJlbmRlckljb24sIG9uQ2xpY2ssIHN0eWxlLCAuLi5yZXN0IH0sIHJlZikge1xuICAgIGNvbnN0IHsgc3R5bGVzLCBsYWJlbHMgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyByZWY6IHJlZiwgdHlwZTogXCJidXR0b25cIiwgXCJhcmlhLWxhYmVsXCI6IGxhYmVsKGxhYmVscywgbGFiZWwkMSksIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhFTEVNRU5UX0JVVFRPTiksIGNsYXNzTmFtZSksIG9uQ2xpY2s6IG9uQ2xpY2ssIHN0eWxlOiB7IC4uLnN0eWxlLCAuLi5zdHlsZXMuYnV0dG9uIH0sIC4uLnJlc3QgfSwgcmVuZGVySWNvbiA/IHJlbmRlckljb24oKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwgeyBjbGFzc05hbWU6IGNzc0NsYXNzKEVMRU1FTlRfSUNPTiksIHN0eWxlOiBzdHlsZXMuaWNvbiB9KSkpO1xufSk7XG5cbmZ1bmN0aW9uIHN2Z0ljb24obmFtZSwgY2hpbGRyZW4pIHtcbiAgICBjb25zdCBpY29uID0gKHByb3BzKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIHdpZHRoOiBcIjI0XCIsIGhlaWdodDogXCIyNFwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLCBmb2N1c2FibGU6IFwiZmFsc2VcIiwgLi4ucHJvcHMgfSwgY2hpbGRyZW4pKTtcbiAgICBpY29uLmRpc3BsYXlOYW1lID0gbmFtZTtcbiAgICByZXR1cm4gaWNvbjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUljb24obmFtZSwgZ2x5cGgpIHtcbiAgICByZXR1cm4gc3ZnSWNvbihuYW1lLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDBoMjR2MjRIMHpcIiwgZmlsbDogXCJub25lXCIgfSksXG4gICAgICAgIGdseXBoKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVJY29uRGlzYWJsZWQobmFtZSwgZ2x5cGgpIHtcbiAgICByZXR1cm4gc3ZnSWNvbihuYW1lLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGVmc1wiLCBudWxsLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcIm1hc2tcIiwgeyBpZDogXCJzdHJpa2VcIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAwaDI0djI0SDB6XCIsIGZpbGw6IFwid2hpdGVcIiB9KSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMEwyNCAyNFwiLCBzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDQgfSkpKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wLjcwNzA3IDIuMTIxMzIwTDIxLjg3ODY4MCAyMy4yOTI4ODNcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMiB9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwgeyBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCBtYXNrOiBcInVybCgjc3RyaWtlKVwiIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMGgyNHYyNEgwelwiLCBmaWxsOiBcIm5vbmVcIiB9KSxcbiAgICAgICAgICAgIGdseXBoKSkpO1xufVxuY29uc3QgQ2xvc2VJY29uID0gY3JlYXRlSWNvbihcIkNsb3NlXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyelwiIH0pKTtcbmNvbnN0IFByZXZpb3VzSWNvbiA9IGNyZWF0ZUljb24oXCJQcmV2aW91c1wiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTE1LjQxIDcuNDFMMTQgNmwtNiA2IDYgNiAxLjQxLTEuNDFMMTAuODMgMTJ6XCIgfSkpO1xuY29uc3QgTmV4dEljb24gPSBjcmVhdGVJY29uKFwiTmV4dFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEwIDZMOC41OSA3LjQxIDEzLjE3IDEybC00LjU4IDQuNTlMMTAgMThsNi02elwiIH0pKTtcbmNvbnN0IExvYWRpbmdJY29uID0gY3JlYXRlSWNvbihcIkxvYWRpbmdcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgQXJyYXkuZnJvbSh7IGxlbmd0aDogOCB9KS5tYXAoKF8sIGluZGV4LCBhcnJheSkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaW5lXCIsIHsga2V5OiBpbmRleCwgeDE6IFwiMTJcIiwgeTE6IFwiNi41XCIsIHgyOiBcIjEyXCIsIHkyOiBcIjEuOFwiLCBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZVdpZHRoOiBcIjIuNlwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZU9wYWNpdHk6ICgxIC8gYXJyYXkubGVuZ3RoKSAqIChpbmRleCArIDEpLCB0cmFuc2Zvcm06IGByb3RhdGUoJHsoMzYwIC8gYXJyYXkubGVuZ3RoKSAqIGluZGV4fSwgMTIsIDEyKWAgfSkpKSkpO1xuY29uc3QgRXJyb3JJY29uID0gY3JlYXRlSWNvbihcIkVycm9yXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMjEuOSwyMS45bC04LjQ5LTguNDlsMCwwTDMuNTksMy41OWwwLDBMMi4xLDIuMUwwLjY5LDMuNTFMMyw1LjgzVjE5YzAsMS4xLDAuOSwyLDIsMmgxMy4xN2wyLjMxLDIuMzFMMjEuOSwyMS45eiBNNSwxOCBsMy41LTQuNWwyLjUsMy4wMUwxMi4xNywxNWwzLDNINXogTTIxLDE4LjE3TDUuODMsM0gxOWMxLjEsMCwyLDAuOSwyLDJWMTguMTd6XCIgfSkpO1xuXG5jb25zdCB1c2VMYXlvdXRFZmZlY3QgPSBoYXNXaW5kb3coKSA/IFJlYWN0LnVzZUxheW91dEVmZmVjdCA6IFJlYWN0LnVzZUVmZmVjdDtcblxuZnVuY3Rpb24gdXNlTW90aW9uUHJlZmVyZW5jZSgpIHtcbiAgICBjb25zdCBbcmVkdWNlTW90aW9uLCBzZXRSZWR1Y2VNb3Rpb25dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IG1lZGlhUXVlcnkgPSAoX2EgPSB3aW5kb3cubWF0Y2hNZWRpYSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwod2luZG93LCBcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpXCIpO1xuICAgICAgICBzZXRSZWR1Y2VNb3Rpb24obWVkaWFRdWVyeSA9PT0gbnVsbCB8fCBtZWRpYVF1ZXJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZWRpYVF1ZXJ5Lm1hdGNoZXMpO1xuICAgICAgICBjb25zdCBsaXN0ZW5lciA9IChldmVudCkgPT4gc2V0UmVkdWNlTW90aW9uKGV2ZW50Lm1hdGNoZXMpO1xuICAgICAgICAoX2IgPSBtZWRpYVF1ZXJ5ID09PSBudWxsIHx8IG1lZGlhUXVlcnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwobWVkaWFRdWVyeSwgXCJjaGFuZ2VcIiwgbGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBtZWRpYVF1ZXJ5ID09PSBudWxsIHx8IG1lZGlhUXVlcnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lZGlhUXVlcnkucmVtb3ZlRXZlbnRMaXN0ZW5lcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwobWVkaWFRdWVyeSwgXCJjaGFuZ2VcIiwgbGlzdGVuZXIpOyB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gcmVkdWNlTW90aW9uO1xufVxuXG5mdW5jdGlvbiBjdXJyZW50VHJhbnNmb3JtYXRpb24obm9kZSkge1xuICAgIGxldCB4ID0gMDtcbiAgICBsZXQgeSA9IDA7XG4gICAgbGV0IHogPSAwO1xuICAgIGNvbnN0IG1hdHJpeCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpLnRyYW5zZm9ybTtcbiAgICBjb25zdCBtYXRjaGVyID0gbWF0cml4Lm1hdGNoKC9tYXRyaXguKlxcKCguKylcXCkvKTtcbiAgICBpZiAobWF0Y2hlcikge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBtYXRjaGVyWzFdLnNwbGl0KFwiLFwiKS5tYXAocGFyc2VJbnQpO1xuICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gNikge1xuICAgICAgICAgICAgeCA9IHZhbHVlc1s0XTtcbiAgICAgICAgICAgIHkgPSB2YWx1ZXNbNV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMTYpIHtcbiAgICAgICAgICAgIHggPSB2YWx1ZXNbMTJdO1xuICAgICAgICAgICAgeSA9IHZhbHVlc1sxM107XG4gICAgICAgICAgICB6ID0gdmFsdWVzWzE0XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyB4LCB5LCB6IH07XG59XG5mdW5jdGlvbiB1c2VBbmltYXRpb24obm9kZVJlZiwgY29tcHV0ZUFuaW1hdGlvbikge1xuICAgIGNvbnN0IHNuYXBzaG90ID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3QgYW5pbWF0aW9uID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3QgcmVkdWNlTW90aW9uID0gdXNlTW90aW9uUHJlZmVyZW5jZSgpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAobm9kZVJlZi5jdXJyZW50ICYmIHNuYXBzaG90LmN1cnJlbnQgIT09IHVuZGVmaW5lZCAmJiAhcmVkdWNlTW90aW9uKSB7XG4gICAgICAgICAgICBjb25zdCB7IGtleWZyYW1lcywgZHVyYXRpb24sIGVhc2luZywgb25maW5pc2ggfSA9IGNvbXB1dGVBbmltYXRpb24oc25hcHNob3QuY3VycmVudCwgbm9kZVJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBjdXJyZW50VHJhbnNmb3JtYXRpb24obm9kZVJlZi5jdXJyZW50KSkgfHwge307XG4gICAgICAgICAgICBpZiAoa2V5ZnJhbWVzICYmIGR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgKF9hID0gYW5pbWF0aW9uLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY3VycmVudCA9IChfYyA9IChfYiA9IG5vZGVSZWYuY3VycmVudCkuYW5pbWF0ZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IsIGtleWZyYW1lcywgeyBkdXJhdGlvbiwgZWFzaW5nIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jdXJyZW50Lm9uZmluaXNoID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmZpbmlzaCA9PT0gbnVsbCB8fCBvbmZpbmlzaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25maW5pc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc25hcHNob3QuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcmVwYXJlQW5pbWF0aW9uOiAoY3VycmVudFNuYXBzaG90KSA9PiB7XG4gICAgICAgICAgICBzbmFwc2hvdC5jdXJyZW50ID0gY3VycmVudFNuYXBzaG90O1xuICAgICAgICB9LFxuICAgICAgICBpc0FuaW1hdGlvblBsYXlpbmc6ICgpID0+IHsgdmFyIF9hOyByZXR1cm4gKChfYSA9IGFuaW1hdGlvbi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGxheVN0YXRlKSA9PT0gXCJydW5uaW5nXCI7IH0sXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gdXNlQ29udGFpbmVyUmVjdCgpIHtcbiAgICBjb25zdCBjb250YWluZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgb2JzZXJ2ZXJSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCBbY29udGFpbmVyUmVjdCwgc2V0Q29udGFpbmVyUmVjdF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIGNvbnN0IHNldENvbnRhaW5lclJlZiA9IFJlYWN0LnVzZUNhbGxiYWNrKChub2RlKSA9PiB7XG4gICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICAgICAgaWYgKG9ic2VydmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVDb250YWluZXJSZWN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZSA9ICh2YWx1ZSkgPT4gcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMDtcbiAgICAgICAgICAgICAgICBzZXRDb250YWluZXJSZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IE1hdGgucm91bmQobm9kZS5jbGllbnRXaWR0aCAtIHBhcnNlKHN0eWxlcy5wYWRkaW5nTGVmdCkgLSBwYXJzZShzdHlsZXMucGFkZGluZ1JpZ2h0KSksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChub2RlLmNsaWVudEhlaWdodCAtIHBhcnNlKHN0eWxlcy5wYWRkaW5nVG9wKSAtIHBhcnNlKHN0eWxlcy5wYWRkaW5nQm90dG9tKSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRDb250YWluZXJSZWN0KHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHVwZGF0ZUNvbnRhaW5lclJlY3QoKTtcbiAgICAgICAgaWYgKG5vZGUgJiYgdHlwZW9mIFJlc2l6ZU9ic2VydmVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBvYnNlcnZlclJlZi5jdXJyZW50ID0gbmV3IFJlc2l6ZU9ic2VydmVyKHVwZGF0ZUNvbnRhaW5lclJlY3QpO1xuICAgICAgICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudC5vYnNlcnZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIHJldHVybiB7IHNldENvbnRhaW5lclJlZiwgY29udGFpbmVyUmVmLCBjb250YWluZXJSZWN0IH07XG59XG5cbmZ1bmN0aW9uIHVzZURlbGF5KCkge1xuICAgIGNvbnN0IHRpbWVvdXRJZCA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHsgc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0IH0gPSB1c2VUaW1lb3V0cygpO1xuICAgIHJldHVybiBSZWFjdC51c2VDYWxsYmFjaygoY2FsbGJhY2ssIGRlbGF5KSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQuY3VycmVudCk7XG4gICAgICAgIHRpbWVvdXRJZC5jdXJyZW50ID0gc2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkgPiAwID8gZGVsYXkgOiAwKTtcbiAgICB9LCBbc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0XSk7XG59XG5cbmZ1bmN0aW9uIHVzZUV2ZW50Q2FsbGJhY2soZm4pIHtcbiAgICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYoZm4pO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gZm47XG4gICAgfSk7XG4gICAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKCguLi5hcmdzKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChyZWYsIC4uLmFyZ3MpOyB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHNldFJlZihyZWYsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiByZWYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZWYodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWYpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiB1c2VGb3JrUmVmKHJlZkEsIHJlZkIpIHtcbiAgICByZXR1cm4gUmVhY3QudXNlTWVtbygoKSA9PiByZWZBID09IG51bGwgJiYgcmVmQiA9PSBudWxsXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IChyZWZWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgc2V0UmVmKHJlZkEsIHJlZlZhbHVlKTtcbiAgICAgICAgICAgIHNldFJlZihyZWZCLCByZWZWYWx1ZSk7XG4gICAgICAgIH0sIFtyZWZBLCByZWZCXSk7XG59XG5cbmZ1bmN0aW9uIHVzZUxvc2VGb2N1cyhmb2N1cywgZGlzYWJsZWQgPSBmYWxzZSkge1xuICAgIGNvbnN0IGZvY3VzZWQgPSBSZWFjdC51c2VSZWYoKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZGlzYWJsZWQgJiYgZm9jdXNlZC5jdXJyZW50KSB7XG4gICAgICAgICAgICBmb2N1c2VkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9LCBbZGlzYWJsZWQsIGZvY3VzXSk7XG4gICAgY29uc3Qgb25Gb2N1cyA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgZm9jdXNlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3Qgb25CbHVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBmb2N1c2VkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHsgb25Gb2N1cywgb25CbHVyIH07XG59XG5cbmZ1bmN0aW9uIHVzZVJUTCgpIHtcbiAgICBjb25zdCBbaXNSVEwsIHNldElzUlRMXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRJc1JUTCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5kaXJlY3Rpb24gPT09IFwicnRsXCIpO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gaXNSVEw7XG59XG5cbmZ1bmN0aW9uIHVzZVNlbnNvcnMoKSB7XG4gICAgY29uc3QgW3N1YnNjcmliZXJzXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcbiAgICBjb25zdCBub3RpZnlTdWJzY3JpYmVycyA9IFJlYWN0LnVzZUNhbGxiYWNrKCh0eXBlLCBldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHN1YnNjcmliZXJzW3R5cGVdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtzdWJzY3JpYmVyc10pO1xuICAgIGNvbnN0IHJlZ2lzdGVyU2Vuc29ycyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgb25Qb2ludGVyRG93bjogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9QT0lOVEVSX0RPV04sIGV2ZW50KSxcbiAgICAgICAgb25Qb2ludGVyTW92ZTogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9QT0lOVEVSX01PVkUsIGV2ZW50KSxcbiAgICAgICAgb25Qb2ludGVyVXA6IChldmVudCkgPT4gbm90aWZ5U3Vic2NyaWJlcnMoRVZFTlRfT05fUE9JTlRFUl9VUCwgZXZlbnQpLFxuICAgICAgICBvblBvaW50ZXJMZWF2ZTogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9QT0lOVEVSX0xFQVZFLCBldmVudCksXG4gICAgICAgIG9uUG9pbnRlckNhbmNlbDogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9QT0lOVEVSX0NBTkNFTCwgZXZlbnQpLFxuICAgICAgICBvbktleURvd246IChldmVudCkgPT4gbm90aWZ5U3Vic2NyaWJlcnMoRVZFTlRfT05fS0VZX0RPV04sIGV2ZW50KSxcbiAgICAgICAgb25LZXlVcDogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9LRVlfVVAsIGV2ZW50KSxcbiAgICAgICAgb25XaGVlbDogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9XSEVFTCwgZXZlbnQpLFxuICAgIH0pLCBbbm90aWZ5U3Vic2NyaWJlcnNdKTtcbiAgICBjb25zdCBzdWJzY3JpYmVTZW5zb3JzID0gUmVhY3QudXNlQ2FsbGJhY2soKHR5cGUsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGlmICghc3Vic2NyaWJlcnNbdHlwZV0pIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXJzW3R5cGVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlcnNbdHlwZV0udW5zaGlmdChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBzdWJzY3JpYmVyc1t0eXBlXTtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKDAsIGxpc3RlbmVycy5sZW5ndGgsIC4uLmxpc3RlbmVycy5maWx0ZXIoKGVsKSA9PiBlbCAhPT0gY2FsbGJhY2spKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbc3Vic2NyaWJlcnNdKTtcbiAgICByZXR1cm4geyByZWdpc3RlclNlbnNvcnMsIHN1YnNjcmliZVNlbnNvcnMgfTtcbn1cblxuZnVuY3Rpb24gdXNlVGhyb3R0bGUoY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgY29uc3QgbGFzdENhbGxiYWNrVGltZSA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBkZWxheUNhbGxiYWNrID0gdXNlRGVsYXkoKTtcbiAgICBjb25zdCBleGVjdXRlQ2FsbGJhY2sgPSB1c2VFdmVudENhbGxiYWNrKCguLi5hcmdzKSA9PiB7XG4gICAgICAgIGxhc3RDYWxsYmFja1RpbWUuY3VycmVudCA9IERhdGUubm93KCk7XG4gICAgICAgIGNhbGxiYWNrKGFyZ3MpO1xuICAgIH0pO1xuICAgIHJldHVybiBSZWFjdC51c2VDYWxsYmFjaygoLi4uYXJncykgPT4ge1xuICAgICAgICBkZWxheUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhhcmdzKTtcbiAgICAgICAgfSwgZGVsYXkgLSAoRGF0ZS5ub3coKSAtIGxhc3RDYWxsYmFja1RpbWUuY3VycmVudCkpO1xuICAgIH0sIFtkZWxheSwgZXhlY3V0ZUNhbGxiYWNrLCBkZWxheUNhbGxiYWNrXSk7XG59XG5cbmNvbnN0IHNsaWRlUHJlZml4ID0gbWFrZUNvbXBvc2VQcmVmaXgoXCJzbGlkZVwiKTtcbmNvbnN0IHNsaWRlSW1hZ2VQcmVmaXggPSBtYWtlQ29tcG9zZVByZWZpeChcInNsaWRlX2ltYWdlXCIpO1xuZnVuY3Rpb24gSW1hZ2VTbGlkZSh7IHNsaWRlOiBpbWFnZSwgb2Zmc2V0LCByZW5kZXIsIHJlY3QsIGltYWdlRml0LCBpbWFnZVByb3BzLCBvbkNsaWNrLCBvbkxvYWQsIHN0eWxlLCB9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSBSZWFjdC51c2VTdGF0ZShTTElERV9TVEFUVVNfTE9BRElORyk7XG4gICAgY29uc3QgeyBwdWJsaXNoIH0gPSB1c2VFdmVudHMoKTtcbiAgICBjb25zdCB7IHNldFRpbWVvdXQgfSA9IHVzZVRpbWVvdXRzKCk7XG4gICAgY29uc3QgaW1hZ2VSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG9mZnNldCA9PT0gMCkge1xuICAgICAgICAgICAgcHVibGlzaChhY3RpdmVTbGlkZVN0YXR1cyhzdGF0dXMpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvZmZzZXQsIHN0YXR1cywgcHVibGlzaF0pO1xuICAgIGNvbnN0IGhhbmRsZUxvYWRpbmcgPSB1c2VFdmVudENhbGxiYWNrKChpbWcpID0+IHtcbiAgICAgICAgKFwiZGVjb2RlXCIgaW4gaW1nID8gaW1nLmRlY29kZSgpIDogUHJvbWlzZS5yZXNvbHZlKCkpXG4gICAgICAgICAgICAuY2F0Y2goKCkgPT4geyB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpbWcucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFN0YXR1cyhTTElERV9TVEFUVVNfQ09NUExFVEUpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgb25Mb2FkID09PSBudWxsIHx8IG9uTG9hZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Mb2FkKGltZyk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29uc3Qgc2V0SW1hZ2VSZWYgPSBSZWFjdC51c2VDYWxsYmFjaygoaW1nKSA9PiB7XG4gICAgICAgIGltYWdlUmVmLmN1cnJlbnQgPSBpbWc7XG4gICAgICAgIGlmIChpbWcgPT09IG51bGwgfHwgaW1nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbWcuY29tcGxldGUpIHtcbiAgICAgICAgICAgIGhhbmRsZUxvYWRpbmcoaW1nKTtcbiAgICAgICAgfVxuICAgIH0sIFtoYW5kbGVMb2FkaW5nXSk7XG4gICAgY29uc3QgaGFuZGxlT25Mb2FkID0gUmVhY3QudXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGhhbmRsZUxvYWRpbmcoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgfSwgW2hhbmRsZUxvYWRpbmddKTtcbiAgICBjb25zdCBvbkVycm9yID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBzZXRTdGF0dXMoU0xJREVfU1RBVFVTX0VSUk9SKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgY292ZXIgPSBpc0ltYWdlRml0Q292ZXIoaW1hZ2UsIGltYWdlRml0KTtcbiAgICBjb25zdCBub25JbmZpbml0ZSA9ICh2YWx1ZSwgZmFsbGJhY2spID0+IChOdW1iZXIuaXNGaW5pdGUodmFsdWUpID8gdmFsdWUgOiBmYWxsYmFjayk7XG4gICAgY29uc3QgbWF4V2lkdGggPSBub25JbmZpbml0ZShNYXRoLm1heCguLi4oKF9iID0gKF9hID0gaW1hZ2Uuc3JjU2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKCh4KSA9PiB4LndpZHRoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10pLmNvbmNhdChpbWFnZS53aWR0aCA/IFtpbWFnZS53aWR0aF0gOiBbXSkuZmlsdGVyKEJvb2xlYW4pKSwgKChfYyA9IGltYWdlUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5uYXR1cmFsV2lkdGgpIHx8IDApO1xuICAgIGNvbnN0IG1heEhlaWdodCA9IG5vbkluZmluaXRlKE1hdGgubWF4KC4uLigoX2UgPSAoX2QgPSBpbWFnZS5zcmNTZXQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5tYXAoKHgpID0+IHguaGVpZ2h0KSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogW10pLmNvbmNhdChpbWFnZS5oZWlnaHQgPyBbaW1hZ2UuaGVpZ2h0XSA6IFtdKS5maWx0ZXIoQm9vbGVhbikpLCAoKF9mID0gaW1hZ2VSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLm5hdHVyYWxIZWlnaHQpIHx8IDApO1xuICAgIGNvbnN0IGRlZmF1bHRTdHlsZSA9IG1heFdpZHRoICYmIG1heEhlaWdodFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIG1heFdpZHRoOiBgbWluKCR7bWF4V2lkdGh9cHgsIDEwMCUpYCxcbiAgICAgICAgICAgIG1heEhlaWdodDogYG1pbigke21heEhlaWdodH1weCwgMTAwJSlgLFxuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgbWF4V2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgfTtcbiAgICBjb25zdCBzcmNTZXQgPSAoX2cgPSBpbWFnZS5zcmNTZXQpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5zb3J0KChhLCBiKSA9PiBhLndpZHRoIC0gYi53aWR0aCkubWFwKChpdGVtKSA9PiBgJHtpdGVtLnNyY30gJHtpdGVtLndpZHRofXdgKS5qb2luKFwiLCBcIik7XG4gICAgY29uc3QgZXN0aW1hdGVBY3R1YWxXaWR0aCA9ICgpID0+IHJlY3QgJiYgIWNvdmVyICYmIGltYWdlLndpZHRoICYmIGltYWdlLmhlaWdodCA/IChyZWN0LmhlaWdodCAvIGltYWdlLmhlaWdodCkgKiBpbWFnZS53aWR0aCA6IE51bWJlci5NQVhfVkFMVUU7XG4gICAgY29uc3Qgc2l6ZXMgPSBzcmNTZXQgJiYgcmVjdCAmJiBoYXNXaW5kb3coKSA/IGAke01hdGgucm91bmQoTWF0aC5taW4oZXN0aW1hdGVBY3R1YWxXaWR0aCgpLCByZWN0LndpZHRoKSl9cHhgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHsgc3R5bGU6IGltYWdlUHJvcHNTdHlsZSwgY2xhc3NOYW1lOiBpbWFnZVByb3BzQ2xhc3NOYW1lLCAuLi5yZXN0SW1hZ2VQcm9wcyB9ID0gaW1hZ2VQcm9wcyB8fCB7fTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgeyByZWY6IHNldEltYWdlUmVmLCBvbkxvYWQ6IGhhbmRsZU9uTG9hZCwgb25FcnJvcjogb25FcnJvciwgb25DbGljazogb25DbGljaywgZHJhZ2dhYmxlOiBmYWxzZSwgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKHNsaWRlSW1hZ2VQcmVmaXgoKSksIGNvdmVyICYmIGNzc0NsYXNzKHNsaWRlSW1hZ2VQcmVmaXgoXCJjb3ZlclwiKSksIHN0YXR1cyAhPT0gU0xJREVfU1RBVFVTX0NPTVBMRVRFICYmIGNzc0NsYXNzKHNsaWRlSW1hZ2VQcmVmaXgoXCJsb2FkaW5nXCIpKSwgaW1hZ2VQcm9wc0NsYXNzTmFtZSksIHN0eWxlOiB7IC4uLmRlZmF1bHRTdHlsZSwgLi4uc3R5bGUsIC4uLmltYWdlUHJvcHNTdHlsZSB9LCAuLi5yZXN0SW1hZ2VQcm9wcywgYWx0OiBpbWFnZS5hbHQsIHNpemVzOiBzaXplcywgc3JjU2V0OiBzcmNTZXQsIHNyYzogaW1hZ2Uuc3JjIH0pLFxuICAgICAgICBzdGF0dXMgIT09IFNMSURFX1NUQVRVU19DT01QTEVURSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY3NzQ2xhc3Moc2xpZGVQcmVmaXgoU0xJREVfU1RBVFVTX1BMQUNFSE9MREVSKSkgfSxcbiAgICAgICAgICAgIHN0YXR1cyA9PT0gU0xJREVfU1RBVFVTX0xPQURJTkcgJiZcbiAgICAgICAgICAgICAgICAoKHJlbmRlciA9PT0gbnVsbCB8fCByZW5kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlbmRlci5pY29uTG9hZGluZykgPyAocmVuZGVyLmljb25Mb2FkaW5nKCkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZ0ljb24sIHsgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKEVMRU1FTlRfSUNPTiksIGNzc0NsYXNzKHNsaWRlUHJlZml4KFNMSURFX1NUQVRVU19MT0FESU5HKSkpIH0pKSksXG4gICAgICAgICAgICBzdGF0dXMgPT09IFNMSURFX1NUQVRVU19FUlJPUiAmJlxuICAgICAgICAgICAgICAgICgocmVuZGVyID09PSBudWxsIHx8IHJlbmRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVuZGVyLmljb25FcnJvcikgPyAocmVuZGVyLmljb25FcnJvcigpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KEVycm9ySWNvbiwgeyBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoRUxFTUVOVF9JQ09OKSwgY3NzQ2xhc3Moc2xpZGVQcmVmaXgoU0xJREVfU1RBVFVTX0VSUk9SKSkpIH0pKSkpKSkpO1xufVxuXG5jb25zdCBMaWdodGJveFJvb3QgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIExpZ2h0Ym94Um9vdCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIC4uLnJlc3QgfSwgcmVmKSB7XG4gICAgY29uc3Qgbm9kZVJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRG9jdW1lbnRDb250ZXh0UHJvdmlkZXIsIHsgbm9kZVJlZjogbm9kZVJlZiB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiB1c2VGb3JrUmVmKHJlZiwgbm9kZVJlZiksIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhcInJvb3RcIiksIGNsYXNzTmFtZSksIC4uLnJlc3QgfSwgY2hpbGRyZW4pKSk7XG59KTtcblxudmFyIFN3aXBlU3RhdGU7XG4oZnVuY3Rpb24gKFN3aXBlU3RhdGUpIHtcbiAgICBTd2lwZVN0YXRlW1N3aXBlU3RhdGVbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBTd2lwZVN0YXRlW1N3aXBlU3RhdGVbXCJTV0lQRVwiXSA9IDFdID0gXCJTV0lQRVwiO1xuICAgIFN3aXBlU3RhdGVbU3dpcGVTdGF0ZVtcIlBVTExcIl0gPSAyXSA9IFwiUFVMTFwiO1xuICAgIFN3aXBlU3RhdGVbU3dpcGVTdGF0ZVtcIkFOSU1BVElPTlwiXSA9IDNdID0gXCJBTklNQVRJT05cIjtcbn0pKFN3aXBlU3RhdGUgfHwgKFN3aXBlU3RhdGUgPSB7fSkpO1xuXG5mdW5jdGlvbiB1c2VQb2ludGVyRXZlbnRzKHN1YnNjcmliZVNlbnNvcnMsIG9uUG9pbnRlckRvd24sIG9uUG9pbnRlck1vdmUsIG9uUG9pbnRlclVwLCBkaXNhYmxlZCkge1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiAhZGlzYWJsZWRcbiAgICAgICAgPyBjbGVhbnVwKHN1YnNjcmliZVNlbnNvcnMoRVZFTlRfT05fUE9JTlRFUl9ET1dOLCBvblBvaW50ZXJEb3duKSwgc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9QT0lOVEVSX01PVkUsIG9uUG9pbnRlck1vdmUpLCBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX1BPSU5URVJfVVAsIG9uUG9pbnRlclVwKSwgc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9QT0lOVEVSX0xFQVZFLCBvblBvaW50ZXJVcCksIHN1YnNjcmliZVNlbnNvcnMoRVZFTlRfT05fUE9JTlRFUl9DQU5DRUwsIG9uUG9pbnRlclVwKSlcbiAgICAgICAgOiAoKSA9PiB7IH0sIFtzdWJzY3JpYmVTZW5zb3JzLCBvblBvaW50ZXJEb3duLCBvblBvaW50ZXJNb3ZlLCBvblBvaW50ZXJVcCwgZGlzYWJsZWRdKTtcbn1cblxudmFyIEdlc3R1cmU7XG4oZnVuY3Rpb24gKEdlc3R1cmUpIHtcbiAgICBHZXN0dXJlW0dlc3R1cmVbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBHZXN0dXJlW0dlc3R1cmVbXCJTV0lQRVwiXSA9IDFdID0gXCJTV0lQRVwiO1xuICAgIEdlc3R1cmVbR2VzdHVyZVtcIlBVTExcIl0gPSAyXSA9IFwiUFVMTFwiO1xufSkoR2VzdHVyZSB8fCAoR2VzdHVyZSA9IHt9KSk7XG5jb25zdCBTV0lQRV9USFJFU0hPTEQgPSAzMDtcbmZ1bmN0aW9uIHVzZVBvaW50ZXJTd2lwZShzdWJzY3JpYmVTZW5zb3JzLCBpc1N3aXBlVmFsaWQsIGNvbnRhaW5lcldpZHRoLCBzd2lwZUFuaW1hdGlvbkR1cmF0aW9uLCBvblN3aXBlU3RhcnQsIG9uU3dpcGVQcm9ncmVzcywgb25Td2lwZUZpbmlzaCwgb25Td2lwZUNhbmNlbCwgcHVsbFVwRW5hYmxlZCwgcHVsbERvd25FbmFibGVkLCBvblB1bGxTdGFydCwgb25QdWxsUHJvZ3Jlc3MsIG9uUHVsbEZpbmlzaCwgb25QdWxsQ2FuY2VsKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IHBvaW50ZXJzID0gUmVhY3QudXNlUmVmKFtdKTtcbiAgICBjb25zdCBhY3RpdmVQb2ludGVyID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IGdlc3R1cmUgPSBSZWFjdC51c2VSZWYoR2VzdHVyZS5OT05FKTtcbiAgICBjb25zdCBjbGVhclBvaW50ZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZVBvaW50ZXIuY3VycmVudCA9PT0gZXZlbnQucG9pbnRlcklkKSB7XG4gICAgICAgICAgICBhY3RpdmVQb2ludGVyLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBnZXN0dXJlLmN1cnJlbnQgPSBHZXN0dXJlLk5PTkU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudFBvaW50ZXJzID0gcG9pbnRlcnMuY3VycmVudDtcbiAgICAgICAgY3VycmVudFBvaW50ZXJzLnNwbGljZSgwLCBjdXJyZW50UG9pbnRlcnMubGVuZ3RoLCAuLi5jdXJyZW50UG9pbnRlcnMuZmlsdGVyKChwKSA9PiBwLnBvaW50ZXJJZCAhPT0gZXZlbnQucG9pbnRlcklkKSk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGFkZFBvaW50ZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY2xlYXJQb2ludGVyKGV2ZW50KTtcbiAgICAgICAgZXZlbnQucGVyc2lzdCgpO1xuICAgICAgICBwb2ludGVycy5jdXJyZW50LnB1c2goZXZlbnQpO1xuICAgIH0sIFtjbGVhclBvaW50ZXJdKTtcbiAgICBjb25zdCBvblBvaW50ZXJEb3duID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgYWRkUG9pbnRlcihldmVudCk7XG4gICAgfSk7XG4gICAgY29uc3QgZXhjZWVkc1B1bGxUaHJlc2hvbGQgPSAodmFsdWUsIHRocmVzaG9sZCkgPT4gKHB1bGxEb3duRW5hYmxlZCAmJiB2YWx1ZSA+IHRocmVzaG9sZCkgfHwgKHB1bGxVcEVuYWJsZWQgJiYgdmFsdWUgPCAtdGhyZXNob2xkKTtcbiAgICBjb25zdCBvblBvaW50ZXJVcCA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChwb2ludGVycy5jdXJyZW50LmZpbmQoKHgpID0+IHgucG9pbnRlcklkID09PSBldmVudC5wb2ludGVySWQpICYmIGFjdGl2ZVBvaW50ZXIuY3VycmVudCA9PT0gZXZlbnQucG9pbnRlcklkKSB7XG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWUuY3VycmVudDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRPZmZzZXQgPSBvZmZzZXQuY3VycmVudDtcbiAgICAgICAgICAgIGlmIChnZXN0dXJlLmN1cnJlbnQgPT09IEdlc3R1cmUuU1dJUEUpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoY3VycmVudE9mZnNldCkgPiAwLjMgKiBjb250YWluZXJXaWR0aCB8fFxuICAgICAgICAgICAgICAgICAgICAoTWF0aC5hYnMoY3VycmVudE9mZnNldCkgPiA1ICYmIGR1cmF0aW9uIDwgc3dpcGVBbmltYXRpb25EdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgb25Td2lwZUZpbmlzaChjdXJyZW50T2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvblN3aXBlQ2FuY2VsKGN1cnJlbnRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGdlc3R1cmUuY3VycmVudCA9PT0gR2VzdHVyZS5QVUxMKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4Y2VlZHNQdWxsVGhyZXNob2xkKGN1cnJlbnRPZmZzZXQsIDIgKiBTV0lQRV9USFJFU0hPTEQpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUHVsbEZpbmlzaChjdXJyZW50T2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvblB1bGxDYW5jZWwoY3VycmVudE9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0LmN1cnJlbnQgPSAwO1xuICAgICAgICAgICAgZ2VzdHVyZS5jdXJyZW50ID0gR2VzdHVyZS5OT05FO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyUG9pbnRlcihldmVudCk7XG4gICAgfSk7XG4gICAgY29uc3Qgb25Qb2ludGVyTW92ZSA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSBwb2ludGVycy5jdXJyZW50LmZpbmQoKHApID0+IHAucG9pbnRlcklkID09PSBldmVudC5wb2ludGVySWQpO1xuICAgICAgICBpZiAocG9pbnRlcikge1xuICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50UG9pbnRlciA9IGFjdGl2ZVBvaW50ZXIuY3VycmVudCA9PT0gZXZlbnQucG9pbnRlcklkO1xuICAgICAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbnMgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNDdXJyZW50UG9pbnRlciAmJiBvZmZzZXQuY3VycmVudCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvblBvaW50ZXJVcChldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclBvaW50ZXIocG9pbnRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRlbHRhWCA9IGV2ZW50LmNsaWVudFggLSBwb2ludGVyLmNsaWVudFg7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVkgPSBldmVudC5jbGllbnRZIC0gcG9pbnRlci5jbGllbnRZO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZVBvaW50ZXIuY3VycmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRHZXN0dXJlID0gKG5ld0dlc3R1cmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUG9pbnRlcihldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVBvaW50ZXIuY3VycmVudCA9IGV2ZW50LnBvaW50ZXJJZDtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lLmN1cnJlbnQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICBnZXN0dXJlLmN1cnJlbnQgPSBuZXdHZXN0dXJlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhWCkgPiBNYXRoLmFicyhkZWx0YVkpICYmIE1hdGguYWJzKGRlbHRhWCkgPiBTV0lQRV9USFJFU0hPTEQgJiYgaXNTd2lwZVZhbGlkKGRlbHRhWCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRHZXN0dXJlKEdlc3R1cmUuU1dJUEUpO1xuICAgICAgICAgICAgICAgICAgICBvblN3aXBlU3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoTWF0aC5hYnMoZGVsdGFZKSA+IE1hdGguYWJzKGRlbHRhWCkgJiYgZXhjZWVkc1B1bGxUaHJlc2hvbGQoZGVsdGFZLCBTV0lQRV9USFJFU0hPTEQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0R2VzdHVyZShHZXN0dXJlLlBVTEwpO1xuICAgICAgICAgICAgICAgICAgICBvblB1bGxTdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQ3VycmVudFBvaW50ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VzdHVyZS5jdXJyZW50ID09PSBHZXN0dXJlLlNXSVBFKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldC5jdXJyZW50ID0gZGVsdGFYO1xuICAgICAgICAgICAgICAgICAgICBvblN3aXBlUHJvZ3Jlc3MoZGVsdGFYKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ2VzdHVyZS5jdXJyZW50ID09PSBHZXN0dXJlLlBVTEwpIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0LmN1cnJlbnQgPSBkZWx0YVk7XG4gICAgICAgICAgICAgICAgICAgIG9uUHVsbFByb2dyZXNzKGRlbHRhWSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgdXNlUG9pbnRlckV2ZW50cyhzdWJzY3JpYmVTZW5zb3JzLCBvblBvaW50ZXJEb3duLCBvblBvaW50ZXJNb3ZlLCBvblBvaW50ZXJVcCk7XG59XG5cbmZ1bmN0aW9uIHVzZVByZXZlbnRXaGVlbERlZmF1bHRzKHsgcHJldmVudERlZmF1bHRXaGVlbFgsIHByZXZlbnREZWZhdWx0V2hlZWxZLCB9KSB7XG4gICAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGxpc3RlbmVyID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgaG9yaXpvbnRhbCA9IE1hdGguYWJzKGV2ZW50LmRlbHRhWCkgPiBNYXRoLmFicyhldmVudC5kZWx0YVkpO1xuICAgICAgICBpZiAoKGhvcml6b250YWwgJiYgcHJldmVudERlZmF1bHRXaGVlbFgpIHx8ICghaG9yaXpvbnRhbCAmJiBwcmV2ZW50RGVmYXVsdFdoZWVsWSkgfHwgZXZlbnQuY3RybEtleSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBSZWFjdC51c2VDYWxsYmFjaygobm9kZSkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCBsaXN0ZW5lciwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIChfYSA9IHJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZWYuY3VycmVudCA9IG5vZGU7XG4gICAgfSwgW2xpc3RlbmVyXSk7XG59XG5cbmZ1bmN0aW9uIHVzZVdoZWVsU3dpcGUoc3dpcGVTdGF0ZSwgc3Vic2NyaWJlU2Vuc29ycywgaXNTd2lwZVZhbGlkLCBjb250YWluZXJXaWR0aCwgc3dpcGVBbmltYXRpb25EdXJhdGlvbiwgb25Td2lwZVN0YXJ0LCBvblN3aXBlUHJvZ3Jlc3MsIG9uU3dpcGVGaW5pc2gsIG9uU3dpcGVDYW5jZWwpIHtcbiAgICBjb25zdCBvZmZzZXQgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgaW50ZW50ID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IGludGVudENsZWFudXAgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCByZXNldENsZWFudXAgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCB3aGVlbFJlc2lkdWFsTW9tZW50dW0gPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IHsgc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0IH0gPSB1c2VUaW1lb3V0cygpO1xuICAgIGNvbnN0IGNhbmNlbFN3aXBlSW50ZW50Q2xlYW51cCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGludGVudENsZWFudXAuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGludGVudENsZWFudXAuY3VycmVudCk7XG4gICAgICAgICAgICBpbnRlbnRDbGVhbnVwLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9LCBbY2xlYXJUaW1lb3V0XSk7XG4gICAgY29uc3QgY2FuY2VsU3dpcGVSZXNldENsZWFudXAgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChyZXNldENsZWFudXAuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2V0Q2xlYW51cC5jdXJyZW50KTtcbiAgICAgICAgICAgIHJlc2V0Q2xlYW51cC5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSwgW2NsZWFyVGltZW91dF0pO1xuICAgIGNvbnN0IGhhbmRsZUNsZWFudXAgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKHN3aXBlU3RhdGUgIT09IFN3aXBlU3RhdGUuU1dJUEUpIHtcbiAgICAgICAgICAgIG9mZnNldC5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgIHN0YXJ0VGltZS5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgIGNhbmNlbFN3aXBlSW50ZW50Q2xlYW51cCgpO1xuICAgICAgICAgICAgY2FuY2VsU3dpcGVSZXNldENsZWFudXAoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChoYW5kbGVDbGVhbnVwLCBbc3dpcGVTdGF0ZSwgaGFuZGxlQ2xlYW51cF0pO1xuICAgIGNvbnN0IGhhbmRsZUNhbmNlbFN3aXBlID0gdXNlRXZlbnRDYWxsYmFjaygoY3VycmVudFN3aXBlT2Zmc2V0KSA9PiB7XG4gICAgICAgIHJlc2V0Q2xlYW51cC5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAob2Zmc2V0LmN1cnJlbnQgPT09IGN1cnJlbnRTd2lwZU9mZnNldCkge1xuICAgICAgICAgICAgb25Td2lwZUNhbmNlbChvZmZzZXQuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvbldoZWVsID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTWF0aC5hYnMoZXZlbnQuZGVsdGFZKSA+IE1hdGguYWJzKGV2ZW50LmRlbHRhWCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3dpcGVTdGF0ZSA9PT0gU3dpcGVTdGF0ZS5OT05FKSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZXZlbnQuZGVsdGFYKSA8PSAxLjIgKiBNYXRoLmFicyh3aGVlbFJlc2lkdWFsTW9tZW50dW0uY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICB3aGVlbFJlc2lkdWFsTW9tZW50dW0uY3VycmVudCA9IGV2ZW50LmRlbHRhWDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzU3dpcGVWYWxpZCgtZXZlbnQuZGVsdGFYKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVudC5jdXJyZW50ICs9IGV2ZW50LmRlbHRhWDtcbiAgICAgICAgICAgIGNhbmNlbFN3aXBlSW50ZW50Q2xlYW51cCgpO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGludGVudC5jdXJyZW50KSA+IDMwKSB7XG4gICAgICAgICAgICAgICAgaW50ZW50LmN1cnJlbnQgPSAwO1xuICAgICAgICAgICAgICAgIHdoZWVsUmVzaWR1YWxNb21lbnR1bS5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUuY3VycmVudCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgb25Td2lwZVN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U3dpcGVJbnRlbnQgPSBpbnRlbnQuY3VycmVudDtcbiAgICAgICAgICAgICAgICBpbnRlbnRDbGVhbnVwLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZW50Q2xlYW51cC5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN3aXBlSW50ZW50ID09PSBpbnRlbnQuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50LmN1cnJlbnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgc3dpcGVBbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3dpcGVTdGF0ZSA9PT0gU3dpcGVTdGF0ZS5TV0lQRSkge1xuICAgICAgICAgICAgbGV0IG5ld1N3aXBlT2Zmc2V0ID0gb2Zmc2V0LmN1cnJlbnQgLSBldmVudC5kZWx0YVg7XG4gICAgICAgICAgICBuZXdTd2lwZU9mZnNldCA9IE1hdGgubWluKE1hdGguYWJzKG5ld1N3aXBlT2Zmc2V0KSwgY29udGFpbmVyV2lkdGgpICogTWF0aC5zaWduKG5ld1N3aXBlT2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldC5jdXJyZW50ID0gbmV3U3dpcGVPZmZzZXQ7XG4gICAgICAgICAgICBvblN3aXBlUHJvZ3Jlc3MobmV3U3dpcGVPZmZzZXQpO1xuICAgICAgICAgICAgY2FuY2VsU3dpcGVSZXNldENsZWFudXAoKTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhuZXdTd2lwZU9mZnNldCkgPiAwLjIgKiBjb250YWluZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIHdoZWVsUmVzaWR1YWxNb21lbnR1bS5jdXJyZW50ID0gZXZlbnQuZGVsdGFYO1xuICAgICAgICAgICAgICAgIG9uU3dpcGVGaW5pc2gobmV3U3dpcGVPZmZzZXQsIERhdGUubm93KCkgLSBzdGFydFRpbWUuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzZXRDbGVhbnVwLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZUNhbmNlbFN3aXBlKG5ld1N3aXBlT2Zmc2V0KSwgMiAqIHN3aXBlQW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2hlZWxSZXNpZHVhbE1vbWVudHVtLmN1cnJlbnQgPSBldmVudC5kZWx0YVg7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9XSEVFTCwgb25XaGVlbCksIFtzdWJzY3JpYmVTZW5zb3JzLCBvbldoZWVsXSk7XG59XG5cbmNvbnN0IGNzc0NvbnRhaW5lclByZWZpeCA9IG1ha2VDb21wb3NlUHJlZml4KFwiY29udGFpbmVyXCIpO1xuY29uc3QgQ29udHJvbGxlckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlQ29udHJvbGxlciA9IG1ha2VVc2VDb250ZXh0KFwidXNlQ29udHJvbGxlclwiLCBcIkNvbnRyb2xsZXJDb250ZXh0XCIsIENvbnRyb2xsZXJDb250ZXh0KTtcbmZ1bmN0aW9uIENvbnRyb2xsZXIoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB7IGNhcm91c2VsLCBhbmltYXRpb24sIGNvbnRyb2xsZXIsIG9uLCBzdHlsZXMsIHJlbmRlciB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBjbG9zZU9uUHVsbFVwLCBjbG9zZU9uUHVsbERvd24sIHByZXZlbnREZWZhdWx0V2hlZWxYLCBwcmV2ZW50RGVmYXVsdFdoZWVsWSB9ID0gY29udHJvbGxlcjtcbiAgICBjb25zdCBbdG9vbGJhcldpZHRoLCBzZXRUb29sYmFyV2lkdGhdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZUxpZ2h0Ym94RGlzcGF0Y2goKTtcbiAgICBjb25zdCBbc3dpcGVTdGF0ZSwgc2V0U3dpcGVTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZShTd2lwZVN0YXRlLk5PTkUpO1xuICAgIGNvbnN0IHN3aXBlT2Zmc2V0ID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IHB1bGxPZmZzZXQgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgcHVsbE9wYWNpdHkgPSBSZWFjdC51c2VSZWYoMSk7XG4gICAgY29uc3QgeyByZWdpc3RlclNlbnNvcnMsIHN1YnNjcmliZVNlbnNvcnMgfSA9IHVzZVNlbnNvcnMoKTtcbiAgICBjb25zdCB7IHN1YnNjcmliZSwgcHVibGlzaCB9ID0gdXNlRXZlbnRzKCk7XG4gICAgY29uc3QgY2xlYW51cEFuaW1hdGlvbkluY3JlbWVudCA9IHVzZURlbGF5KCk7XG4gICAgY29uc3QgY2xlYW51cFN3aXBlT2Zmc2V0ID0gdXNlRGVsYXkoKTtcbiAgICBjb25zdCBjbGVhbnVwUHVsbE9mZnNldCA9IHVzZURlbGF5KCk7XG4gICAgY29uc3QgeyBjb250YWluZXJSZWYsIHNldENvbnRhaW5lclJlZiwgY29udGFpbmVyUmVjdCB9ID0gdXNlQ29udGFpbmVyUmVjdCgpO1xuICAgIGNvbnN0IGhhbmRsZUNvbnRhaW5lclJlZiA9IHVzZUZvcmtSZWYodXNlUHJldmVudFdoZWVsRGVmYXVsdHMoeyBwcmV2ZW50RGVmYXVsdFdoZWVsWCwgcHJldmVudERlZmF1bHRXaGVlbFkgfSksIHNldENvbnRhaW5lclJlZik7XG4gICAgY29uc3QgY2Fyb3VzZWxSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgc2V0Q2Fyb3VzZWxSZWYgPSB1c2VGb3JrUmVmKGNhcm91c2VsUmVmLCB1bmRlZmluZWQpO1xuICAgIGNvbnN0IHsgZ2V0T3duZXJEb2N1bWVudCB9ID0gdXNlRG9jdW1lbnRDb250ZXh0KCk7XG4gICAgY29uc3QgaXNSVEwgPSB1c2VSVEwoKTtcbiAgICBjb25zdCBydGwgPSAodmFsdWUpID0+IChpc1JUTCA/IC0xIDogMSkgKiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiID8gdmFsdWUgOiAxKTtcbiAgICBjb25zdCBmb2N1cyA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBjb250YWluZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7IH0pO1xuICAgIGNvbnN0IGdldExpZ2h0Ym94UHJvcHMgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHByb3BzKTtcbiAgICBjb25zdCBnZXRMaWdodGJveFN0YXRlID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiBzdGF0ZSk7XG4gICAgY29uc3QgcHJldiA9IFJlYWN0LnVzZUNhbGxiYWNrKChwYXJhbXMpID0+IHB1Ymxpc2goQUNUSU9OX1BSRVYsIHBhcmFtcyksIFtwdWJsaXNoXSk7XG4gICAgY29uc3QgbmV4dCA9IFJlYWN0LnVzZUNhbGxiYWNrKChwYXJhbXMpID0+IHB1Ymxpc2goQUNUSU9OX05FWFQsIHBhcmFtcyksIFtwdWJsaXNoXSk7XG4gICAgY29uc3QgY2xvc2UgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBwdWJsaXNoKEFDVElPTl9DTE9TRSksIFtwdWJsaXNoXSk7XG4gICAgY29uc3QgaXNTd2lwZVZhbGlkID0gKG9mZnNldCkgPT4gIShjYXJvdXNlbC5maW5pdGUgJiZcbiAgICAgICAgKChydGwob2Zmc2V0KSA+IDAgJiYgc3RhdGUuY3VycmVudEluZGV4ID09PSAwKSB8fFxuICAgICAgICAgICAgKHJ0bChvZmZzZXQpIDwgMCAmJiBzdGF0ZS5jdXJyZW50SW5kZXggPT09IHN0YXRlLnNsaWRlcy5sZW5ndGggLSAxKSkpO1xuICAgIGNvbnN0IHNldFN3aXBlT2Zmc2V0ID0gKG9mZnNldCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN3aXBlT2Zmc2V0LmN1cnJlbnQgPSBvZmZzZXQ7XG4gICAgICAgIChfYSA9IGNvbnRhaW5lclJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3R5bGUuc2V0UHJvcGVydHkoY3NzVmFyKFwic3dpcGVfb2Zmc2V0XCIpLCBgJHtNYXRoLnJvdW5kKG9mZnNldCl9cHhgKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldFB1bGxPZmZzZXQgPSAob2Zmc2V0KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHB1bGxPZmZzZXQuY3VycmVudCA9IG9mZnNldDtcbiAgICAgICAgcHVsbE9wYWNpdHkuY3VycmVudCA9ICgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0aHJlc2hvbGQgPSA2MDtcbiAgICAgICAgICAgIGNvbnN0IG1pbk9wYWNpdHkgPSAwLjU7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRWYWx1ZSA9ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb3NlT25QdWxsRG93biAmJiBvZmZzZXQgPiAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChjbG9zZU9uUHVsbFVwICYmIG9mZnNldCA8IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtb2Zmc2V0O1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChyb3VuZCgxIC0gKG9mZnNldFZhbHVlIC8gdGhyZXNob2xkKSAqICgxIC0gbWluT3BhY2l0eSksIDIpLCBtaW5PcGFjaXR5KSwgMSk7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIChfYSA9IGNvbnRhaW5lclJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3R5bGUuc2V0UHJvcGVydHkoY3NzVmFyKFwicHVsbF9vZmZzZXRcIiksIGAke01hdGgucm91bmQob2Zmc2V0KX1weGApO1xuICAgICAgICAoX2IgPSBjb250YWluZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnN0eWxlLnNldFByb3BlcnR5KGNzc1ZhcihcInB1bGxfb3BhY2l0eVwiKSwgYCR7cHVsbE9wYWNpdHkuY3VycmVudH1gKTtcbiAgICB9O1xuICAgIGNvbnN0IHsgcHJlcGFyZUFuaW1hdGlvbjogcHJlcGFyZVB1bGxBbmltYXRpb24gfSA9IHVzZUFuaW1hdGlvbihjYXJvdXNlbFJlZiwgKHNuYXBzaG90LCByZWN0LCB0cmFuc2xhdGUpID0+IHtcbiAgICAgICAgaWYgKGNhcm91c2VsUmVmLmN1cnJlbnQgJiYgY29udGFpbmVyUmVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXlmcmFtZXM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7c25hcHNob3QucmVjdC55IC0gcmVjdC55ICsgdHJhbnNsYXRlLnl9cHgpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNuYXBzaG90Lm9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgwLCAwKVwiLCBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogc25hcHNob3QuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBhbmltYXRpb24uZWFzaW5nLmZhZGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgY29uc3QgcHVsbCA9IChvZmZzZXQsIGNhbmNlbCkgPT4ge1xuICAgICAgICBpZiAoY2xvc2VPblB1bGxVcCB8fCBjbG9zZU9uUHVsbERvd24pIHtcbiAgICAgICAgICAgIHNldFB1bGxPZmZzZXQob2Zmc2V0KTtcbiAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBpZiAoY2Fyb3VzZWxSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gYW5pbWF0aW9uLmZhZGUgKiAoY2FuY2VsID8gMiA6IDEpO1xuICAgICAgICAgICAgICAgIHByZXBhcmVQdWxsQW5pbWF0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgcmVjdDogY2Fyb3VzZWxSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogcHVsbE9wYWNpdHkuY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhbnVwUHVsbE9mZnNldCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0UHVsbE9mZnNldCgwKTtcbiAgICAgICAgICAgICAgICBzZXRTd2lwZVN0YXRlKFN3aXBlU3RhdGUuTk9ORSk7XG4gICAgICAgICAgICB9LCBkdXJhdGlvbik7XG4gICAgICAgICAgICBzZXRTd2lwZVN0YXRlKFN3aXBlU3RhdGUuQU5JTUFUSU9OKTtcbiAgICAgICAgICAgIGlmICghY2FuY2VsKSB7XG4gICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgeyBwcmVwYXJlQW5pbWF0aW9uLCBpc0FuaW1hdGlvblBsYXlpbmcgfSA9IHVzZUFuaW1hdGlvbihjYXJvdXNlbFJlZiwgKHNuYXBzaG90LCByZWN0LCB0cmFuc2xhdGUpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoY2Fyb3VzZWxSZWYuY3VycmVudCAmJiBjb250YWluZXJSZWN0ICYmICgoX2EgPSBzdGF0ZS5hbmltYXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFNwYWNpbmcgPSBwYXJzZUxlbmd0aFBlcmNlbnRhZ2UoY2Fyb3VzZWwuc3BhY2luZyk7XG4gICAgICAgICAgICBjb25zdCBzcGFjaW5nVmFsdWUgPSAocGFyc2VkU3BhY2luZy5wZXJjZW50ID8gKHBhcnNlZFNwYWNpbmcucGVyY2VudCAqIGNvbnRhaW5lclJlY3Qud2lkdGgpIC8gMTAwIDogcGFyc2VkU3BhY2luZy5waXhlbCkgfHwgMDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2V5ZnJhbWVzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3J0bChzdGF0ZS5nbG9iYWxJbmRleCAtIHNuYXBzaG90LmluZGV4KSAqIChjb250YWluZXJSZWN0LndpZHRoICsgc3BhY2luZ1ZhbHVlKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc25hcHNob3QucmVjdC54IC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWN0LnggK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZS54fXB4LCAwKWAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgwLCAwKVwiIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogc3RhdGUuYW5pbWF0aW9uLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGVhc2luZzogc3RhdGUuYW5pbWF0aW9uLmVhc2luZyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBjb25zdCBzd2lwZSA9IHVzZUV2ZW50Q2FsbGJhY2soKGFjdGlvbikgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBjdXJyZW50U3dpcGVPZmZzZXQgPSBhY3Rpb24ub2Zmc2V0IHx8IDA7XG4gICAgICAgIGNvbnN0IHN3aXBlRHVyYXRpb24gPSAhY3VycmVudFN3aXBlT2Zmc2V0ID8gKF9hID0gYW5pbWF0aW9uLm5hdmlnYXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGFuaW1hdGlvbi5zd2lwZSA6IGFuaW1hdGlvbi5zd2lwZTtcbiAgICAgICAgY29uc3Qgc3dpcGVFYXNpbmcgPSAhY3VycmVudFN3aXBlT2Zmc2V0ICYmICFpc0FuaW1hdGlvblBsYXlpbmcoKSA/IGFuaW1hdGlvbi5lYXNpbmcubmF2aWdhdGlvbiA6IGFuaW1hdGlvbi5lYXNpbmcuc3dpcGU7XG4gICAgICAgIGxldCB7IGRpcmVjdGlvbiB9ID0gYWN0aW9uO1xuICAgICAgICBjb25zdCBjb3VudCA9IChfYiA9IGFjdGlvbi5jb3VudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMTtcbiAgICAgICAgbGV0IG5ld1N3aXBlU3RhdGUgPSBTd2lwZVN0YXRlLkFOSU1BVElPTjtcbiAgICAgICAgbGV0IG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gPSBzd2lwZUR1cmF0aW9uICogY291bnQ7XG4gICAgICAgIGlmICghZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IGNvbnRhaW5lclJlY3QgPT09IG51bGwgfHwgY29udGFpbmVyUmVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGFpbmVyUmVjdC53aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gYWN0aW9uLmR1cmF0aW9uIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFRpbWUgPSBjb250YWluZXJXaWR0aFxuICAgICAgICAgICAgICAgID8gKHN3aXBlRHVyYXRpb24gLyBjb250YWluZXJXaWR0aCkgKiBNYXRoLmFicyhjdXJyZW50U3dpcGVPZmZzZXQpXG4gICAgICAgICAgICAgICAgOiBzd2lwZUR1cmF0aW9uO1xuICAgICAgICAgICAgaWYgKGNvdW50ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsYXBzZWRUaW1lIDwgZXhwZWN0ZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgKG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gLyBleHBlY3RlZFRpbWUpICogTWF0aC5tYXgoZWxhcHNlZFRpbWUsIGV4cGVjdGVkVGltZSAvIDUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb250YWluZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTd2lwZUFuaW1hdGlvbkR1cmF0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgICAgIChzd2lwZUR1cmF0aW9uIC8gY29udGFpbmVyV2lkdGgpICogKGNvbnRhaW5lcldpZHRoIC0gTWF0aC5hYnMoY3VycmVudFN3aXBlT2Zmc2V0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IHJ0bChjdXJyZW50U3dpcGVPZmZzZXQpID4gMCA/IEFDVElPTl9QUkVWIDogQUNUSU9OX05FWFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTd2lwZUFuaW1hdGlvbkR1cmF0aW9uID0gc3dpcGVEdXJhdGlvbiAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluY3JlbWVudCA9IDA7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IEFDVElPTl9QUkVWKSB7XG4gICAgICAgICAgICBpZiAoaXNTd2lwZVZhbGlkKHJ0bCgxKSkpIHtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnQgPSAtY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTd2lwZVN0YXRlID0gU3dpcGVTdGF0ZS5OT05FO1xuICAgICAgICAgICAgICAgIG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gPSBzd2lwZUR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gQUNUSU9OX05FWFQpIHtcbiAgICAgICAgICAgIGlmIChpc1N3aXBlVmFsaWQocnRsKC0xKSkpIHtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnQgPSBjb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1N3aXBlU3RhdGUgPSBTd2lwZVN0YXRlLk5PTkU7XG4gICAgICAgICAgICAgICAgbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbiA9IHN3aXBlRHVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbiA9IE1hdGgucm91bmQobmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgIGNsZWFudXBTd2lwZU9mZnNldCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRTd2lwZU9mZnNldCgwKTtcbiAgICAgICAgICAgIHNldFN3aXBlU3RhdGUoU3dpcGVTdGF0ZS5OT05FKTtcbiAgICAgICAgfSwgbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgIGlmIChjYXJvdXNlbFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBwcmVwYXJlQW5pbWF0aW9uKHtcbiAgICAgICAgICAgICAgICByZWN0OiBjYXJvdXNlbFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgICAgIGluZGV4OiBzdGF0ZS5nbG9iYWxJbmRleCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNldFN3aXBlU3RhdGUobmV3U3dpcGVTdGF0ZSk7XG4gICAgICAgIHB1Ymxpc2goQUNUSU9OX1NXSVBFLCB7XG4gICAgICAgICAgICB0eXBlOiBcInN3aXBlXCIsXG4gICAgICAgICAgICBpbmNyZW1lbnQsXG4gICAgICAgICAgICBkdXJhdGlvbjogbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZzogc3dpcGVFYXNpbmcsXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICgoKF9hID0gc3RhdGUuYW5pbWF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5jcmVtZW50KSAmJiAoKF9iID0gc3RhdGUuYW5pbWF0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICBjbGVhbnVwQW5pbWF0aW9uSW5jcmVtZW50KCgpID0+IGRpc3BhdGNoKHsgdHlwZTogXCJzd2lwZVwiLCBpbmNyZW1lbnQ6IDAgfSksIHN0YXRlLmFuaW1hdGlvbi5kdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICB9LCBbc3RhdGUuYW5pbWF0aW9uLCBkaXNwYXRjaCwgY2xlYW51cEFuaW1hdGlvbkluY3JlbWVudF0pO1xuICAgIGNvbnN0IHN3aXBlUGFyYW1zID0gW1xuICAgICAgICBzdWJzY3JpYmVTZW5zb3JzLFxuICAgICAgICBpc1N3aXBlVmFsaWQsXG4gICAgICAgIChjb250YWluZXJSZWN0ID09PSBudWxsIHx8IGNvbnRhaW5lclJlY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRhaW5lclJlY3Qud2lkdGgpIHx8IDAsXG4gICAgICAgIGFuaW1hdGlvbi5zd2lwZSxcbiAgICAgICAgKCkgPT4gc2V0U3dpcGVTdGF0ZShTd2lwZVN0YXRlLlNXSVBFKSxcbiAgICAgICAgKG9mZnNldCkgPT4gc2V0U3dpcGVPZmZzZXQob2Zmc2V0KSxcbiAgICAgICAgKG9mZnNldCwgZHVyYXRpb24pID0+IHN3aXBlKHsgb2Zmc2V0LCBkdXJhdGlvbiwgY291bnQ6IDEgfSksXG4gICAgICAgIChvZmZzZXQpID0+IHN3aXBlKHsgb2Zmc2V0LCBjb3VudDogMCB9KSxcbiAgICBdO1xuICAgIGNvbnN0IHB1bGxQYXJhbXMgPSBbXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGlmIChjbG9zZU9uUHVsbERvd24pIHtcbiAgICAgICAgICAgICAgICBzZXRTd2lwZVN0YXRlKFN3aXBlU3RhdGUuUFVMTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIChvZmZzZXQpID0+IHNldFB1bGxPZmZzZXQob2Zmc2V0KSxcbiAgICAgICAgKG9mZnNldCkgPT4gcHVsbChvZmZzZXQpLFxuICAgICAgICAob2Zmc2V0KSA9PiBwdWxsKG9mZnNldCwgdHJ1ZSksXG4gICAgXTtcbiAgICB1c2VQb2ludGVyU3dpcGUoLi4uc3dpcGVQYXJhbXMsIGNsb3NlT25QdWxsVXAsIGNsb3NlT25QdWxsRG93biwgLi4ucHVsbFBhcmFtcyk7XG4gICAgdXNlV2hlZWxTd2lwZShzd2lwZVN0YXRlLCAuLi5zd2lwZVBhcmFtcyk7XG4gICAgY29uc3QgZm9jdXNPbk1vdW50ID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChjb250cm9sbGVyLmZvY3VzICYmXG4gICAgICAgICAgICBnZXRPd25lckRvY3VtZW50KCkucXVlcnlTZWxlY3RvcihgLiR7Y3NzQ2xhc3MoTU9EVUxFX1BPUlRBTCl9IC4ke2Nzc0NsYXNzKGNzc0NvbnRhaW5lclByZWZpeCgpKX1gKSkge1xuICAgICAgICAgICAgZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChmb2N1c09uTW91bnQsIFtmb2N1c09uTW91bnRdKTtcbiAgICBjb25zdCBvblZpZXdDYWxsYmFjayA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IG9uLnZpZXcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uLCB7IGluZGV4OiBzdGF0ZS5jdXJyZW50SW5kZXggfSk7XG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KG9uVmlld0NhbGxiYWNrLCBbc3RhdGUuZ2xvYmFsSW5kZXgsIG9uVmlld0NhbGxiYWNrXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IGNsZWFudXAoc3Vic2NyaWJlKEFDVElPTl9QUkVWLCAoYWN0aW9uKSA9PiBzd2lwZSh7IGRpcmVjdGlvbjogQUNUSU9OX1BSRVYsIC4uLmFjdGlvbiB9KSksIHN1YnNjcmliZShBQ1RJT05fTkVYVCwgKGFjdGlvbikgPT4gc3dpcGUoeyBkaXJlY3Rpb246IEFDVElPTl9ORVhULCAuLi5hY3Rpb24gfSkpLCBzdWJzY3JpYmUoQUNUSU9OX1NXSVBFLCAoYWN0aW9uKSA9PiBkaXNwYXRjaChhY3Rpb24pKSksIFtzdWJzY3JpYmUsIHN3aXBlLCBkaXNwYXRjaF0pO1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIHByZXYsXG4gICAgICAgIG5leHQsXG4gICAgICAgIGNsb3NlLFxuICAgICAgICBmb2N1cyxcbiAgICAgICAgc2xpZGVSZWN0OiBjb250YWluZXJSZWN0ID8gY29tcHV0ZVNsaWRlUmVjdChjb250YWluZXJSZWN0LCBjYXJvdXNlbC5wYWRkaW5nKSA6IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9LFxuICAgICAgICBjb250YWluZXJSZWN0OiBjb250YWluZXJSZWN0IHx8IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9LFxuICAgICAgICBzdWJzY3JpYmVTZW5zb3JzLFxuICAgICAgICBjb250YWluZXJSZWYsXG4gICAgICAgIHNldENhcm91c2VsUmVmLFxuICAgICAgICB0b29sYmFyV2lkdGgsXG4gICAgICAgIHNldFRvb2xiYXJXaWR0aCxcbiAgICB9KSwgW1xuICAgICAgICBwcmV2LFxuICAgICAgICBuZXh0LFxuICAgICAgICBjbG9zZSxcbiAgICAgICAgZm9jdXMsXG4gICAgICAgIHN1YnNjcmliZVNlbnNvcnMsXG4gICAgICAgIGNvbnRhaW5lclJlY3QsXG4gICAgICAgIGNvbnRhaW5lclJlZixcbiAgICAgICAgc2V0Q2Fyb3VzZWxSZWYsXG4gICAgICAgIHRvb2xiYXJXaWR0aCxcbiAgICAgICAgc2V0VG9vbGJhcldpZHRoLFxuICAgICAgICBjYXJvdXNlbC5wYWRkaW5nLFxuICAgIF0pO1xuICAgIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUoY29udHJvbGxlci5yZWYsICgpID0+ICh7XG4gICAgICAgIHByZXYsXG4gICAgICAgIG5leHQsXG4gICAgICAgIGNsb3NlLFxuICAgICAgICBmb2N1cyxcbiAgICAgICAgZ2V0TGlnaHRib3hQcm9wcyxcbiAgICAgICAgZ2V0TGlnaHRib3hTdGF0ZSxcbiAgICB9KSwgW3ByZXYsIG5leHQsIGNsb3NlLCBmb2N1cywgZ2V0TGlnaHRib3hQcm9wcywgZ2V0TGlnaHRib3hTdGF0ZV0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogaGFuZGxlQ29udGFpbmVyUmVmLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoY3NzQ29udGFpbmVyUHJlZml4KCkpLCBjc3NDbGFzcyhDTEFTU19GTEVYX0NFTlRFUikpLCBzdHlsZToge1xuICAgICAgICAgICAgLi4uKHN3aXBlU3RhdGUgPT09IFN3aXBlU3RhdGUuU1dJUEVcbiAgICAgICAgICAgICAgICA/IHsgW2Nzc1ZhcihcInN3aXBlX29mZnNldFwiKV06IGAke01hdGgucm91bmQoc3dpcGVPZmZzZXQuY3VycmVudCl9cHhgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKHN3aXBlU3RhdGUgPT09IFN3aXBlU3RhdGUuUFVMTFxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBbY3NzVmFyKFwicHVsbF9vZmZzZXRcIildOiBgJHtNYXRoLnJvdW5kKHB1bGxPZmZzZXQuY3VycmVudCl9cHhgLFxuICAgICAgICAgICAgICAgICAgICBbY3NzVmFyKFwicHVsbF9vcGFjaXR5XCIpXTogYCR7cHVsbE9wYWNpdHkuY3VycmVudH1gLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKGNvbnRyb2xsZXIudG91Y2hBY3Rpb24gIT09IFwibm9uZVwiID8geyBbY3NzVmFyKFwiY29udHJvbGxlcl90b3VjaF9hY3Rpb25cIildOiBjb250cm9sbGVyLnRvdWNoQWN0aW9uIH0gOiBudWxsKSxcbiAgICAgICAgICAgIC4uLnN0eWxlcy5jb250YWluZXIsXG4gICAgICAgIH0sIC4uLihjb250cm9sbGVyLmFyaWEgPyB7IHJvbGU6IFwicHJlc2VudGF0aW9uXCIsIFwiYXJpYS1saXZlXCI6IFwicG9saXRlXCIgfSA6IG51bGwpLCB0YWJJbmRleDogLTEsIC4uLnJlZ2lzdGVyU2Vuc29ycyB9LCBjb250YWluZXJSZWN0ICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRyb2xsZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sXG4gICAgICAgIGNoaWxkcmVuLCAoX2EgPSByZW5kZXIuY29udHJvbHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOlxuICAgICAgICBfYS5jYWxsKHJlbmRlcikpKSkpO1xufVxuY29uc3QgQ29udHJvbGxlck1vZHVsZSA9IGNyZWF0ZU1vZHVsZShNT0RVTEVfQ09OVFJPTExFUiwgQ29udHJvbGxlcik7XG5cbmZ1bmN0aW9uIGNzc1ByZWZpeCQyKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNvbXBvc2VQcmVmaXgoTU9EVUxFX0NBUk9VU0VMLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBjc3NTbGlkZVByZWZpeCh2YWx1ZSkge1xuICAgIHJldHVybiBjb21wb3NlUHJlZml4KFwic2xpZGVcIiwgdmFsdWUpO1xufVxuZnVuY3Rpb24gQ2Fyb3VzZWxTbGlkZSh7IHNsaWRlLCBvZmZzZXQgfSkge1xuICAgIGNvbnN0IGNvbnRhaW5lclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IGN1cnJlbnRJbmRleCB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIGNvbnN0IHsgc2xpZGVSZWN0LCBjbG9zZSB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgcmVuZGVyLCBjYXJvdXNlbDogeyBpbWFnZUZpdCwgaW1hZ2VQcm9wcyB9LCBvbjogeyBjbGljazogb25DbGljayB9LCBjb250cm9sbGVyOiB7IGNsb3NlT25CYWNrZHJvcENsaWNrIH0sIHN0eWxlczogeyBzbGlkZTogc3R5bGUgfSwgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCByZW5kZXJTbGlkZSA9ICgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBsZXQgcmVuZGVyZWQgPSAoX2EgPSByZW5kZXIuc2xpZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHJlbmRlciwgeyBzbGlkZSwgb2Zmc2V0LCByZWN0OiBzbGlkZVJlY3QgfSk7XG4gICAgICAgIGlmICghcmVuZGVyZWQgJiYgaXNJbWFnZVNsaWRlKHNsaWRlKSkge1xuICAgICAgICAgICAgcmVuZGVyZWQgPSAoUmVhY3QuY3JlYXRlRWxlbWVudChJbWFnZVNsaWRlLCB7IHNsaWRlOiBzbGlkZSwgb2Zmc2V0OiBvZmZzZXQsIHJlbmRlcjogcmVuZGVyLCByZWN0OiBzbGlkZVJlY3QsIGltYWdlRml0OiBpbWFnZUZpdCwgaW1hZ2VQcm9wczogaW1hZ2VQcm9wcywgb25DbGljazogb2Zmc2V0ID09PSAwID8gKCkgPT4gb25DbGljayA9PT0gbnVsbCB8fCBvbkNsaWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNsaWNrKHsgaW5kZXg6IGN1cnJlbnRJbmRleCB9KSA6IHVuZGVmaW5lZCB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlbmRlcmVkID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIChfYiA9IHJlbmRlci5zbGlkZUhlYWRlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6XG4gICAgICAgICAgICBfYi5jYWxsKHJlbmRlciwgeyBzbGlkZSB9KSxcbiAgICAgICAgICAgICgoX2MgPSByZW5kZXIuc2xpZGVDb250YWluZXIpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICgoeyBjaGlsZHJlbiB9KSA9PiBjaGlsZHJlbikpKHsgc2xpZGUsIGNoaWxkcmVuOiByZW5kZXJlZCB9KSwgKF9kID0gcmVuZGVyLnNsaWRlRm9vdGVyKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDpcbiAgICAgICAgICAgIF9kLmNhbGwocmVuZGVyLCB7IHNsaWRlIH0pKSkgOiBudWxsO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQmFja2Ryb3BDbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyBldmVudC50YXJnZXQgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChjbG9zZU9uQmFja2Ryb3BDbGljayAmJlxuICAgICAgICAgICAgdGFyZ2V0ICYmXG4gICAgICAgICAgICBjb250YWluZXIgJiZcbiAgICAgICAgICAgICh0YXJnZXQgPT09IGNvbnRhaW5lciB8fFxuICAgICAgICAgICAgICAgIChBcnJheS5mcm9tKGNvbnRhaW5lci5jaGlsZHJlbikuZmluZCgoeCkgPT4geCA9PT0gdGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGNzc0NsYXNzKENMQVNTX1NMSURFX1dSQVBQRVIpKSkpKSB7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGNvbnRhaW5lclJlZiwgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKGNzc1NsaWRlUHJlZml4KCkpLCBvZmZzZXQgPT09IDAgJiYgY3NzQ2xhc3MoY3NzU2xpZGVQcmVmaXgoXCJjdXJyZW50XCIpKSwgY3NzQ2xhc3MoQ0xBU1NfRkxFWF9DRU5URVIpKSwgb25DbGljazogaGFuZGxlQmFja2Ryb3BDbGljaywgc3R5bGU6IHN0eWxlIH0sIHJlbmRlclNsaWRlKCkpKTtcbn1cbmZ1bmN0aW9uIFBsYWNlaG9sZGVyKCkge1xuICAgIGNvbnN0IHN0eWxlID0gdXNlTGlnaHRib3hQcm9wcygpLnN0eWxlcy5zbGlkZTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY3NzQ2xhc3MoXCJzbGlkZVwiKSwgc3R5bGU6IHN0eWxlIH0pO1xufVxuZnVuY3Rpb24gQ2Fyb3VzZWwoeyBjYXJvdXNlbCB9KSB7XG4gICAgY29uc3QgeyBzbGlkZXMsIGN1cnJlbnRJbmRleCwgZ2xvYmFsSW5kZXggfSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICBjb25zdCB7IHNldENhcm91c2VsUmVmIH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3Qgc3BhY2luZ1ZhbHVlID0gcGFyc2VMZW5ndGhQZXJjZW50YWdlKGNhcm91c2VsLnNwYWNpbmcpO1xuICAgIGNvbnN0IHBhZGRpbmdWYWx1ZSA9IHBhcnNlTGVuZ3RoUGVyY2VudGFnZShjYXJvdXNlbC5wYWRkaW5nKTtcbiAgICBjb25zdCBwcmVsb2FkID0gY2FsY3VsYXRlUHJlbG9hZChjYXJvdXNlbCwgc2xpZGVzLCAxKTtcbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgIGlmIChoYXNTbGlkZXMoc2xpZGVzKSkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IGN1cnJlbnRJbmRleCAtIHByZWxvYWQ7IGluZGV4IDw9IGN1cnJlbnRJbmRleCArIHByZWxvYWQ7IGluZGV4ICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHNsaWRlID0gZ2V0U2xpZGUoc2xpZGVzLCBpbmRleCk7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBnbG9iYWxJbmRleCAtIGN1cnJlbnRJbmRleCArIGluZGV4O1xuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBjYXJvdXNlbC5maW5pdGUgJiYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHNsaWRlcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goIXBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogW2Ake2tleX1gLCBnZXRTbGlkZUtleShzbGlkZSldLmZpbHRlcihCb29sZWFuKS5qb2luKFwifFwiKSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBpbmRleCAtIGN1cnJlbnRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGUsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogeyBrZXkgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBzZXRDYXJvdXNlbFJlZiwgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKGNzc1ByZWZpeCQyKCkpLCBpdGVtcy5sZW5ndGggPiAwICYmIGNzc0NsYXNzKGNzc1ByZWZpeCQyKFwid2l0aF9zbGlkZXNcIikpKSwgc3R5bGU6IHtcbiAgICAgICAgICAgIFtgJHtjc3NWYXIoY3NzUHJlZml4JDIoXCJzbGlkZXNfY291bnRcIikpfWBdOiBpdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICBbYCR7Y3NzVmFyKGNzc1ByZWZpeCQyKFwic3BhY2luZ19weFwiKSl9YF06IHNwYWNpbmdWYWx1ZS5waXhlbCB8fCAwLFxuICAgICAgICAgICAgW2Ake2Nzc1Zhcihjc3NQcmVmaXgkMihcInNwYWNpbmdfcGVyY2VudFwiKSl9YF06IHNwYWNpbmdWYWx1ZS5wZXJjZW50IHx8IDAsXG4gICAgICAgICAgICBbYCR7Y3NzVmFyKGNzc1ByZWZpeCQyKFwicGFkZGluZ19weFwiKSl9YF06IHBhZGRpbmdWYWx1ZS5waXhlbCB8fCAwLFxuICAgICAgICAgICAgW2Ake2Nzc1Zhcihjc3NQcmVmaXgkMihcInBhZGRpbmdfcGVyY2VudFwiKSl9YF06IHBhZGRpbmdWYWx1ZS5wZXJjZW50IHx8IDAsXG4gICAgICAgIH0gfSwgaXRlbXMubWFwKCh7IGtleSwgc2xpZGUsIG9mZnNldCB9KSA9PiBzbGlkZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2Fyb3VzZWxTbGlkZSwgeyBrZXk6IGtleSwgc2xpZGU6IHNsaWRlLCBvZmZzZXQ6IG9mZnNldCB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGxhY2Vob2xkZXIsIHsga2V5OiBrZXkgfSkpKSk7XG59XG5jb25zdCBDYXJvdXNlbE1vZHVsZSA9IGNyZWF0ZU1vZHVsZShNT0RVTEVfQ0FST1VTRUwsIENhcm91c2VsKTtcblxuZnVuY3Rpb24gdXNlTmF2aWdhdGlvblN0YXRlKCkge1xuICAgIGNvbnN0IHsgY2Fyb3VzZWwgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCB7IHNsaWRlcywgY3VycmVudEluZGV4IH0gPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgcHJldkRpc2FibGVkID0gc2xpZGVzLmxlbmd0aCA9PT0gMCB8fCAoY2Fyb3VzZWwuZmluaXRlICYmIGN1cnJlbnRJbmRleCA9PT0gMCk7XG4gICAgY29uc3QgbmV4dERpc2FibGVkID0gc2xpZGVzLmxlbmd0aCA9PT0gMCB8fCAoY2Fyb3VzZWwuZmluaXRlICYmIGN1cnJlbnRJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgIHJldHVybiB7IHByZXZEaXNhYmxlZCwgbmV4dERpc2FibGVkIH07XG59XG5cbmZ1bmN0aW9uIHVzZUtleWJvYXJkTmF2aWdhdGlvbihzdWJzY3JpYmVTZW5zb3JzKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGlzUlRMID0gdXNlUlRMKCk7XG4gICAgY29uc3QgeyBwdWJsaXNoIH0gPSB1c2VFdmVudHMoKTtcbiAgICBjb25zdCB7IGFuaW1hdGlvbiB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IHsgcHJldkRpc2FibGVkLCBuZXh0RGlzYWJsZWQgfSA9IHVzZU5hdmlnYXRpb25TdGF0ZSgpO1xuICAgIGNvbnN0IHRocm90dGxlID0gKChfYSA9IGFuaW1hdGlvbi5uYXZpZ2F0aW9uKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBhbmltYXRpb24uc3dpcGUpIC8gMjtcbiAgICBjb25zdCBwcmV2ID0gdXNlVGhyb3R0bGUoKCkgPT4gcHVibGlzaChBQ1RJT05fUFJFViksIHRocm90dGxlKTtcbiAgICBjb25zdCBuZXh0ID0gdXNlVGhyb3R0bGUoKCkgPT4gcHVibGlzaChBQ1RJT05fTkVYVCksIHRocm90dGxlKTtcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgVktfRVNDQVBFOlxuICAgICAgICAgICAgICAgIHB1Ymxpc2goQUNUSU9OX0NMT1NFKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVktfQVJST1dfTEVGVDpcbiAgICAgICAgICAgICAgICBpZiAoIShpc1JUTCA/IG5leHREaXNhYmxlZCA6IHByZXZEaXNhYmxlZCkpXG4gICAgICAgICAgICAgICAgICAgIChpc1JUTCA/IG5leHQgOiBwcmV2KSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBWS19BUlJPV19SSUdIVDpcbiAgICAgICAgICAgICAgICBpZiAoIShpc1JUTCA/IHByZXZEaXNhYmxlZCA6IG5leHREaXNhYmxlZCkpXG4gICAgICAgICAgICAgICAgICAgIChpc1JUTCA/IHByZXYgOiBuZXh0KSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX0tFWV9ET1dOLCBoYW5kbGVLZXlEb3duKSwgW3N1YnNjcmliZVNlbnNvcnMsIGhhbmRsZUtleURvd25dKTtcbn1cblxuZnVuY3Rpb24gTmF2aWdhdGlvbkJ1dHRvbih7IGxhYmVsLCBpY29uLCByZW5kZXJJY29uLCBhY3Rpb24sIG9uQ2xpY2ssIGRpc2FibGVkLCBzdHlsZSB9KSB7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgbGFiZWw6IGxhYmVsLCBpY29uOiBpY29uLCByZW5kZXJJY29uOiByZW5kZXJJY29uLCBjbGFzc05hbWU6IGNzc0NsYXNzKGBuYXZpZ2F0aW9uXyR7YWN0aW9ufWApLCBkaXNhYmxlZDogZGlzYWJsZWQsIG9uQ2xpY2s6IG9uQ2xpY2ssIHN0eWxlOiBzdHlsZSwgLi4udXNlTG9zZUZvY3VzKHVzZUNvbnRyb2xsZXIoKS5mb2N1cywgZGlzYWJsZWQpIH0pKTtcbn1cbmZ1bmN0aW9uIE5hdmlnYXRpb24oeyByZW5kZXI6IHsgYnV0dG9uUHJldiwgYnV0dG9uTmV4dCwgaWNvblByZXYsIGljb25OZXh0IH0sIHN0eWxlcyB9KSB7XG4gICAgY29uc3QgeyBwcmV2LCBuZXh0LCBzdWJzY3JpYmVTZW5zb3JzIH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgeyBwcmV2RGlzYWJsZWQsIG5leHREaXNhYmxlZCB9ID0gdXNlTmF2aWdhdGlvblN0YXRlKCk7XG4gICAgdXNlS2V5Ym9hcmROYXZpZ2F0aW9uKHN1YnNjcmliZVNlbnNvcnMpO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgYnV0dG9uUHJldiA/IChidXR0b25QcmV2KCkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTmF2aWdhdGlvbkJ1dHRvbiwgeyBsYWJlbDogXCJQcmV2aW91c1wiLCBhY3Rpb246IEFDVElPTl9QUkVWLCBpY29uOiBQcmV2aW91c0ljb24sIHJlbmRlckljb246IGljb25QcmV2LCBzdHlsZTogc3R5bGVzLm5hdmlnYXRpb25QcmV2LCBkaXNhYmxlZDogcHJldkRpc2FibGVkLCBvbkNsaWNrOiBwcmV2IH0pKSxcbiAgICAgICAgYnV0dG9uTmV4dCA/IChidXR0b25OZXh0KCkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTmF2aWdhdGlvbkJ1dHRvbiwgeyBsYWJlbDogXCJOZXh0XCIsIGFjdGlvbjogQUNUSU9OX05FWFQsIGljb246IE5leHRJY29uLCByZW5kZXJJY29uOiBpY29uTmV4dCwgc3R5bGU6IHN0eWxlcy5uYXZpZ2F0aW9uTmV4dCwgZGlzYWJsZWQ6IG5leHREaXNhYmxlZCwgb25DbGljazogbmV4dCB9KSkpKTtcbn1cbmNvbnN0IE5hdmlnYXRpb25Nb2R1bGUgPSBjcmVhdGVNb2R1bGUoTU9EVUxFX05BVklHQVRJT04sIE5hdmlnYXRpb24pO1xuXG5jb25zdCBub1Njcm9sbCA9IGNzc0NsYXNzKENMQVNTX05PX1NDUk9MTCk7XG5jb25zdCBub1Njcm9sbFBhZGRpbmcgPSBjc3NDbGFzcyhDTEFTU19OT19TQ1JPTExfUEFERElORyk7XG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gXCJzdHlsZVwiIGluIGVsZW1lbnQ7XG59XG5mdW5jdGlvbiBwYWRTY3JvbGxiYXIoZWxlbWVudCwgcGFkZGluZywgcnRsKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgY29uc3QgcHJvcGVydHkgPSBydGwgPyBcInBhZGRpbmctbGVmdFwiIDogXCJwYWRkaW5nLXJpZ2h0XCI7XG4gICAgY29uc3QgY29tcHV0ZWRWYWx1ZSA9IHJ0bCA/IHN0eWxlcy5wYWRkaW5nTGVmdCA6IHN0eWxlcy5wYWRkaW5nUmlnaHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxWYWx1ZSA9IGVsZW1lbnQuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSk7XG4gICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgYCR7KHBhcnNlSW50KGNvbXB1dGVkVmFsdWUpIHx8IDApICsgcGFkZGluZ31weGApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChvcmlnaW5hbFZhbHVlKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5LCBvcmlnaW5hbFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIE5vU2Nyb2xsKHsgbm9TY3JvbGw6IHsgZGlzYWJsZWQgfSwgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IHJ0bCA9IHVzZVJUTCgpO1xuICAgIGNvbnN0IHsgZ2V0T3duZXJEb2N1bWVudCwgZ2V0T3duZXJXaW5kb3cgfSA9IHVzZURvY3VtZW50Q29udGV4dCgpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChkaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBbXTtcbiAgICAgICAgY29uc3Qgb3duZXJXaW5kb3cgPSBnZXRPd25lcldpbmRvdygpO1xuICAgICAgICBjb25zdCB7IGJvZHksIGRvY3VtZW50RWxlbWVudCB9ID0gZ2V0T3duZXJEb2N1bWVudCgpO1xuICAgICAgICBjb25zdCBzY3JvbGxiYXIgPSBNYXRoLnJvdW5kKG93bmVyV2luZG93LmlubmVyV2lkdGggLSBkb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpO1xuICAgICAgICBpZiAoc2Nyb2xsYmFyID4gMCkge1xuICAgICAgICAgICAgY2xlYW51cC5wdXNoKHBhZFNjcm9sbGJhcihib2R5LCBzY3JvbGxiYXIsIHJ0bCkpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlzSFRNTEVsZW1lbnQoZWxlbWVudCkgJiZcbiAgICAgICAgICAgICAgICAgICAgb3duZXJXaW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKFwicG9zaXRpb25cIikgPT09IFwiZml4ZWRcIiAmJlxuICAgICAgICAgICAgICAgICAgICAhZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMobm9TY3JvbGxQYWRkaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwLnB1c2gocGFkU2Nyb2xsYmFyKGVsZW1lbnQsIHNjcm9sbGJhciwgcnRsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChub1Njcm9sbCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUobm9TY3JvbGwpO1xuICAgICAgICAgICAgY2xlYW51cC5mb3JFYWNoKChjbGVhbikgPT4gY2xlYW4oKSk7XG4gICAgICAgIH07XG4gICAgfSwgW3J0bCwgZGlzYWJsZWQsIGdldE93bmVyRG9jdW1lbnQsIGdldE93bmVyV2luZG93XSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKTtcbn1cbmNvbnN0IE5vU2Nyb2xsTW9kdWxlID0gY3JlYXRlTW9kdWxlKE1PRFVMRV9OT19TQ1JPTEwsIE5vU2Nyb2xsKTtcblxuZnVuY3Rpb24gY3NzUHJlZml4JDEodmFsdWUpIHtcbiAgICByZXR1cm4gY29tcG9zZVByZWZpeChNT0RVTEVfUE9SVEFMLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChwcmV2aW91c1ZhbHVlKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHByZXZpb3VzVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBQb3J0YWwoeyBjaGlsZHJlbiwgYW5pbWF0aW9uLCBzdHlsZXMsIGNsYXNzTmFtZSwgb24sIHBvcnRhbCwgY2xvc2UgfSkge1xuICAgIGNvbnN0IFttb3VudGVkLCBzZXRNb3VudGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgY2xlYW51cCA9IFJlYWN0LnVzZVJlZihbXSk7XG4gICAgY29uc3QgcmVzdG9yZUZvY3VzID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHsgc2V0VGltZW91dCB9ID0gdXNlVGltZW91dHMoKTtcbiAgICBjb25zdCB7IHN1YnNjcmliZSB9ID0gdXNlRXZlbnRzKCk7XG4gICAgY29uc3QgcmVkdWNlTW90aW9uID0gdXNlTW90aW9uUHJlZmVyZW5jZSgpO1xuICAgIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9uID0gIXJlZHVjZU1vdGlvbiA/IGFuaW1hdGlvbi5mYWRlIDogMDtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRNb3VudGVkKHRydWUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc2V0TW91bnRlZChmYWxzZSk7XG4gICAgICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgaGFuZGxlQ2xlYW51cCA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjbGVhbnVwLmN1cnJlbnQuZm9yRWFjaCgoY2xlYW4pID0+IGNsZWFuKCkpO1xuICAgICAgICBjbGVhbnVwLmN1cnJlbnQgPSBbXTtcbiAgICB9KTtcbiAgICBjb25zdCBoYW5kbGVDbG9zZSA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBoYW5kbGVDbGVhbnVwKCk7XG4gICAgICAgIChfYSA9IG9uLmV4aXRpbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSBvbi5leGl0ZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uKTtcbiAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgIH0sIGFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gc3Vic2NyaWJlKEFDVElPTl9DTE9TRSwgaGFuZGxlQ2xvc2UpLCBbc3Vic2NyaWJlLCBoYW5kbGVDbG9zZV0pO1xuICAgIGNvbnN0IGhhbmRsZUVudGVyID0gdXNlRXZlbnRDYWxsYmFjaygobm9kZSkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgbm9kZS5zY3JvbGxUb3A7XG4gICAgICAgIHNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIChfYSA9IG9uLmVudGVyaW5nKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvbik7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gKF9jID0gKF9iID0gbm9kZS5wYXJlbnROb2RlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2hpbGRyZW4pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICBpZiAoW1wiVEVNUExBVEVcIiwgXCJTQ1JJUFRcIiwgXCJTVFlMRVwiXS5pbmRleE9mKGVsZW1lbnQudGFnTmFtZSkgPT09IC0xICYmIGVsZW1lbnQgIT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwLmN1cnJlbnQucHVzaChzZXRBdHRyaWJ1dGUoZWxlbWVudCwgXCJpbmVydFwiLCBcInRydWVcIikpO1xuICAgICAgICAgICAgICAgIGNsZWFudXAuY3VycmVudC5wdXNoKHNldEF0dHJpYnV0ZShlbGVtZW50LCBcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xlYW51cC5jdXJyZW50LnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIChfYiA9IChfYSA9IHJlc3RvcmVGb2N1cy5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gb24uZW50ZXJlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24pO1xuICAgICAgICB9LCBhbmltYXRpb25EdXJhdGlvbik7XG4gICAgfSk7XG4gICAgY29uc3QgaGFuZGxlUmVmID0gUmVhY3QudXNlQ2FsbGJhY2soKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIGhhbmRsZUVudGVyKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlQ2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfSwgW2hhbmRsZUVudGVyLCBoYW5kbGVDbGVhbnVwXSk7XG4gICAgcmV0dXJuIG1vdW50ZWRcbiAgICAgICAgPyBjcmVhdGVQb3J0YWwoUmVhY3QuY3JlYXRlRWxlbWVudChMaWdodGJveFJvb3QsIHsgcmVmOiBoYW5kbGVSZWYsIGNsYXNzTmFtZTogY2xzeChjbGFzc05hbWUsIGNzc0NsYXNzKGNzc1ByZWZpeCQxKCkpLCBjc3NDbGFzcyhDTEFTU19OT19TQ1JPTExfUEFERElORyksIHZpc2libGUgJiYgY3NzQ2xhc3MoY3NzUHJlZml4JDEoXCJvcGVuXCIpKSksIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsIFwiYXJpYS1saXZlXCI6IFwicG9saXRlXCIsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgLi4uKGFuaW1hdGlvbi5mYWRlICE9PSBMaWdodGJveERlZmF1bHRQcm9wcy5hbmltYXRpb24uZmFkZVxuICAgICAgICAgICAgICAgICAgICA/IHsgW2Nzc1ZhcihcImZhZGVfYW5pbWF0aW9uX2R1cmF0aW9uXCIpXTogYCR7YW5pbWF0aW9uRHVyYXRpb259bXNgIH1cbiAgICAgICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgICAgICAuLi4oYW5pbWF0aW9uLmVhc2luZy5mYWRlICE9PSBMaWdodGJveERlZmF1bHRQcm9wcy5hbmltYXRpb24uZWFzaW5nLmZhZGVcbiAgICAgICAgICAgICAgICAgICAgPyB7IFtjc3NWYXIoXCJmYWRlX2FuaW1hdGlvbl90aW1pbmdfZnVuY3Rpb25cIildOiBhbmltYXRpb24uZWFzaW5nLmZhZGUgfVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlcy5yb290LFxuICAgICAgICAgICAgfSwgb25Gb2N1czogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN0b3JlRm9jdXMuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXN0b3JlRm9jdXMuY3VycmVudCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB9LCBjaGlsZHJlbiksIHBvcnRhbC5yb290IHx8IGRvY3VtZW50LmJvZHkpXG4gICAgICAgIDogbnVsbDtcbn1cbmNvbnN0IFBvcnRhbE1vZHVsZSA9IGNyZWF0ZU1vZHVsZShNT0RVTEVfUE9SVEFMLCBQb3J0YWwpO1xuXG5mdW5jdGlvbiBSb290KHsgY2hpbGRyZW4gfSkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBjaGlsZHJlbik7XG59XG5jb25zdCBSb290TW9kdWxlID0gY3JlYXRlTW9kdWxlKE1PRFVMRV9ST09ULCBSb290KTtcblxuZnVuY3Rpb24gY3NzUHJlZml4KHZhbHVlKSB7XG4gICAgcmV0dXJuIGNvbXBvc2VQcmVmaXgoTU9EVUxFX1RPT0xCQVIsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIFRvb2xiYXIoeyB0b29sYmFyOiB7IGJ1dHRvbnMgfSwgcmVuZGVyOiB7IGJ1dHRvbkNsb3NlLCBpY29uQ2xvc2UgfSwgc3R5bGVzIH0pIHtcbiAgICBjb25zdCB7IGNsb3NlLCBzZXRUb29sYmFyV2lkdGggfSA9IHVzZUNvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB7IHNldENvbnRhaW5lclJlZiwgY29udGFpbmVyUmVjdCB9ID0gdXNlQ29udGFpbmVyUmVjdCgpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldFRvb2xiYXJXaWR0aChjb250YWluZXJSZWN0ID09PSBudWxsIHx8IGNvbnRhaW5lclJlY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRhaW5lclJlY3Qud2lkdGgpO1xuICAgIH0sIFtzZXRUb29sYmFyV2lkdGgsIGNvbnRhaW5lclJlY3QgPT09IG51bGwgfHwgY29udGFpbmVyUmVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGFpbmVyUmVjdC53aWR0aF0pO1xuICAgIGNvbnN0IHJlbmRlckNsb3NlQnV0dG9uID0gKCkgPT4ge1xuICAgICAgICBpZiAoYnV0dG9uQ2xvc2UpXG4gICAgICAgICAgICByZXR1cm4gYnV0dG9uQ2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwgeyBrZXk6IEFDVElPTl9DTE9TRSwgbGFiZWw6IFwiQ2xvc2VcIiwgaWNvbjogQ2xvc2VJY29uLCByZW5kZXJJY29uOiBpY29uQ2xvc2UsIG9uQ2xpY2s6IGNsb3NlIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBzZXRDb250YWluZXJSZWYsIHN0eWxlOiBzdHlsZXMudG9vbGJhciwgY2xhc3NOYW1lOiBjc3NDbGFzcyhjc3NQcmVmaXgoKSkgfSwgYnV0dG9ucyA9PT0gbnVsbCB8fCBidXR0b25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBidXR0b25zLm1hcCgoYnV0dG9uKSA9PiAoYnV0dG9uID09PSBBQ1RJT05fQ0xPU0UgPyByZW5kZXJDbG9zZUJ1dHRvbigpIDogYnV0dG9uKSkpKTtcbn1cbmNvbnN0IFRvb2xiYXJNb2R1bGUgPSBjcmVhdGVNb2R1bGUoTU9EVUxFX1RPT0xCQVIsIFRvb2xiYXIpO1xuXG5mdW5jdGlvbiByZW5kZXJOb2RlKG5vZGUsIHByb3BzKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KG5vZGUubW9kdWxlLmNvbXBvbmVudCwgeyBrZXk6IG5vZGUubW9kdWxlLm5hbWUsIC4uLnByb3BzIH0sIChfYSA9IG5vZGUuY2hpbGRyZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAoKGNoaWxkKSA9PiByZW5kZXJOb2RlKGNoaWxkLCBwcm9wcykpKTtcbn1cbmZ1bmN0aW9uIG1lcmdlQW5pbWF0aW9uKGRlZmF1bHRBbmltYXRpb24sIGFuaW1hdGlvbiA9IHt9KSB7XG4gICAgY29uc3QgeyBlYXNpbmc6IGRlZmF1bHRBbmltYXRpb25FYXNpbmcsIC4uLnJlc3REZWZhdWx0QW5pbWF0aW9uIH0gPSBkZWZhdWx0QW5pbWF0aW9uO1xuICAgIGNvbnN0IHsgZWFzaW5nLCAuLi5yZXN0QW5pbWF0aW9uIH0gPSBhbmltYXRpb247XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZWFzaW5nOiB7IC4uLmRlZmF1bHRBbmltYXRpb25FYXNpbmcsIC4uLmVhc2luZyB9LFxuICAgICAgICAuLi5yZXN0RGVmYXVsdEFuaW1hdGlvbixcbiAgICAgICAgLi4ucmVzdEFuaW1hdGlvbixcbiAgICB9O1xufVxuZnVuY3Rpb24gTGlnaHRib3goeyBjYXJvdXNlbCwgYW5pbWF0aW9uLCByZW5kZXIsIHRvb2xiYXIsIGNvbnRyb2xsZXIsIG5vU2Nyb2xsLCBvbiwgcGx1Z2lucywgc2xpZGVzLCBpbmRleCwgLi4ucmVzdFByb3BzIH0pIHtcbiAgICBjb25zdCB7IGFuaW1hdGlvbjogZGVmYXVsdEFuaW1hdGlvbiwgY2Fyb3VzZWw6IGRlZmF1bHRDYXJvdXNlbCwgcmVuZGVyOiBkZWZhdWx0UmVuZGVyLCB0b29sYmFyOiBkZWZhdWx0VG9vbGJhciwgY29udHJvbGxlcjogZGVmYXVsdENvbnRyb2xsZXIsIG5vU2Nyb2xsOiBkZWZhdWx0Tm9TY3JvbGwsIG9uOiBkZWZhdWx0T24sIHNsaWRlczogZGVmYXVsdFNsaWRlcywgaW5kZXg6IGRlZmF1bHRJbmRleCwgcGx1Z2luczogZGVmYXVsdFBsdWdpbnMsIC4uLnJlc3REZWZhdWx0UHJvcHMgfSA9IExpZ2h0Ym94RGVmYXVsdFByb3BzO1xuICAgIGNvbnN0IHsgY29uZmlnLCBhdWdtZW50YXRpb24gfSA9IHdpdGhQbHVnaW5zKFtcbiAgICAgICAgY3JlYXRlTm9kZShQb3J0YWxNb2R1bGUsIFtcbiAgICAgICAgICAgIGNyZWF0ZU5vZGUoTm9TY3JvbGxNb2R1bGUsIFtcbiAgICAgICAgICAgICAgICBjcmVhdGVOb2RlKENvbnRyb2xsZXJNb2R1bGUsIFtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTm9kZShDYXJvdXNlbE1vZHVsZSksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU5vZGUoVG9vbGJhck1vZHVsZSksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU5vZGUoTmF2aWdhdGlvbk1vZHVsZSksXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgXSksXG4gICAgXSwgcGx1Z2lucyB8fCBkZWZhdWx0UGx1Z2lucyk7XG4gICAgY29uc3QgcHJvcHMgPSBhdWdtZW50YXRpb24oe1xuICAgICAgICBhbmltYXRpb246IG1lcmdlQW5pbWF0aW9uKGRlZmF1bHRBbmltYXRpb24sIGFuaW1hdGlvbiksXG4gICAgICAgIGNhcm91c2VsOiB7IC4uLmRlZmF1bHRDYXJvdXNlbCwgLi4uY2Fyb3VzZWwgfSxcbiAgICAgICAgcmVuZGVyOiB7IC4uLmRlZmF1bHRSZW5kZXIsIC4uLnJlbmRlciB9LFxuICAgICAgICB0b29sYmFyOiB7IC4uLmRlZmF1bHRUb29sYmFyLCAuLi50b29sYmFyIH0sXG4gICAgICAgIGNvbnRyb2xsZXI6IHsgLi4uZGVmYXVsdENvbnRyb2xsZXIsIC4uLmNvbnRyb2xsZXIgfSxcbiAgICAgICAgbm9TY3JvbGw6IHsgLi4uZGVmYXVsdE5vU2Nyb2xsLCAuLi5ub1Njcm9sbCB9LFxuICAgICAgICBvbjogeyAuLi5kZWZhdWx0T24sIC4uLm9uIH0sXG4gICAgICAgIC4uLnJlc3REZWZhdWx0UHJvcHMsXG4gICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICB9KTtcbiAgICBpZiAoIXByb3BzLm9wZW4pXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaWdodGJveFByb3BzUHJvdmlkZXIsIHsgLi4ucHJvcHMgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaWdodGJveFN0YXRlUHJvdmlkZXIsIHsgc2xpZGVzOiBzbGlkZXMgfHwgZGVmYXVsdFNsaWRlcywgaW5kZXg6IHBhcnNlSW50KGluZGV4IHx8IGRlZmF1bHRJbmRleCkgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGltZW91dHNQcm92aWRlciwgbnVsbCxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEV2ZW50c1Byb3ZpZGVyLCBudWxsLCByZW5kZXJOb2RlKGNyZWF0ZU5vZGUoUm9vdE1vZHVsZSwgY29uZmlnKSwgcHJvcHMpKSkpKSk7XG59XG5cbmV4cG9ydCB7IEFDVElPTl9DTE9TRSwgQUNUSU9OX05FWFQsIEFDVElPTl9QUkVWLCBBQ1RJT05fU1dJUEUsIENMQVNTX0ZMRVhfQ0VOVEVSLCBDTEFTU19OT19TQ1JPTEwsIENMQVNTX05PX1NDUk9MTF9QQURESU5HLCBDTEFTU19TTElERV9XUkFQUEVSLCBDYXJvdXNlbCwgQ2Fyb3VzZWxNb2R1bGUsIENsb3NlSWNvbiwgQ29udHJvbGxlciwgQ29udHJvbGxlckNvbnRleHQsIENvbnRyb2xsZXJNb2R1bGUsIERvY3VtZW50Q29udGV4dCwgRG9jdW1lbnRDb250ZXh0UHJvdmlkZXIsIEVMRU1FTlRfQlVUVE9OLCBFTEVNRU5UX0lDT04sIEVWRU5UX09OX0tFWV9ET1dOLCBFVkVOVF9PTl9LRVlfVVAsIEVWRU5UX09OX1BPSU5URVJfQ0FOQ0VMLCBFVkVOVF9PTl9QT0lOVEVSX0RPV04sIEVWRU5UX09OX1BPSU5URVJfTEVBVkUsIEVWRU5UX09OX1BPSU5URVJfTU9WRSwgRVZFTlRfT05fUE9JTlRFUl9VUCwgRVZFTlRfT05fV0hFRUwsIEVycm9ySWNvbiwgRXZlbnRzQ29udGV4dCwgRXZlbnRzUHJvdmlkZXIsIElNQUdFX0ZJVF9DT05UQUlOLCBJTUFHRV9GSVRfQ09WRVIsIEljb25CdXR0b24sIEltYWdlU2xpZGUsIExpZ2h0Ym94LCBMaWdodGJveERlZmF1bHRQcm9wcywgTGlnaHRib3hEaXNwYXRjaENvbnRleHQsIExpZ2h0Ym94UHJvcHNDb250ZXh0LCBMaWdodGJveFByb3BzUHJvdmlkZXIsIExpZ2h0Ym94Um9vdCwgTGlnaHRib3hTdGF0ZUNvbnRleHQsIExpZ2h0Ym94U3RhdGVQcm92aWRlciwgTG9hZGluZ0ljb24sIE1PRFVMRV9DQVJPVVNFTCwgTU9EVUxFX0NPTlRST0xMRVIsIE1PRFVMRV9OQVZJR0FUSU9OLCBNT0RVTEVfTk9fU0NST0xMLCBNT0RVTEVfUE9SVEFMLCBNT0RVTEVfUk9PVCwgTU9EVUxFX1RPT0xCQVIsIE5hdmlnYXRpb24sIE5hdmlnYXRpb25CdXR0b24sIE5hdmlnYXRpb25Nb2R1bGUsIE5leHRJY29uLCBOb1Njcm9sbCwgTm9TY3JvbGxNb2R1bGUsIFBvcnRhbCwgUG9ydGFsTW9kdWxlLCBQcmV2aW91c0ljb24sIFJvb3QsIFJvb3RNb2R1bGUsIFNMSURFX1NUQVRVU19DT01QTEVURSwgU0xJREVfU1RBVFVTX0VSUk9SLCBTTElERV9TVEFUVVNfTE9BRElORywgU0xJREVfU1RBVFVTX1BMQUNFSE9MREVSLCBTd2lwZVN0YXRlLCBUaW1lb3V0c0NvbnRleHQsIFRpbWVvdXRzUHJvdmlkZXIsIFRvb2xiYXIsIFRvb2xiYXJNb2R1bGUsIFVOS05PV05fQUNUSU9OX1RZUEUsIFZLX0FSUk9XX0xFRlQsIFZLX0FSUk9XX1JJR0hULCBWS19FU0NBUEUsIGFjdGl2ZVNsaWRlU3RhdHVzLCBhZGRUb29sYmFyQnV0dG9uLCBjYWxjdWxhdGVQcmVsb2FkLCBjbGVhbnVwLCBjbHN4LCBjb21wb3NlUHJlZml4LCBjb21wdXRlU2xpZGVSZWN0LCBjcmVhdGVJY29uLCBjcmVhdGVJY29uRGlzYWJsZWQsIGNyZWF0ZU1vZHVsZSwgY3JlYXRlTm9kZSwgY3NzQ2xhc3MsIGNzc1ZhciwgTGlnaHRib3ggYXMgZGVmYXVsdCwgZGV2aWNlUGl4ZWxSYXRpbywgZ2V0U2xpZGUsIGdldFNsaWRlSWZQcmVzZW50LCBnZXRTbGlkZUluZGV4LCBnZXRTbGlkZUtleSwgaGFzU2xpZGVzLCBoYXNXaW5kb3csIGlzSW1hZ2VGaXRDb3ZlciwgaXNJbWFnZVNsaWRlLCBsYWJlbCwgbWFrZUNvbXBvc2VQcmVmaXgsIG1ha2VVc2VDb250ZXh0LCBwYXJzZUludCwgcGFyc2VMZW5ndGhQZXJjZW50YWdlLCByb3VuZCwgc2V0UmVmLCBzdG9wTmF2aWdhdGlvbkV2ZW50c1Byb3BhZ2F0aW9uLCB1c2VBbmltYXRpb24sIHVzZUNvbnRhaW5lclJlY3QsIHVzZUNvbnRyb2xsZXIsIHVzZURlbGF5LCB1c2VEb2N1bWVudENvbnRleHQsIHVzZUV2ZW50Q2FsbGJhY2ssIHVzZUV2ZW50cywgdXNlRm9ya1JlZiwgdXNlS2V5Ym9hcmROYXZpZ2F0aW9uLCB1c2VMYXlvdXRFZmZlY3QsIHVzZUxpZ2h0Ym94RGlzcGF0Y2gsIHVzZUxpZ2h0Ym94UHJvcHMsIHVzZUxpZ2h0Ym94U3RhdGUsIHVzZUxvc2VGb2N1cywgdXNlTW90aW9uUHJlZmVyZW5jZSwgdXNlTmF2aWdhdGlvblN0YXRlLCB1c2VQb2ludGVyRXZlbnRzLCB1c2VQb2ludGVyU3dpcGUsIHVzZVByZXZlbnRXaGVlbERlZmF1bHRzLCB1c2VSVEwsIHVzZVNlbnNvcnMsIHVzZVRocm90dGxlLCB1c2VUaW1lb3V0cywgdXNlV2hlZWxTd2lwZSwgd2l0aFBsdWdpbnMgfTsiXSwibmFtZXMiOlsiUmVhY3QiLCJJTUFHRV9GSVRfQ09WRVIiLCJJTUFHRV9GSVRfQ09OVEFJTiIsIkFDVElPTl9DTE9TRSIsIk1PRFVMRV9DT05UUk9MTEVSIiwiVU5LTk9XTl9BQ1RJT05fVFlQRSIsIkVMRU1FTlRfQlVUVE9OIiwiRUxFTUVOVF9JQ09OIiwiRVZFTlRfT05fUE9JTlRFUl9ET1dOIiwiRVZFTlRfT05fUE9JTlRFUl9NT1ZFIiwiRVZFTlRfT05fUE9JTlRFUl9VUCIsIkVWRU5UX09OX1BPSU5URVJfTEVBVkUiLCJFVkVOVF9PTl9QT0lOVEVSX0NBTkNFTCIsIkVWRU5UX09OX0tFWV9ET1dOIiwiRVZFTlRfT05fS0VZX1VQIiwiRVZFTlRfT05fV0hFRUwiLCJTTElERV9TVEFUVVNfTE9BRElORyIsImFjdGl2ZVNsaWRlU3RhdHVzIiwiU0xJREVfU1RBVFVTX0NPTVBMRVRFIiwiU0xJREVfU1RBVFVTX0VSUk9SIiwiU0xJREVfU1RBVFVTX1BMQUNFSE9MREVSIiwiQUNUSU9OX1BSRVYiLCJBQ1RJT05fTkVYVCIsIkFDVElPTl9TV0lQRSIsIk1PRFVMRV9QT1JUQUwiLCJDTEFTU19GTEVYX0NFTlRFUiIsIk1PRFVMRV9DQVJPVVNFTCIsIkNMQVNTX1NMSURFX1dSQVBQRVIiLCJWS19BUlJPV19SSUdIVCIsIlZLX0FSUk9XX0xFRlQiLCJWS19FU0NBUEUiLCJNT0RVTEVfTkFWSUdBVElPTiIsIkNMQVNTX05PX1NDUk9MTCIsIkNMQVNTX05PX1NDUk9MTF9QQURESU5HIiwiTU9EVUxFX05PX1NDUk9MTCIsIk1PRFVMRV9ST09UIiwiTU9EVUxFX1RPT0xCQVIiLCJjcmVhdGVQb3J0YWwiLCJBQ1RJVkVfU0xJREVfQ09NUExFVEUiLCJBQ1RJVkVfU0xJREVfRVJST1IiLCJBQ1RJVkVfU0xJREVfTE9BRElORyIsIkFDVElWRV9TTElERV9QTEFZSU5HIiwiQ0xBU1NfRlVMTFNJWkUiLCJQTFVHSU5fQ0FQVElPTlMiLCJQTFVHSU5fQ09VTlRFUiIsIlBMVUdJTl9ET1dOTE9BRCIsIlBMVUdJTl9GVUxMU0NSRUVOIiwiUExVR0lOX0lOTElORSIsIlBMVUdJTl9TSEFSRSIsIlBMVUdJTl9TTElERVNIT1ciLCJQTFVHSU5fVEhVTUJOQUlMUyIsIlBMVUdJTl9aT09NIiwiU0xJREVfU1RBVFVTX1BMQVlJTkciLCJjc3NQcmVmaXgkMyIsImNsc3giLCJjbGFzc2VzIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJjc3NDbGFzcyIsIm5hbWUiLCJjc3NWYXIiLCJjb21wb3NlUHJlZml4IiwiYmFzZSIsInByZWZpeCIsIm1ha2VDb21wb3NlUHJlZml4IiwibGFiZWwiLCJsYWJlbHMiLCJkZWZhdWx0TGFiZWwiLCJfYSIsImNsZWFudXAiLCJjbGVhbmVycyIsImZvckVhY2giLCJjbGVhbmVyIiwibWFrZVVzZUNvbnRleHQiLCJjb250ZXh0TmFtZSIsImNvbnRleHQiLCJjdHgiLCJ1c2VDb250ZXh0IiwiRXJyb3IiLCJoYXNXaW5kb3ciLCJyb3VuZCIsInZhbHVlIiwiZGVjaW1hbHMiLCJmYWN0b3IiLCJNYXRoIiwiTnVtYmVyIiwiRVBTSUxPTiIsImlzSW1hZ2VTbGlkZSIsInNsaWRlIiwidHlwZSIsInVuZGVmaW5lZCIsImlzSW1hZ2VGaXRDb3ZlciIsImltYWdlIiwiaW1hZ2VGaXQiLCJwYXJzZUludCIsInBhcnNlTGVuZ3RoUGVyY2VudGFnZSIsImlucHV0IiwicGl4ZWwiLCJlbmRzV2l0aCIsInBlcmNlbnQiLCJjb21wdXRlU2xpZGVSZWN0IiwiY29udGFpbmVyUmVjdCIsInBhZGRpbmciLCJwYWRkaW5nVmFsdWUiLCJwYWRkaW5nUGl4ZWxzIiwid2lkdGgiLCJtYXgiLCJoZWlnaHQiLCJkZXZpY2VQaXhlbFJhdGlvIiwid2luZG93IiwiZ2V0U2xpZGVJbmRleCIsImluZGV4Iiwic2xpZGVzQ291bnQiLCJoYXNTbGlkZXMiLCJzbGlkZXMiLCJsZW5ndGgiLCJnZXRTbGlkZSIsImdldFNsaWRlSWZQcmVzZW50IiwiZ2V0U2xpZGVLZXkiLCJzcmMiLCJhZGRUb29sYmFyQnV0dG9uIiwidG9vbGJhciIsImtleSIsImJ1dHRvbiIsImJ1dHRvbnMiLCJyZXN0VG9vbGJhciIsImZpbmRJbmRleCIsIml0ZW0iLCJidXR0b25XaXRoS2V5IiwiaXNWYWxpZEVsZW1lbnQiLCJjbG9uZUVsZW1lbnQiLCJyZXN1bHQiLCJzcGxpY2UiLCJzdG9wTmF2aWdhdGlvbkV2ZW50c1Byb3BhZ2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiZXZlbnQiLCJvblBvaW50ZXJEb3duIiwib25LZXlEb3duIiwib25XaGVlbCIsImNhbGN1bGF0ZVByZWxvYWQiLCJjYXJvdXNlbCIsIm1pbmltdW0iLCJtaW4iLCJwcmVsb2FkIiwiZmluaXRlIiwiZmxvb3IiLCJMaWdodGJveERlZmF1bHRQcm9wcyIsIm9wZW4iLCJjbG9zZSIsInJlbmRlciIsInBsdWdpbnMiLCJhbmltYXRpb24iLCJmYWRlIiwic3dpcGUiLCJlYXNpbmciLCJuYXZpZ2F0aW9uIiwic3BhY2luZyIsImltYWdlUHJvcHMiLCJjb250cm9sbGVyIiwicmVmIiwiZm9jdXMiLCJhcmlhIiwidG91Y2hBY3Rpb24iLCJjbG9zZU9uUHVsbFVwIiwiY2xvc2VPblB1bGxEb3duIiwiY2xvc2VPbkJhY2tkcm9wQ2xpY2siLCJwcmV2ZW50RGVmYXVsdFdoZWVsWCIsInByZXZlbnREZWZhdWx0V2hlZWxZIiwicG9ydGFsIiwibm9TY3JvbGwiLCJkaXNhYmxlZCIsIm9uIiwic3R5bGVzIiwiY2xhc3NOYW1lIiwiY3JlYXRlTW9kdWxlIiwiY29tcG9uZW50IiwiY3JlYXRlTm9kZSIsIm1vZHVsZSIsImNoaWxkcmVuIiwidHJhdmVyc2VOb2RlIiwibm9kZSIsInRhcmdldCIsImFwcGx5IiwiZmxhdE1hcCIsIm4iLCJ0cmF2ZXJzZSIsIm5vZGVzIiwid2l0aFBsdWdpbnMiLCJyb290IiwiYXVnbWVudGF0aW9ucyIsImNvbmZpZyIsImNvbnRhaW5zIiwicG9wIiwicHVzaCIsImFkZFBhcmVudCIsImFwcGVuZCIsImFkZENoaWxkIiwicHJlY2VkZSIsImFkZFNpYmxpbmciLCJhZGRNb2R1bGUiLCJyZXBsYWNlIiwicmVtb3ZlIiwiYXVnbWVudCIsImF1Z21lbnRhdGlvbiIsInBsdWdpbiIsInByb3BzIiwicmVkdWNlIiwiYWNjIiwiRG9jdW1lbnRDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInVzZURvY3VtZW50Q29udGV4dCIsIkRvY3VtZW50Q29udGV4dFByb3ZpZGVyIiwibm9kZVJlZiIsInVzZU1lbW8iLCJnZXRPd25lckRvY3VtZW50IiwiY3VycmVudCIsIm93bmVyRG9jdW1lbnQiLCJkb2N1bWVudCIsImdldE93bmVyV2luZG93IiwiZGVmYXVsdFZpZXciLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJFdmVudHNDb250ZXh0IiwidXNlRXZlbnRzIiwiRXZlbnRzUHJvdmlkZXIiLCJzdWJzY3JpcHRpb25zIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJPYmplY3QiLCJrZXlzIiwidG9waWMiLCJ1bnN1YnNjcmliZSIsImNhbGxiYWNrIiwiY2IiLCJzdWJzY3JpYmUiLCJwdWJsaXNoIiwiTGlnaHRib3hQcm9wc0NvbnRleHQiLCJ1c2VMaWdodGJveFByb3BzIiwiTGlnaHRib3hQcm9wc1Byb3ZpZGVyIiwiTGlnaHRib3hTdGF0ZUNvbnRleHQiLCJ1c2VMaWdodGJveFN0YXRlIiwiTGlnaHRib3hEaXNwYXRjaENvbnRleHQiLCJ1c2VMaWdodGJveERpc3BhdGNoIiwicmVkdWNlciIsInN0YXRlIiwiYWN0aW9uIiwiaW5jcmVtZW50IiwiZ2xvYmFsSW5kZXgiLCJjdXJyZW50SW5kZXgiLCJjdXJyZW50U2xpZGUiLCJkdXJhdGlvbiIsIkxpZ2h0Ym94U3RhdGVQcm92aWRlciIsImRpc3BhdGNoIiwidXNlUmVkdWNlciIsIlRpbWVvdXRzQ29udGV4dCIsInVzZVRpbWVvdXRzIiwiVGltZW91dHNQcm92aWRlciIsInRpbWVvdXRzIiwidGlkIiwiY2xlYXJUaW1lb3V0IiwicmVtb3ZlVGltZW91dCIsImlkIiwic2V0VGltZW91dCIsImZuIiwiZGVsYXkiLCJJY29uQnV0dG9uIiwiZm9yd2FyZFJlZiIsImxhYmVsJDEiLCJpY29uIiwiSWNvbiIsInJlbmRlckljb24iLCJvbkNsaWNrIiwic3R5bGUiLCJyZXN0Iiwic3ZnSWNvbiIsInhtbG5zIiwidmlld0JveCIsImZvY3VzYWJsZSIsImRpc3BsYXlOYW1lIiwiY3JlYXRlSWNvbiIsImdseXBoIiwiZmlsbCIsImQiLCJjcmVhdGVJY29uRGlzYWJsZWQiLCJGcmFnbWVudCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwibWFzayIsIkNsb3NlSWNvbiIsIlByZXZpb3VzSWNvbiIsIk5leHRJY29uIiwiTG9hZGluZ0ljb24iLCJBcnJheSIsImZyb20iLCJtYXAiLCJfIiwiYXJyYXkiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VPcGFjaXR5IiwidHJhbnNmb3JtIiwiRXJyb3JJY29uIiwidXNlTGF5b3V0RWZmZWN0IiwidXNlTW90aW9uUHJlZmVyZW5jZSIsInJlZHVjZU1vdGlvbiIsInNldFJlZHVjZU1vdGlvbiIsIl9iIiwibWVkaWFRdWVyeSIsIm1hdGNoTWVkaWEiLCJjYWxsIiwibWF0Y2hlcyIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjdXJyZW50VHJhbnNmb3JtYXRpb24iLCJ4IiwieSIsInoiLCJtYXRyaXgiLCJnZXRDb21wdXRlZFN0eWxlIiwibWF0Y2hlciIsIm1hdGNoIiwidmFsdWVzIiwic3BsaXQiLCJ1c2VBbmltYXRpb24iLCJjb21wdXRlQW5pbWF0aW9uIiwic25hcHNob3QiLCJ1c2VSZWYiLCJfYyIsImtleWZyYW1lcyIsIm9uZmluaXNoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2FuY2VsIiwiYW5pbWF0ZSIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsInByZXBhcmVBbmltYXRpb24iLCJjdXJyZW50U25hcHNob3QiLCJpc0FuaW1hdGlvblBsYXlpbmciLCJwbGF5U3RhdGUiLCJ1c2VDb250YWluZXJSZWN0IiwiY29udGFpbmVyUmVmIiwib2JzZXJ2ZXJSZWYiLCJzZXRDb250YWluZXJSZWN0Iiwic2V0Q29udGFpbmVyUmVmIiwidXNlQ2FsbGJhY2siLCJkaXNjb25uZWN0IiwidXBkYXRlQ29udGFpbmVyUmVjdCIsInBhcnNlIiwicGFyc2VGbG9hdCIsImNsaWVudFdpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJjbGllbnRIZWlnaHQiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsIlJlc2l6ZU9ic2VydmVyIiwib2JzZXJ2ZSIsInVzZURlbGF5IiwidGltZW91dElkIiwidXNlRXZlbnRDYWxsYmFjayIsImFyZ3MiLCJzZXRSZWYiLCJ1c2VGb3JrUmVmIiwicmVmQSIsInJlZkIiLCJyZWZWYWx1ZSIsInVzZUxvc2VGb2N1cyIsImZvY3VzZWQiLCJvbkZvY3VzIiwib25CbHVyIiwidXNlUlRMIiwiaXNSVEwiLCJzZXRJc1JUTCIsImRvY3VtZW50RWxlbWVudCIsImRpcmVjdGlvbiIsInVzZVNlbnNvcnMiLCJzdWJzY3JpYmVycyIsIm5vdGlmeVN1YnNjcmliZXJzIiwiaXNQcm9wYWdhdGlvblN0b3BwZWQiLCJyZWdpc3RlclNlbnNvcnMiLCJvblBvaW50ZXJNb3ZlIiwib25Qb2ludGVyVXAiLCJvblBvaW50ZXJMZWF2ZSIsIm9uUG9pbnRlckNhbmNlbCIsIm9uS2V5VXAiLCJzdWJzY3JpYmVTZW5zb3JzIiwidW5zaGlmdCIsImxpc3RlbmVycyIsImVsIiwidXNlVGhyb3R0bGUiLCJsYXN0Q2FsbGJhY2tUaW1lIiwiZGVsYXlDYWxsYmFjayIsImV4ZWN1dGVDYWxsYmFjayIsIkRhdGUiLCJub3ciLCJzbGlkZVByZWZpeCIsInNsaWRlSW1hZ2VQcmVmaXgiLCJJbWFnZVNsaWRlIiwib2Zmc2V0IiwicmVjdCIsIm9uTG9hZCIsIl9kIiwiX2UiLCJfZiIsIl9nIiwic3RhdHVzIiwic2V0U3RhdHVzIiwiaW1hZ2VSZWYiLCJoYW5kbGVMb2FkaW5nIiwiaW1nIiwiZGVjb2RlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjYXRjaCIsInRoZW4iLCJwYXJlbnROb2RlIiwic2V0SW1hZ2VSZWYiLCJjb21wbGV0ZSIsImhhbmRsZU9uTG9hZCIsImN1cnJlbnRUYXJnZXQiLCJvbkVycm9yIiwiY292ZXIiLCJub25JbmZpbml0ZSIsImZhbGxiYWNrIiwiaXNGaW5pdGUiLCJtYXhXaWR0aCIsInNyY1NldCIsImNvbmNhdCIsIm5hdHVyYWxXaWR0aCIsIm1heEhlaWdodCIsIm5hdHVyYWxIZWlnaHQiLCJkZWZhdWx0U3R5bGUiLCJzb3J0IiwiYSIsImIiLCJlc3RpbWF0ZUFjdHVhbFdpZHRoIiwiTUFYX1ZBTFVFIiwic2l6ZXMiLCJpbWFnZVByb3BzU3R5bGUiLCJpbWFnZVByb3BzQ2xhc3NOYW1lIiwicmVzdEltYWdlUHJvcHMiLCJkcmFnZ2FibGUiLCJhbHQiLCJpY29uTG9hZGluZyIsImljb25FcnJvciIsIkxpZ2h0Ym94Um9vdCIsIlN3aXBlU3RhdGUiLCJ1c2VQb2ludGVyRXZlbnRzIiwiR2VzdHVyZSIsIlNXSVBFX1RIUkVTSE9MRCIsInVzZVBvaW50ZXJTd2lwZSIsImlzU3dpcGVWYWxpZCIsImNvbnRhaW5lcldpZHRoIiwic3dpcGVBbmltYXRpb25EdXJhdGlvbiIsIm9uU3dpcGVTdGFydCIsIm9uU3dpcGVQcm9ncmVzcyIsIm9uU3dpcGVGaW5pc2giLCJvblN3aXBlQ2FuY2VsIiwicHVsbFVwRW5hYmxlZCIsInB1bGxEb3duRW5hYmxlZCIsIm9uUHVsbFN0YXJ0Iiwib25QdWxsUHJvZ3Jlc3MiLCJvblB1bGxGaW5pc2giLCJvblB1bGxDYW5jZWwiLCJwb2ludGVycyIsImFjdGl2ZVBvaW50ZXIiLCJzdGFydFRpbWUiLCJnZXN0dXJlIiwiTk9ORSIsImNsZWFyUG9pbnRlciIsInBvaW50ZXJJZCIsImN1cnJlbnRQb2ludGVycyIsInAiLCJhZGRQb2ludGVyIiwicGVyc2lzdCIsImV4Y2VlZHNQdWxsVGhyZXNob2xkIiwidGhyZXNob2xkIiwiZmluZCIsImN1cnJlbnRPZmZzZXQiLCJTV0lQRSIsImFicyIsIlBVTEwiLCJwb2ludGVyIiwiaXNDdXJyZW50UG9pbnRlciIsImRlbHRhWCIsImNsaWVudFgiLCJkZWx0YVkiLCJjbGllbnRZIiwic3RhcnRHZXN0dXJlIiwibmV3R2VzdHVyZSIsInVzZVByZXZlbnRXaGVlbERlZmF1bHRzIiwiaG9yaXpvbnRhbCIsImN0cmxLZXkiLCJwcmV2ZW50RGVmYXVsdCIsInBhc3NpdmUiLCJ1c2VXaGVlbFN3aXBlIiwic3dpcGVTdGF0ZSIsImludGVudCIsImludGVudENsZWFudXAiLCJyZXNldENsZWFudXAiLCJ3aGVlbFJlc2lkdWFsTW9tZW50dW0iLCJjYW5jZWxTd2lwZUludGVudENsZWFudXAiLCJjYW5jZWxTd2lwZVJlc2V0Q2xlYW51cCIsImhhbmRsZUNsZWFudXAiLCJoYW5kbGVDYW5jZWxTd2lwZSIsImN1cnJlbnRTd2lwZU9mZnNldCIsImN1cnJlbnRTd2lwZUludGVudCIsIm5ld1N3aXBlT2Zmc2V0Iiwic2lnbiIsImNzc0NvbnRhaW5lclByZWZpeCIsIkNvbnRyb2xsZXJDb250ZXh0IiwidXNlQ29udHJvbGxlciIsIkNvbnRyb2xsZXIiLCJ0b29sYmFyV2lkdGgiLCJzZXRUb29sYmFyV2lkdGgiLCJzZXRTd2lwZVN0YXRlIiwic3dpcGVPZmZzZXQiLCJwdWxsT2Zmc2V0IiwicHVsbE9wYWNpdHkiLCJjbGVhbnVwQW5pbWF0aW9uSW5jcmVtZW50IiwiY2xlYW51cFN3aXBlT2Zmc2V0IiwiY2xlYW51cFB1bGxPZmZzZXQiLCJoYW5kbGVDb250YWluZXJSZWYiLCJjYXJvdXNlbFJlZiIsInNldENhcm91c2VsUmVmIiwicnRsIiwiZ2V0TGlnaHRib3hQcm9wcyIsImdldExpZ2h0Ym94U3RhdGUiLCJwcmV2IiwicGFyYW1zIiwibmV4dCIsInNldFN3aXBlT2Zmc2V0Iiwic2V0UHJvcGVydHkiLCJzZXRQdWxsT2Zmc2V0IiwibWluT3BhY2l0eSIsIm9mZnNldFZhbHVlIiwicHJlcGFyZVB1bGxBbmltYXRpb24iLCJ0cmFuc2xhdGUiLCJvcGFjaXR5IiwicHVsbCIsIkFOSU1BVElPTiIsInBhcnNlZFNwYWNpbmciLCJzcGFjaW5nVmFsdWUiLCJzd2lwZUR1cmF0aW9uIiwic3dpcGVFYXNpbmciLCJjb3VudCIsIm5ld1N3aXBlU3RhdGUiLCJuZXdTd2lwZUFuaW1hdGlvbkR1cmF0aW9uIiwiZWxhcHNlZFRpbWUiLCJleHBlY3RlZFRpbWUiLCJzd2lwZVBhcmFtcyIsInB1bGxQYXJhbXMiLCJmb2N1c09uTW91bnQiLCJxdWVyeVNlbGVjdG9yIiwib25WaWV3Q2FsbGJhY2siLCJ2aWV3Iiwic2xpZGVSZWN0IiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsImNvbnRhaW5lciIsInJvbGUiLCJ0YWJJbmRleCIsImNvbnRyb2xzIiwiQ29udHJvbGxlck1vZHVsZSIsImNzc1ByZWZpeCQyIiwiY3NzU2xpZGVQcmVmaXgiLCJDYXJvdXNlbFNsaWRlIiwiY2xpY2siLCJyZW5kZXJTbGlkZSIsInJlbmRlcmVkIiwic2xpZGVIZWFkZXIiLCJzbGlkZUNvbnRhaW5lciIsInNsaWRlRm9vdGVyIiwiaGFuZGxlQmFja2Ryb3BDbGljayIsIkhUTUxFbGVtZW50IiwiY2xhc3NMaXN0IiwiUGxhY2Vob2xkZXIiLCJDYXJvdXNlbCIsIml0ZW1zIiwicGxhY2Vob2xkZXIiLCJDYXJvdXNlbE1vZHVsZSIsInVzZU5hdmlnYXRpb25TdGF0ZSIsInByZXZEaXNhYmxlZCIsIm5leHREaXNhYmxlZCIsInVzZUtleWJvYXJkTmF2aWdhdGlvbiIsInRocm90dGxlIiwiaGFuZGxlS2V5RG93biIsIk5hdmlnYXRpb25CdXR0b24iLCJOYXZpZ2F0aW9uIiwiYnV0dG9uUHJldiIsImJ1dHRvbk5leHQiLCJpY29uUHJldiIsImljb25OZXh0IiwibmF2aWdhdGlvblByZXYiLCJuYXZpZ2F0aW9uTmV4dCIsIk5hdmlnYXRpb25Nb2R1bGUiLCJub1Njcm9sbFBhZGRpbmciLCJpc0hUTUxFbGVtZW50IiwiZWxlbWVudCIsInBhZFNjcm9sbGJhciIsInByb3BlcnR5IiwiY29tcHV0ZWRWYWx1ZSIsIm9yaWdpbmFsVmFsdWUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicmVtb3ZlUHJvcGVydHkiLCJOb1Njcm9sbCIsIm93bmVyV2luZG93IiwiYm9keSIsInNjcm9sbGJhciIsImlubmVyV2lkdGgiLCJlbGVtZW50cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaSIsImFkZCIsImNsZWFuIiwiTm9TY3JvbGxNb2R1bGUiLCJjc3NQcmVmaXgkMSIsInNldEF0dHJpYnV0ZSIsImF0dHJpYnV0ZSIsInByZXZpb3VzVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJQb3J0YWwiLCJtb3VudGVkIiwic2V0TW91bnRlZCIsInZpc2libGUiLCJzZXRWaXNpYmxlIiwicmVzdG9yZUZvY3VzIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJoYW5kbGVDbG9zZSIsImV4aXRpbmciLCJleGl0ZWQiLCJoYW5kbGVFbnRlciIsInNjcm9sbFRvcCIsImVudGVyaW5nIiwiaW5kZXhPZiIsInRhZ05hbWUiLCJlbnRlcmVkIiwiaGFuZGxlUmVmIiwicmVsYXRlZFRhcmdldCIsIlBvcnRhbE1vZHVsZSIsIlJvb3QiLCJSb290TW9kdWxlIiwiY3NzUHJlZml4IiwiVG9vbGJhciIsImJ1dHRvbkNsb3NlIiwiaWNvbkNsb3NlIiwicmVuZGVyQ2xvc2VCdXR0b24iLCJUb29sYmFyTW9kdWxlIiwicmVuZGVyTm9kZSIsImNoaWxkIiwibWVyZ2VBbmltYXRpb24iLCJkZWZhdWx0QW5pbWF0aW9uIiwiZGVmYXVsdEFuaW1hdGlvbkVhc2luZyIsInJlc3REZWZhdWx0QW5pbWF0aW9uIiwicmVzdEFuaW1hdGlvbiIsIkxpZ2h0Ym94IiwicmVzdFByb3BzIiwiZGVmYXVsdENhcm91c2VsIiwiZGVmYXVsdFJlbmRlciIsImRlZmF1bHRUb29sYmFyIiwiZGVmYXVsdENvbnRyb2xsZXIiLCJkZWZhdWx0Tm9TY3JvbGwiLCJkZWZhdWx0T24iLCJkZWZhdWx0U2xpZGVzIiwiZGVmYXVsdEluZGV4IiwiZGVmYXVsdFBsdWdpbnMiLCJyZXN0RGVmYXVsdFByb3BzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Fullscreen)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultFullscreenProps = {\n    auto: false,\n    ref: null,\n};\nconst resolveFullscreenProps = (fullscreen) => ({\n    ...defaultFullscreenProps,\n    ...fullscreen,\n});\n\nconst FullscreenContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useFullscreen\", \"FullscreenContext\", FullscreenContext);\nfunction FullscreenContextProvider({ fullscreen: fullscreenProps, on, children }) {\n    const { auto, ref } = resolveFullscreenProps(fullscreenProps);\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const [disabled, setDisabled] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const [fullscreen, setFullscreen] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const wasFullscreen = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const { getOwnerDocument } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useDocumentContext)();\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        var _a, _b, _c, _d;\n        const ownerDocument = getOwnerDocument();\n        setDisabled(!((_d = (_c = (_b = (_a = ownerDocument.fullscreenEnabled) !== null && _a !== void 0 ? _a : ownerDocument.webkitFullscreenEnabled) !== null && _b !== void 0 ? _b : ownerDocument.mozFullScreenEnabled) !== null && _c !== void 0 ? _c : ownerDocument.msFullscreenEnabled) !== null && _d !== void 0 ? _d : false));\n    }, [getOwnerDocument]);\n    const getFullscreenElement = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        var _a;\n        const ownerDocument = getOwnerDocument();\n        const fullscreenElement = ownerDocument.fullscreenElement ||\n            ownerDocument.webkitFullscreenElement ||\n            ownerDocument.mozFullScreenElement ||\n            ownerDocument.msFullscreenElement;\n        return ((_a = fullscreenElement === null || fullscreenElement === void 0 ? void 0 : fullscreenElement.shadowRoot) === null || _a === void 0 ? void 0 : _a.fullscreenElement) || fullscreenElement;\n    }, [getOwnerDocument]);\n    const enter = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        const container = containerRef.current;\n        try {\n            if (container.requestFullscreen) {\n                container.requestFullscreen().catch(() => { });\n            }\n            else if (container.webkitRequestFullscreen) {\n                container.webkitRequestFullscreen();\n            }\n            else if (container.mozRequestFullScreen) {\n                container.mozRequestFullScreen();\n            }\n            else if (container.msRequestFullscreen) {\n                container.msRequestFullscreen();\n            }\n        }\n        catch (err) {\n        }\n    }, []);\n    const exit = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        if (!getFullscreenElement())\n            return;\n        const ownerDocument = getOwnerDocument();\n        try {\n            if (ownerDocument.exitFullscreen) {\n                ownerDocument.exitFullscreen().catch(() => { });\n            }\n            else if (ownerDocument.webkitExitFullscreen) {\n                ownerDocument.webkitExitFullscreen();\n            }\n            else if (ownerDocument.mozCancelFullScreen) {\n                ownerDocument.mozCancelFullScreen();\n            }\n            else if (ownerDocument.msExitFullscreen) {\n                ownerDocument.msExitFullscreen();\n            }\n        }\n        catch (err) {\n        }\n    }, [getFullscreenElement, getOwnerDocument]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        const ownerDocument = getOwnerDocument();\n        const listener = () => {\n            setFullscreen(getFullscreenElement() === containerRef.current);\n        };\n        return (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(...[\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"].map((event) => {\n            ownerDocument.addEventListener(event, listener);\n            return () => ownerDocument.removeEventListener(event, listener);\n        }));\n    }, [getFullscreenElement, getOwnerDocument]);\n    const onEnterFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.enterFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onExitFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.exitFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (fullscreen) {\n            wasFullscreen.current = true;\n        }\n        if (wasFullscreen.current) {\n            (fullscreen ? onEnterFullscreen : onExitFullscreen)();\n        }\n    }, [fullscreen, onEnterFullscreen, onExitFullscreen]);\n    const handleAutoFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a;\n        (_a = (auto ? enter : null)) === null || _a === void 0 ? void 0 : _a();\n        return exit;\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(handleAutoFullscreen, [handleAutoFullscreen]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ fullscreen, disabled, enter, exit }), [fullscreen, disabled, enter, exit]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: containerRef, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE)) },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(FullscreenContext.Provider, { value: context }, children)));\n}\n\nconst EnterFullscreenIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"EnterFullscreen\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\" }));\nconst ExitFullscreenIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ExitFullscreen\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\" }));\nfunction FullscreenButton() {\n    var _a;\n    const { fullscreen, disabled, enter, exit } = useFullscreen();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    if (disabled)\n        return null;\n    if (render.buttonFullscreen) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (_a = render.buttonFullscreen) === null || _a === void 0 ? void 0 : _a.call(render, { fullscreen, disabled, enter, exit }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { disabled: disabled, label: fullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\", icon: fullscreen ? ExitFullscreenIcon : EnterFullscreenIcon, renderIcon: fullscreen ? render.iconExitFullscreen : render.iconEnterFullscreen, onClick: fullscreen ? exit : enter }));\n}\n\nfunction Fullscreen({ augment, contains, addParent }) {\n    augment(({ fullscreen, toolbar, ...restProps }) => ({\n        toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN, react__WEBPACK_IMPORTED_MODULE_0__.createElement(FullscreenButton, null)),\n        fullscreen: resolveFullscreenProps(fullscreen),\n        ...restProps,\n    }));\n    addParent(contains(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS) ? _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS : _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN, FullscreenContextProvider));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL2Z1bGxzY3JlZW4vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwTTtBQUMzSztBQUMwRTs7QUFFekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELDBCQUEwQixnREFBbUI7QUFDN0Msc0JBQXNCLHlEQUFjO0FBQ3BDLHFDQUFxQywyQ0FBMkM7QUFDaEYsWUFBWSxZQUFZO0FBQ3hCLHlCQUF5Qix5Q0FBWTtBQUNyQyxvQ0FBb0MsMkNBQWM7QUFDbEQsd0NBQXdDLDJDQUFjO0FBQ3RELDBCQUEwQix5Q0FBWTtBQUN0QyxZQUFZLG1CQUFtQixFQUFFLDZEQUFrQjtBQUNuRCxJQUFJLDBEQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxpQ0FBaUMsOENBQWlCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQiw4Q0FBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlCQUFpQiw4Q0FBaUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLDRDQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrREFBTztBQUN0QjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCw4QkFBOEIsMkRBQWdCLFNBQVMsUUFBUSxvRkFBb0Y7QUFDbkosNkJBQTZCLDJEQUFnQixTQUFTLFFBQVEsbUZBQW1GO0FBQ2pKLElBQUksNENBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlDQUFpQywyREFBZ0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksNENBQWU7QUFDbkIsb0JBQW9CLDBDQUFhLFVBQVUsbUNBQW1DO0FBQzlFLElBQUksc0RBQXlCO0FBQzdCLFlBQVksZ0RBQW1CLFVBQVUsOEJBQThCLCtDQUFJLENBQUMsbURBQVEsQ0FBQyx3REFBaUIsR0FBRyxtREFBUSxDQUFDLHFEQUFjLElBQUk7QUFDcEksUUFBUSxnREFBbUIsK0JBQStCLGdCQUFnQjtBQUMxRTs7QUFFQSw0QkFBNEIscURBQVUsb0JBQW9CLGdEQUFtQixXQUFXLHFGQUFxRjtBQUM3SywyQkFBMkIscURBQVUsbUJBQW1CLGdEQUFtQixXQUFXLG9GQUFvRjtBQUMxSztBQUNBO0FBQ0EsWUFBWSxvQ0FBb0M7QUFDaEQsWUFBWSxTQUFTLEVBQUUsMkRBQWdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQW1CLENBQUMsMkNBQWMsOEZBQThGLG1DQUFtQztBQUNsTDtBQUNBLFlBQVksZ0RBQW1CLENBQUMsaURBQVUsSUFBSSxrUUFBa1E7QUFDaFQ7O0FBRUEsc0JBQXNCLDhCQUE4QjtBQUNwRCxlQUFlLG1DQUFtQztBQUNsRCxpQkFBaUIsMkRBQWdCLFVBQVUsd0RBQWlCLEVBQUUsZ0RBQW1CO0FBQ2pGO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsdUJBQXVCLHdEQUFpQixJQUFJLHdEQUFpQixHQUFHLHdEQUFpQixFQUFFLHVEQUFZLENBQUMsd0RBQWlCO0FBQ2pIOztBQUVpQyIsInNvdXJjZXMiOlsid2VicGFjazovL21pY2hhZWwtY29ya2VyLWFydHdvcmsvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL2Z1bGxzY3JlZW4vaW5kZXguanM/ZWZmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYWtlVXNlQ29udGV4dCwgdXNlRG9jdW1lbnRDb250ZXh0LCB1c2VMYXlvdXRFZmZlY3QsIGNsZWFudXAsIHVzZUV2ZW50Q2FsbGJhY2ssIGNsc3gsIGNzc0NsYXNzLCBjcmVhdGVJY29uLCB1c2VMaWdodGJveFByb3BzLCBJY29uQnV0dG9uLCBhZGRUb29sYmFyQnV0dG9uLCBjcmVhdGVNb2R1bGUgfSBmcm9tICcuLi8uLi9pbmRleC5qcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQTFVHSU5fRlVMTFNDUkVFTiwgQ0xBU1NfRlVMTFNJWkUsIFBMVUdJTl9USFVNQk5BSUxTLCBNT0RVTEVfQ09OVFJPTExFUiB9IGZyb20gJy4uLy4uL3R5cGVzLmpzJztcblxuY29uc3QgZGVmYXVsdEZ1bGxzY3JlZW5Qcm9wcyA9IHtcbiAgICBhdXRvOiBmYWxzZSxcbiAgICByZWY6IG51bGwsXG59O1xuY29uc3QgcmVzb2x2ZUZ1bGxzY3JlZW5Qcm9wcyA9IChmdWxsc2NyZWVuKSA9PiAoe1xuICAgIC4uLmRlZmF1bHRGdWxsc2NyZWVuUHJvcHMsXG4gICAgLi4uZnVsbHNjcmVlbixcbn0pO1xuXG5jb25zdCBGdWxsc2NyZWVuQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2VGdWxsc2NyZWVuID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VGdWxsc2NyZWVuXCIsIFwiRnVsbHNjcmVlbkNvbnRleHRcIiwgRnVsbHNjcmVlbkNvbnRleHQpO1xuZnVuY3Rpb24gRnVsbHNjcmVlbkNvbnRleHRQcm92aWRlcih7IGZ1bGxzY3JlZW46IGZ1bGxzY3JlZW5Qcm9wcywgb24sIGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCB7IGF1dG8sIHJlZiB9ID0gcmVzb2x2ZUZ1bGxzY3JlZW5Qcm9wcyhmdWxsc2NyZWVuUHJvcHMpO1xuICAgIGNvbnN0IGNvbnRhaW5lclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBbZGlzYWJsZWQsIHNldERpc2FibGVkXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gICAgY29uc3QgW2Z1bGxzY3JlZW4sIHNldEZ1bGxzY3JlZW5dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHdhc0Z1bGxzY3JlZW4gPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IHsgZ2V0T3duZXJEb2N1bWVudCB9ID0gdXNlRG9jdW1lbnRDb250ZXh0KCk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBjb25zdCBvd25lckRvY3VtZW50ID0gZ2V0T3duZXJEb2N1bWVudCgpO1xuICAgICAgICBzZXREaXNhYmxlZCghKChfZCA9IChfYyA9IChfYiA9IChfYSA9IG93bmVyRG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG93bmVyRG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG93bmVyRG9jdW1lbnQubW96RnVsbFNjcmVlbkVuYWJsZWQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IG93bmVyRG9jdW1lbnQubXNGdWxsc2NyZWVuRW5hYmxlZCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogZmFsc2UpKTtcbiAgICB9LCBbZ2V0T3duZXJEb2N1bWVudF0pO1xuICAgIGNvbnN0IGdldEZ1bGxzY3JlZW5FbGVtZW50ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSBnZXRPd25lckRvY3VtZW50KCk7XG4gICAgICAgIGNvbnN0IGZ1bGxzY3JlZW5FbGVtZW50ID0gb3duZXJEb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgICAgICAgb3duZXJEb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgICAgICAgb3duZXJEb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudCB8fFxuICAgICAgICAgICAgb3duZXJEb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50O1xuICAgICAgICByZXR1cm4gKChfYSA9IGZ1bGxzY3JlZW5FbGVtZW50ID09PSBudWxsIHx8IGZ1bGxzY3JlZW5FbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmdWxsc2NyZWVuRWxlbWVudC5zaGFkb3dSb290KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZnVsbHNjcmVlbkVsZW1lbnQpIHx8IGZ1bGxzY3JlZW5FbGVtZW50O1xuICAgIH0sIFtnZXRPd25lckRvY3VtZW50XSk7XG4gICAgY29uc3QgZW50ZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbigpLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICBjb25zdCBleGl0ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoIWdldEZ1bGxzY3JlZW5FbGVtZW50KCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSBnZXRPd25lckRvY3VtZW50KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAob3duZXJEb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKS5jYXRjaCgoKSA9PiB7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3duZXJEb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG93bmVyRG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3duZXJEb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICB9XG4gICAgfSwgW2dldEZ1bGxzY3JlZW5FbGVtZW50LCBnZXRPd25lckRvY3VtZW50XSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgb3duZXJEb2N1bWVudCA9IGdldE93bmVyRG9jdW1lbnQoKTtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXRGdWxsc2NyZWVuKGdldEZ1bGxzY3JlZW5FbGVtZW50KCkgPT09IGNvbnRhaW5lclJlZi5jdXJyZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNsZWFudXAoLi4uW1wiZnVsbHNjcmVlbmNoYW5nZVwiLCBcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIiwgXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsIFwiTVNGdWxsc2NyZWVuQ2hhbmdlXCJdLm1hcCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIG93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IG93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgICAgICB9KSk7XG4gICAgfSwgW2dldEZ1bGxzY3JlZW5FbGVtZW50LCBnZXRPd25lckRvY3VtZW50XSk7XG4gICAgY29uc3Qgb25FbnRlckZ1bGxzY3JlZW4gPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gb24uZW50ZXJGdWxsc2NyZWVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvbik7IH0pO1xuICAgIGNvbnN0IG9uRXhpdEZ1bGxzY3JlZW4gPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gb24uZXhpdEZ1bGxzY3JlZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uKTsgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIHdhc0Z1bGxzY3JlZW4uY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhc0Z1bGxzY3JlZW4uY3VycmVudCkge1xuICAgICAgICAgICAgKGZ1bGxzY3JlZW4gPyBvbkVudGVyRnVsbHNjcmVlbiA6IG9uRXhpdEZ1bGxzY3JlZW4pKCk7XG4gICAgICAgIH1cbiAgICB9LCBbZnVsbHNjcmVlbiwgb25FbnRlckZ1bGxzY3JlZW4sIG9uRXhpdEZ1bGxzY3JlZW5dKTtcbiAgICBjb25zdCBoYW5kbGVBdXRvRnVsbHNjcmVlbiA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IChhdXRvID8gZW50ZXIgOiBudWxsKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hKCk7XG4gICAgICAgIHJldHVybiBleGl0O1xuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChoYW5kbGVBdXRvRnVsbHNjcmVlbiwgW2hhbmRsZUF1dG9GdWxsc2NyZWVuXSk7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHsgZnVsbHNjcmVlbiwgZGlzYWJsZWQsIGVudGVyLCBleGl0IH0pLCBbZnVsbHNjcmVlbiwgZGlzYWJsZWQsIGVudGVyLCBleGl0XSk7XG4gICAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+IGNvbnRleHQsIFtjb250ZXh0XSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBjb250YWluZXJSZWYsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhQTFVHSU5fRlVMTFNDUkVFTiksIGNzc0NsYXNzKENMQVNTX0ZVTExTSVpFKSkgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChGdWxsc2NyZWVuQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LCBjaGlsZHJlbikpKTtcbn1cblxuY29uc3QgRW50ZXJGdWxsc2NyZWVuSWNvbiA9IGNyZWF0ZUljb24oXCJFbnRlckZ1bGxzY3JlZW5cIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk03IDE0SDV2NWg1di0ySDd2LTN6bS0yLTRoMlY3aDNWNUg1djV6bTEyIDdoLTN2Mmg1di01aC0ydjN6TTE0IDV2MmgzdjNoMlY1aC01elwiIH0pKTtcbmNvbnN0IEV4aXRGdWxsc2NyZWVuSWNvbiA9IGNyZWF0ZUljb24oXCJFeGl0RnVsbHNjcmVlblwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTUgMTZoM3YzaDJ2LTVINXYyem0zLThINXYyaDVWNUg4djN6bTYgMTFoMnYtM2gzdi0yaC01djV6bTItMTFWNWgtMnY1aDVWOGgtM3pcIiB9KSk7XG5mdW5jdGlvbiBGdWxsc2NyZWVuQnV0dG9uKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB7IGZ1bGxzY3JlZW4sIGRpc2FibGVkLCBlbnRlciwgZXhpdCB9ID0gdXNlRnVsbHNjcmVlbigpO1xuICAgIGNvbnN0IHsgcmVuZGVyIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgaWYgKGRpc2FibGVkKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAocmVuZGVyLmJ1dHRvbkZ1bGxzY3JlZW4pIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIChfYSA9IHJlbmRlci5idXR0b25GdWxsc2NyZWVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChyZW5kZXIsIHsgZnVsbHNjcmVlbiwgZGlzYWJsZWQsIGVudGVyLCBleGl0IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgZGlzYWJsZWQ6IGRpc2FibGVkLCBsYWJlbDogZnVsbHNjcmVlbiA/IFwiRXhpdCBGdWxsc2NyZWVuXCIgOiBcIkVudGVyIEZ1bGxzY3JlZW5cIiwgaWNvbjogZnVsbHNjcmVlbiA/IEV4aXRGdWxsc2NyZWVuSWNvbiA6IEVudGVyRnVsbHNjcmVlbkljb24sIHJlbmRlckljb246IGZ1bGxzY3JlZW4gPyByZW5kZXIuaWNvbkV4aXRGdWxsc2NyZWVuIDogcmVuZGVyLmljb25FbnRlckZ1bGxzY3JlZW4sIG9uQ2xpY2s6IGZ1bGxzY3JlZW4gPyBleGl0IDogZW50ZXIgfSkpO1xufVxuXG5mdW5jdGlvbiBGdWxsc2NyZWVuKHsgYXVnbWVudCwgY29udGFpbnMsIGFkZFBhcmVudCB9KSB7XG4gICAgYXVnbWVudCgoeyBmdWxsc2NyZWVuLCB0b29sYmFyLCAuLi5yZXN0UHJvcHMgfSkgPT4gKHtcbiAgICAgICAgdG9vbGJhcjogYWRkVG9vbGJhckJ1dHRvbih0b29sYmFyLCBQTFVHSU5fRlVMTFNDUkVFTiwgUmVhY3QuY3JlYXRlRWxlbWVudChGdWxsc2NyZWVuQnV0dG9uLCBudWxsKSksXG4gICAgICAgIGZ1bGxzY3JlZW46IHJlc29sdmVGdWxsc2NyZWVuUHJvcHMoZnVsbHNjcmVlbiksXG4gICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICB9KSk7XG4gICAgYWRkUGFyZW50KGNvbnRhaW5zKFBMVUdJTl9USFVNQk5BSUxTKSA/IFBMVUdJTl9USFVNQk5BSUxTIDogTU9EVUxFX0NPTlRST0xMRVIsIGNyZWF0ZU1vZHVsZShQTFVHSU5fRlVMTFNDUkVFTiwgRnVsbHNjcmVlbkNvbnRleHRQcm92aWRlcikpO1xufVxuXG5leHBvcnQgeyBGdWxsc2NyZWVuIGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Slideshow)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultSlideshowProps = {\n    autoplay: false,\n    delay: 3000,\n    ref: null,\n};\nconst resolveSlideshowProps = (slideshow) => ({\n    ...defaultSlideshowProps,\n    ...slideshow,\n});\n\nconst SlideshowContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useSlideshow = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useSlideshow\", \"SlideshowContext\", SlideshowContext);\nfunction SlideshowContextProvider({ slideshow, carousel: { finite }, on, children }) {\n    const { autoplay, delay, ref } = resolveSlideshowProps(slideshow);\n    const wasPlaying = react__WEBPACK_IMPORTED_MODULE_0__.useRef(autoplay);\n    const [playing, setPlaying] = react__WEBPACK_IMPORTED_MODULE_0__.useState(autoplay);\n    const scheduler = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const slideStatus = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { slides, currentIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { setTimeout, clearTimeout } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useTimeouts)();\n    const { subscribe } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEvents)();\n    const { next } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const disabled = slides.length === 0 || (finite && currentIndex === slides.length - 1);\n    const play = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        if (!playing && !disabled) {\n            setPlaying(true);\n        }\n    }, [playing, disabled]);\n    const pause = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        if (playing) {\n            setPlaying(false);\n        }\n    }, [playing]);\n    const cancelScheduler = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        clearTimeout(scheduler.current);\n        scheduler.current = undefined;\n    }, [clearTimeout]);\n    const scheduleNextSlide = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        cancelScheduler();\n        if (!playing ||\n            disabled ||\n            slideStatus.current === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING ||\n            slideStatus.current === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLAYING) {\n            return;\n        }\n        scheduler.current = setTimeout(() => {\n            if (playing) {\n                slideStatus.current = undefined;\n                next();\n            }\n        }, delay);\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(scheduleNextSlide, [currentIndex, playing, scheduleNextSlide]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (playing && disabled) {\n            setPlaying(false);\n        }\n    }, [currentIndex, playing, disabled]);\n    const onSlideshowStart = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.slideshowStart) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onSlideshowStop = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.slideshowStop) === null || _a === void 0 ? void 0 : _a.call(on); });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (playing) {\n            onSlideshowStart();\n        }\n        else if (wasPlaying.current) {\n            onSlideshowStop();\n        }\n        wasPlaying.current = playing;\n    }, [playing, onSlideshowStart, onSlideshowStop]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(cancelScheduler, subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_LOADING, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING;\n        cancelScheduler();\n    }), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_PLAYING, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLAYING;\n        cancelScheduler();\n    }), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_ERROR, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR;\n        scheduleNextSlide();\n    }), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_COMPLETE, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE;\n        scheduleNextSlide();\n    })), [subscribe, cancelScheduler, scheduleNextSlide]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ playing, disabled, play, pause }), [playing, disabled, play, pause]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(SlideshowContext.Provider, { value: context }, children);\n}\n\nconst PlayIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"Play\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M8 5v14l11-7z\" }));\nconst PauseIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"Pause\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" }));\nfunction SlideshowButton() {\n    const { playing, disabled, play, pause } = useSlideshow();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const focusListeners = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLoseFocus)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)().focus, disabled);\n    if (render.buttonSlideshow) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonSlideshow({ playing, disabled, play, pause }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { label: playing ? \"Pause\" : \"Play\", icon: playing ? PauseIcon : PlayIcon, renderIcon: playing ? render.iconSlideshowPause : render.iconSlideshowPlay, onClick: playing ? pause : play, disabled: disabled, ...focusListeners }));\n}\n\nfunction Slideshow({ augment, addModule }) {\n    augment(({ slideshow, toolbar, ...restProps }) => ({\n        toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SLIDESHOW, react__WEBPACK_IMPORTED_MODULE_0__.createElement(SlideshowButton, null)),\n        slideshow: resolveSlideshowProps(slideshow),\n        ...restProps,\n    }));\n    addModule((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SLIDESHOW, SlideshowContextProvider));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3NsaWRlc2hvdy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTROO0FBQzdMO0FBQ2lNOztBQUVoTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCx5QkFBeUIsZ0RBQW1CO0FBQzVDLHFCQUFxQix5REFBYztBQUNuQyxvQ0FBb0MsdUJBQXVCLFFBQVEsZ0JBQWdCO0FBQ25GLFlBQVksdUJBQXVCO0FBQ25DLHVCQUF1Qix5Q0FBWTtBQUNuQyxrQ0FBa0MsMkNBQWM7QUFDaEQsc0JBQXNCLHlDQUFZO0FBQ2xDLHdCQUF3Qix5Q0FBWTtBQUNwQyxZQUFZLHVCQUF1QixFQUFFLDJEQUFnQjtBQUNyRCxZQUFZLDJCQUEyQixFQUFFLHNEQUFXO0FBQ3BELFlBQVksWUFBWSxFQUFFLG9EQUFTO0FBQ25DLFlBQVksT0FBTyxFQUFFLHdEQUFhO0FBQ2xDO0FBQ0EsaUJBQWlCLDhDQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLDhDQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNEJBQTRCLDhDQUFpQjtBQUM3QztBQUNBO0FBQ0EsS0FBSztBQUNMLDhCQUE4QiwyREFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDJEQUFvQjtBQUN4RCxvQ0FBb0MsMkRBQW9CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLDRDQUFlO0FBQ25CLElBQUksNENBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDZCQUE2QiwyREFBZ0IsU0FBUyxRQUFRLG1GQUFtRjtBQUNqSiw0QkFBNEIsMkRBQWdCLFNBQVMsUUFBUSxrRkFBa0Y7QUFDL0ksSUFBSSw0Q0FBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLDRDQUFlLE9BQU8sa0RBQU8sNEJBQTRCLDJEQUFvQjtBQUNqRiw4QkFBOEIsMkRBQW9CO0FBQ2xEO0FBQ0EsS0FBSyxhQUFhLDJEQUFvQjtBQUN0Qyw4QkFBOEIsMkRBQW9CO0FBQ2xEO0FBQ0EsS0FBSyxhQUFhLHlEQUFrQjtBQUNwQyw4QkFBOEIseURBQWtCO0FBQ2hEO0FBQ0EsS0FBSyxhQUFhLDREQUFxQjtBQUN2Qyw4QkFBOEIsNERBQXFCO0FBQ25EO0FBQ0EsS0FBSztBQUNMLG9CQUFvQiwwQ0FBYSxVQUFVLGdDQUFnQztBQUMzRSxJQUFJLHNEQUF5QjtBQUM3QixXQUFXLGdEQUFtQiw4QkFBOEIsZ0JBQWdCO0FBQzVFOztBQUVBLGlCQUFpQixxREFBVSxTQUFTLGdEQUFtQixXQUFXLG9CQUFvQjtBQUN0RixrQkFBa0IscURBQVUsVUFBVSxnREFBbUIsV0FBVyxzQ0FBc0M7QUFDMUc7QUFDQSxZQUFZLGlDQUFpQztBQUM3QyxZQUFZLFNBQVMsRUFBRSwyREFBZ0I7QUFDdkMsMkJBQTJCLHVEQUFZLENBQUMsd0RBQWE7QUFDckQ7QUFDQSxlQUFlLGdEQUFtQixDQUFDLDJDQUFjLGlDQUFpQyxnQ0FBZ0M7QUFDbEg7QUFDQSxZQUFZLGdEQUFtQixDQUFDLGlEQUFVLElBQUksNk5BQTZOO0FBQzNROztBQUVBLHFCQUFxQixvQkFBb0I7QUFDekMsZUFBZSxrQ0FBa0M7QUFDakQsaUJBQWlCLDJEQUFnQixVQUFVLHVEQUFnQixFQUFFLGdEQUFtQjtBQUNoRjtBQUNBO0FBQ0EsS0FBSztBQUNMLGNBQWMsdURBQVksQ0FBQyx1REFBZ0I7QUFDM0M7O0FBRWdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWljaGFlbC1jb3JrZXItYXJ0d29yay8uL25vZGVfbW9kdWxlcy95ZXQtYW5vdGhlci1yZWFjdC1saWdodGJveC9kaXN0L3BsdWdpbnMvc2xpZGVzaG93L2luZGV4LmpzP2FiNWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWFrZVVzZUNvbnRleHQsIHVzZUxpZ2h0Ym94U3RhdGUsIHVzZVRpbWVvdXRzLCB1c2VFdmVudHMsIHVzZUNvbnRyb2xsZXIsIHVzZUV2ZW50Q2FsbGJhY2ssIGNsZWFudXAsIGNyZWF0ZUljb24sIHVzZUxpZ2h0Ym94UHJvcHMsIHVzZUxvc2VGb2N1cywgSWNvbkJ1dHRvbiwgYWRkVG9vbGJhckJ1dHRvbiwgY3JlYXRlTW9kdWxlIH0gZnJvbSAnLi4vLi4vaW5kZXguanMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU0xJREVfU1RBVFVTX0xPQURJTkcsIFNMSURFX1NUQVRVU19QTEFZSU5HLCBBQ1RJVkVfU0xJREVfTE9BRElORywgQUNUSVZFX1NMSURFX1BMQVlJTkcsIEFDVElWRV9TTElERV9FUlJPUiwgU0xJREVfU1RBVFVTX0VSUk9SLCBBQ1RJVkVfU0xJREVfQ09NUExFVEUsIFNMSURFX1NUQVRVU19DT01QTEVURSwgUExVR0lOX1NMSURFU0hPVyB9IGZyb20gJy4uLy4uL3R5cGVzLmpzJztcblxuY29uc3QgZGVmYXVsdFNsaWRlc2hvd1Byb3BzID0ge1xuICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICBkZWxheTogMzAwMCxcbiAgICByZWY6IG51bGwsXG59O1xuY29uc3QgcmVzb2x2ZVNsaWRlc2hvd1Byb3BzID0gKHNsaWRlc2hvdykgPT4gKHtcbiAgICAuLi5kZWZhdWx0U2xpZGVzaG93UHJvcHMsXG4gICAgLi4uc2xpZGVzaG93LFxufSk7XG5cbmNvbnN0IFNsaWRlc2hvd0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlU2xpZGVzaG93ID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VTbGlkZXNob3dcIiwgXCJTbGlkZXNob3dDb250ZXh0XCIsIFNsaWRlc2hvd0NvbnRleHQpO1xuZnVuY3Rpb24gU2xpZGVzaG93Q29udGV4dFByb3ZpZGVyKHsgc2xpZGVzaG93LCBjYXJvdXNlbDogeyBmaW5pdGUgfSwgb24sIGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCB7IGF1dG9wbGF5LCBkZWxheSwgcmVmIH0gPSByZXNvbHZlU2xpZGVzaG93UHJvcHMoc2xpZGVzaG93KTtcbiAgICBjb25zdCB3YXNQbGF5aW5nID0gUmVhY3QudXNlUmVmKGF1dG9wbGF5KTtcbiAgICBjb25zdCBbcGxheWluZywgc2V0UGxheWluZ10gPSBSZWFjdC51c2VTdGF0ZShhdXRvcGxheSk7XG4gICAgY29uc3Qgc2NoZWR1bGVyID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3Qgc2xpZGVTdGF0dXMgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCB7IHNsaWRlcywgY3VycmVudEluZGV4IH0gPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgeyBzZXRUaW1lb3V0LCBjbGVhclRpbWVvdXQgfSA9IHVzZVRpbWVvdXRzKCk7XG4gICAgY29uc3QgeyBzdWJzY3JpYmUgfSA9IHVzZUV2ZW50cygpO1xuICAgIGNvbnN0IHsgbmV4dCB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IGRpc2FibGVkID0gc2xpZGVzLmxlbmd0aCA9PT0gMCB8fCAoZmluaXRlICYmIGN1cnJlbnRJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgIGNvbnN0IHBsYXkgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICghcGxheWluZyAmJiAhZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHNldFBsYXlpbmcodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9LCBbcGxheWluZywgZGlzYWJsZWRdKTtcbiAgICBjb25zdCBwYXVzZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKHBsYXlpbmcpIHtcbiAgICAgICAgICAgIHNldFBsYXlpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSwgW3BsYXlpbmddKTtcbiAgICBjb25zdCBjYW5jZWxTY2hlZHVsZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dChzY2hlZHVsZXIuY3VycmVudCk7XG4gICAgICAgIHNjaGVkdWxlci5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgIH0sIFtjbGVhclRpbWVvdXRdKTtcbiAgICBjb25zdCBzY2hlZHVsZU5leHRTbGlkZSA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjYW5jZWxTY2hlZHVsZXIoKTtcbiAgICAgICAgaWYgKCFwbGF5aW5nIHx8XG4gICAgICAgICAgICBkaXNhYmxlZCB8fFxuICAgICAgICAgICAgc2xpZGVTdGF0dXMuY3VycmVudCA9PT0gU0xJREVfU1RBVFVTX0xPQURJTkcgfHxcbiAgICAgICAgICAgIHNsaWRlU3RhdHVzLmN1cnJlbnQgPT09IFNMSURFX1NUQVRVU19QTEFZSU5HKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVyLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICAgICAgc2xpZGVTdGF0dXMuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3Qoc2NoZWR1bGVOZXh0U2xpZGUsIFtjdXJyZW50SW5kZXgsIHBsYXlpbmcsIHNjaGVkdWxlTmV4dFNsaWRlXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHBsYXlpbmcgJiYgZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHNldFBsYXlpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRJbmRleCwgcGxheWluZywgZGlzYWJsZWRdKTtcbiAgICBjb25zdCBvblNsaWRlc2hvd1N0YXJ0ID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IG9uLnNsaWRlc2hvd1N0YXJ0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvbik7IH0pO1xuICAgIGNvbnN0IG9uU2xpZGVzaG93U3RvcCA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBvbi5zbGlkZXNob3dTdG9wKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvbik7IH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICBvblNsaWRlc2hvd1N0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAod2FzUGxheWluZy5jdXJyZW50KSB7XG4gICAgICAgICAgICBvblNsaWRlc2hvd1N0b3AoKTtcbiAgICAgICAgfVxuICAgICAgICB3YXNQbGF5aW5nLmN1cnJlbnQgPSBwbGF5aW5nO1xuICAgIH0sIFtwbGF5aW5nLCBvblNsaWRlc2hvd1N0YXJ0LCBvblNsaWRlc2hvd1N0b3BdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gY2xlYW51cChjYW5jZWxTY2hlZHVsZXIsIHN1YnNjcmliZShBQ1RJVkVfU0xJREVfTE9BRElORywgKCkgPT4ge1xuICAgICAgICBzbGlkZVN0YXR1cy5jdXJyZW50ID0gU0xJREVfU1RBVFVTX0xPQURJTkc7XG4gICAgICAgIGNhbmNlbFNjaGVkdWxlcigpO1xuICAgIH0pLCBzdWJzY3JpYmUoQUNUSVZFX1NMSURFX1BMQVlJTkcsICgpID0+IHtcbiAgICAgICAgc2xpZGVTdGF0dXMuY3VycmVudCA9IFNMSURFX1NUQVRVU19QTEFZSU5HO1xuICAgICAgICBjYW5jZWxTY2hlZHVsZXIoKTtcbiAgICB9KSwgc3Vic2NyaWJlKEFDVElWRV9TTElERV9FUlJPUiwgKCkgPT4ge1xuICAgICAgICBzbGlkZVN0YXR1cy5jdXJyZW50ID0gU0xJREVfU1RBVFVTX0VSUk9SO1xuICAgICAgICBzY2hlZHVsZU5leHRTbGlkZSgpO1xuICAgIH0pLCBzdWJzY3JpYmUoQUNUSVZFX1NMSURFX0NPTVBMRVRFLCAoKSA9PiB7XG4gICAgICAgIHNsaWRlU3RhdHVzLmN1cnJlbnQgPSBTTElERV9TVEFUVVNfQ09NUExFVEU7XG4gICAgICAgIHNjaGVkdWxlTmV4dFNsaWRlKCk7XG4gICAgfSkpLCBbc3Vic2NyaWJlLCBjYW5jZWxTY2hlZHVsZXIsIHNjaGVkdWxlTmV4dFNsaWRlXSk7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHsgcGxheWluZywgZGlzYWJsZWQsIHBsYXksIHBhdXNlIH0pLCBbcGxheWluZywgZGlzYWJsZWQsIHBsYXksIHBhdXNlXSk7XG4gICAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+IGNvbnRleHQsIFtjb250ZXh0XSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2xpZGVzaG93Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LCBjaGlsZHJlbik7XG59XG5cbmNvbnN0IFBsYXlJY29uID0gY3JlYXRlSWNvbihcIlBsYXlcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk04IDV2MTRsMTEtN3pcIiB9KSk7XG5jb25zdCBQYXVzZUljb24gPSBjcmVhdGVJY29uKFwiUGF1c2VcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk02IDE5aDRWNUg2djE0em04LTE0djE0aDRWNWgtNHpcIiB9KSk7XG5mdW5jdGlvbiBTbGlkZXNob3dCdXR0b24oKSB7XG4gICAgY29uc3QgeyBwbGF5aW5nLCBkaXNhYmxlZCwgcGxheSwgcGF1c2UgfSA9IHVzZVNsaWRlc2hvdygpO1xuICAgIGNvbnN0IHsgcmVuZGVyIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgY29uc3QgZm9jdXNMaXN0ZW5lcnMgPSB1c2VMb3NlRm9jdXModXNlQ29udHJvbGxlcigpLmZvY3VzLCBkaXNhYmxlZCk7XG4gICAgaWYgKHJlbmRlci5idXR0b25TbGlkZXNob3cpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHJlbmRlci5idXR0b25TbGlkZXNob3coeyBwbGF5aW5nLCBkaXNhYmxlZCwgcGxheSwgcGF1c2UgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwgeyBsYWJlbDogcGxheWluZyA/IFwiUGF1c2VcIiA6IFwiUGxheVwiLCBpY29uOiBwbGF5aW5nID8gUGF1c2VJY29uIDogUGxheUljb24sIHJlbmRlckljb246IHBsYXlpbmcgPyByZW5kZXIuaWNvblNsaWRlc2hvd1BhdXNlIDogcmVuZGVyLmljb25TbGlkZXNob3dQbGF5LCBvbkNsaWNrOiBwbGF5aW5nID8gcGF1c2UgOiBwbGF5LCBkaXNhYmxlZDogZGlzYWJsZWQsIC4uLmZvY3VzTGlzdGVuZXJzIH0pKTtcbn1cblxuZnVuY3Rpb24gU2xpZGVzaG93KHsgYXVnbWVudCwgYWRkTW9kdWxlIH0pIHtcbiAgICBhdWdtZW50KCh7IHNsaWRlc2hvdywgdG9vbGJhciwgLi4ucmVzdFByb3BzIH0pID0+ICh7XG4gICAgICAgIHRvb2xiYXI6IGFkZFRvb2xiYXJCdXR0b24odG9vbGJhciwgUExVR0lOX1NMSURFU0hPVywgUmVhY3QuY3JlYXRlRWxlbWVudChTbGlkZXNob3dCdXR0b24sIG51bGwpKSxcbiAgICAgICAgc2xpZGVzaG93OiByZXNvbHZlU2xpZGVzaG93UHJvcHMoc2xpZGVzaG93KSxcbiAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgIH0pKTtcbiAgICBhZGRNb2R1bGUoY3JlYXRlTW9kdWxlKFBMVUdJTl9TTElERVNIT1csIFNsaWRlc2hvd0NvbnRleHRQcm92aWRlcikpO1xufVxuXG5leHBvcnQgeyBTbGlkZXNob3cgYXMgZGVmYXVsdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Thumbnails)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultThumbnailsProps = {\n    ref: null,\n    position: \"bottom\",\n    width: 120,\n    height: 80,\n    border: 1,\n    borderRadius: 4,\n    padding: 4,\n    gap: 16,\n    imageFit: \"contain\",\n    vignette: true,\n    hidden: false,\n    showToggle: false,\n};\nconst resolveThumbnailsProps = (thumbnails) => ({\n    ...defaultThumbnailsProps,\n    ...thumbnails,\n});\nfunction useThumbnailsProps() {\n    const { thumbnails } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    return resolveThumbnailsProps(thumbnails);\n}\n\nconst cssPrefix = (value) => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.composePrefix)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS, value);\nconst cssThumbnailPrefix = (value) => cssPrefix((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.composePrefix)(\"thumbnail\", value));\n\nconst VideoThumbnailIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"VideoThumbnail\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" }));\nconst UnknownThumbnailIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"UnknownThumbnail\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z\" }));\nfunction renderThumbnail({ slide, render, rect, imageFit }) {\n    var _a;\n    const customThumbnail = (_a = render.thumbnail) === null || _a === void 0 ? void 0 : _a.call(render, { slide, render, rect, imageFit });\n    if (customThumbnail) {\n        return customThumbnail;\n    }\n    const imageSlideProps = { render, rect, imageFit };\n    if (slide.thumbnail) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { slide: { src: slide.thumbnail }, ...imageSlideProps });\n    }\n    if ((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(slide)) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { slide: slide, ...imageSlideProps });\n    }\n    const thumbnailIconClass = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON));\n    if (slide.type === \"video\") {\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n            slide.poster && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { slide: { src: slide.poster }, ...imageSlideProps }),\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(VideoThumbnailIcon, { className: thumbnailIconClass })));\n    }\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(UnknownThumbnailIcon, { className: thumbnailIconClass });\n}\nconst activePrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"active\");\nconst fadeInPrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"fadein\");\nconst fadeOutPrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"fadeout\");\nconst placeholderPrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"placeholder\");\nconst DELAY = \"delay\";\nconst DURATION = \"duration\";\nfunction Thumbnail({ slide, onClick, active, fadeIn, fadeOut, placeholder, onLoseFocus }) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { render, styles } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { getOwnerDocument } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useDocumentContext)();\n    const { width, height, imageFit } = useThumbnailsProps();\n    const rect = { width, height };\n    const onLoseFocusCallback = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(onLoseFocus);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (fadeOut && getOwnerDocument().activeElement === ref.current) {\n            onLoseFocusCallback();\n        }\n    }, [fadeOut, onLoseFocusCallback, getOwnerDocument]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: ref, type: \"button\", className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix()), active && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(activePrefix())), fadeIn && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(fadeInPrefix())), fadeOut && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(fadeOutPrefix())), placeholder && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(placeholderPrefix()))), style: {\n            ...(fadeIn\n                ? {\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeInPrefix(DURATION)))]: `${fadeIn.duration}ms`,\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeInPrefix(DELAY)))]: `${fadeIn.delay}ms`,\n                }\n                : null),\n            ...(fadeOut\n                ? {\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeOutPrefix(DURATION)))]: `${fadeOut.duration}ms`,\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeOutPrefix(DELAY)))]: `${fadeOut.delay}ms`,\n                }\n                : null),\n            ...styles.thumbnail,\n        }, onClick: onClick }, slide && renderThumbnail({ slide, render, rect, imageFit })));\n}\n\nfunction isHorizontal(position) {\n    return [\"top\", \"bottom\"].includes(position);\n}\nfunction boxSize(thumbnails, dimension) {\n    return dimension + 2 * (thumbnails.border + thumbnails.padding) + thumbnails.gap;\n}\nfunction getThumbnailKey(slide) {\n    const { thumbnail, poster } = slide || { thumbnail: \"placeholder\" };\n    return ((typeof thumbnail === \"string\" && thumbnail) ||\n        (typeof poster === \"string\" && poster) ||\n        (slide && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.getSlideKey)(slide)) ||\n        undefined);\n}\nfunction ThumbnailsTrack({ visible, containerRef }) {\n    const track = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const isRTL = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useRTL)();\n    const { publish, subscribe } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEvents)();\n    const { carousel, styles } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { slides, globalIndex, animation } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { registerSensors, subscribeSensors } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useSensors)();\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useKeyboardNavigation)(subscribeSensors);\n    const thumbnails = useThumbnailsProps();\n    const { position, width, height, border, borderStyle, borderColor, borderRadius, padding, gap, vignette } = thumbnails;\n    const animationDuration = (animation === null || animation === void 0 ? void 0 : animation.duration) || 0;\n    const offset = (animationDuration > 0 && (animation === null || animation === void 0 ? void 0 : animation.increment)) || 0;\n    const { prepareAnimation } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useAnimation)(track, (snapshot) => ({\n        keyframes: isHorizontal(position)\n            ? [\n                {\n                    transform: `translateX(${(isRTL ? -1 : 1) * boxSize(thumbnails, width) * offset + snapshot}px)`,\n                },\n                { transform: \"translateX(0)\" },\n            ]\n            : [\n                {\n                    transform: `translateY(${boxSize(thumbnails, height) * offset + snapshot}px)`,\n                },\n                { transform: \"translateY(0)\" },\n            ],\n        duration: animationDuration,\n        easing: animation === null || animation === void 0 ? void 0 : animation.easing,\n    }));\n    const handleControllerSwipe = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        let animationOffset = 0;\n        if (containerRef.current && track.current) {\n            const containerRect = containerRef.current.getBoundingClientRect();\n            const trackRect = track.current.getBoundingClientRect();\n            animationOffset = isHorizontal(position)\n                ? trackRect.left - containerRect.left - (containerRect.width - trackRect.width) / 2\n                : trackRect.top - containerRect.top - (containerRect.height - trackRect.height) / 2;\n        }\n        prepareAnimation(animationOffset);\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE, handleControllerSwipe)), [subscribe, handleControllerSwipe]);\n    const preload = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.calculatePreload)(carousel, slides);\n    const items = [];\n    if ((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.hasSlides)(slides)) {\n        for (let index = globalIndex - preload - Math.abs(offset); index <= globalIndex + preload + Math.abs(offset); index += 1) {\n            const placeholder = (carousel.finite && (index < 0 || index > slides.length - 1)) ||\n                (offset < 0 && index < globalIndex - preload) ||\n                (offset > 0 && index > globalIndex + preload);\n            const slide = !placeholder ? (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.getSlide)(slides, index) : null;\n            const key = [`${index}`, getThumbnailKey(slide)].filter(Boolean).join(\"|\");\n            items.push({ key, index, slide });\n        }\n    }\n    const handleClick = (slideIndex) => () => {\n        if (slideIndex > globalIndex) {\n            publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT, { count: slideIndex - globalIndex });\n        }\n        else if (slideIndex < globalIndex) {\n            publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV, { count: globalIndex - slideIndex });\n        }\n    };\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"container\")), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)), style: {\n            ...(!visible ? { display: \"none\" } : null),\n            ...(width !== defaultThumbnailsProps.width ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"width\"))]: `${width}px` } : null),\n            ...(height !== defaultThumbnailsProps.height\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"height\"))]: `${height}px` }\n                : null),\n            ...(border !== defaultThumbnailsProps.border\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border\"))]: `${border}px` }\n                : null),\n            ...(borderStyle ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border_style\"))]: borderStyle } : null),\n            ...(borderColor ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border_color\"))]: borderColor } : null),\n            ...(borderRadius !== defaultThumbnailsProps.borderRadius\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border_radius\"))]: `${borderRadius}px` }\n                : null),\n            ...(padding !== defaultThumbnailsProps.padding\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"padding\"))]: `${padding}px` }\n                : null),\n            ...(gap !== defaultThumbnailsProps.gap ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"gap\"))]: `${gap}px` } : null),\n            ...styles.thumbnailsContainer,\n        } },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"nav\", { ref: track, style: styles.thumbnailsTrack, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"track\")), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)), tabIndex: -1, ...registerSensors }, items.map(({ key, index, slide }) => {\n            const fadeAnimationDuration = animationDuration / Math.abs(offset || 1);\n            const fadeIn = (offset > 0 && index > globalIndex + preload - offset && index <= globalIndex + preload) ||\n                (offset < 0 && index < globalIndex - preload - offset && index >= globalIndex - preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: ((offset > 0 ? index - (globalIndex + preload - offset) : globalIndex - preload - offset - index) -\n                        1) *\n                        fadeAnimationDuration,\n                }\n                : undefined;\n            const fadeOut = (offset > 0 && index < globalIndex - preload) || (offset < 0 && index > globalIndex + preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: (offset > 0\n                        ? offset - (globalIndex - preload - index)\n                        : -offset - (index - (globalIndex + preload))) * fadeAnimationDuration,\n                }\n                : undefined;\n            return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Thumbnail, { key: key, slide: slide, active: index === globalIndex, fadeIn: fadeIn, fadeOut: fadeOut, placeholder: !slide, onClick: handleClick(index), onLoseFocus: () => { var _a; return (_a = track.current) === null || _a === void 0 ? void 0 : _a.focus(); } }));\n        })),\n        vignette && react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"vignette\")) })));\n}\n\nconst ThumbnailsContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useThumbnails = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useThumbnails\", \"ThumbnailsContext\", ThumbnailsContext);\nfunction ThumbnailsContextProvider({ children, ...props }) {\n    const { ref, position, hidden } = resolveThumbnailsProps(props.thumbnails);\n    const [visible, setVisible] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!hidden);\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.LightboxPropsProvider, { ...props },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsContext.Provider, { value: context },\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: containerRef, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix()), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(`${position}`))) },\n                [\"start\", \"top\"].includes(position) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible }),\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"wrapper\")) }, children),\n                [\"end\", \"bottom\"].includes(position) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible })))));\n}\n\nconst thumbnailsIcon = () => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z\" })));\nconst ThumbnailsVisible = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ThumbnailsVisible\", thumbnailsIcon());\nconst ThumbnailsHidden = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIconDisabled)(\"ThumbnailsHidden\", thumbnailsIcon());\nfunction ThumbnailsButton() {\n    const { visible, show, hide } = useThumbnails();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    if (render.buttonThumbnails) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonThumbnails({ visible, show, hide }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { label: visible ? \"Hide thumbnails\" : \"Show thumbnails\", icon: visible ? ThumbnailsVisible : ThumbnailsHidden, renderIcon: visible ? render.iconThumbnailsVisible : render.iconThumbnailsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Thumbnails({ augment, contains, append, addParent }) {\n    augment(({ thumbnails: thumbnailsProps, toolbar, ...restProps }) => {\n        const thumbnails = resolveThumbnailsProps(thumbnailsProps);\n        return {\n            toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS, thumbnails.showToggle ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsButton, null) : null),\n            thumbnails,\n            ...restProps,\n        };\n    });\n    const module = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS, ThumbnailsContextProvider);\n    if (contains(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN)) {\n        append(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN, module);\n    }\n    else {\n        addParent(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, module);\n    }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3RodW1ibmFpbHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrYjtBQUNuWjtBQUNtSTs7QUFFbEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLFlBQVksYUFBYSxFQUFFLDJEQUFnQjtBQUMzQztBQUNBOztBQUVBLDZCQUE2Qix3REFBYSxDQUFDLHdEQUFpQjtBQUM1RCxnREFBZ0Qsd0RBQWE7O0FBRTdELDJCQUEyQixxREFBVSxtQkFBbUIsZ0RBQW1CLFdBQVcsMEpBQTBKO0FBQ2hQLDZCQUE2QixxREFBVSxxQkFBcUIsZ0RBQW1CLFdBQVcsK0hBQStIO0FBQ3pOLDJCQUEyQiwrQkFBK0I7QUFDMUQ7QUFDQSwyR0FBMkcsK0JBQStCO0FBQzFJO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLGVBQWUsZ0RBQW1CLENBQUMsaURBQVUsSUFBSSxTQUFTLHNCQUFzQixzQkFBc0I7QUFDdEc7QUFDQSxRQUFRLHVEQUFZO0FBQ3BCLGVBQWUsZ0RBQW1CLENBQUMsaURBQVUsSUFBSSxrQ0FBa0M7QUFDbkY7QUFDQSwrQkFBK0IsbURBQVEsb0JBQW9CLG1EQUFZO0FBQ3ZFO0FBQ0EsZ0JBQWdCLGdEQUFtQixDQUFDLDJDQUFjO0FBQ2xELDRCQUE0QixnREFBbUIsQ0FBQyxpREFBVSxJQUFJLFNBQVMsbUJBQW1CLHNCQUFzQjtBQUNoSCxZQUFZLGdEQUFtQix1QkFBdUIsK0JBQStCO0FBQ3JGO0FBQ0EsV0FBVyxnREFBbUIseUJBQXlCLCtCQUErQjtBQUN0RjtBQUNBLHFCQUFxQiw0REFBaUI7QUFDdEMscUJBQXFCLDREQUFpQjtBQUN0QyxzQkFBc0IsNERBQWlCO0FBQ3ZDLDBCQUEwQiw0REFBaUI7QUFD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QUFzQjtBQUNsQyxZQUFZLFNBQVMsRUFBRSwyREFBZ0I7QUFDdkM7QUFDQSxlQUFlLGdEQUFtQixDQUFDLDJDQUFjLGtDQUFrQyxxQkFBcUI7QUFDeEc7QUFDQSxZQUFZLGdEQUFtQixDQUFDLGlEQUFVLElBQUksZ09BQWdPO0FBQzlROztBQUVBLHNCQUFzQixzQ0FBc0M7QUFDNUQsZUFBZSxvREFBb0Q7QUFDbkU7QUFDQTtBQUNBLHFCQUFxQiwyREFBZ0IsVUFBVSx3REFBaUIsMEJBQTBCLGdEQUFtQjtBQUM3RztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLHVEQUFZLENBQUMsd0RBQWlCO0FBQ2pELGlCQUFpQix3REFBaUI7QUFDbEMsZUFBZSx3REFBaUI7QUFDaEM7QUFDQTtBQUNBLGtCQUFrQix3REFBaUI7QUFDbkM7QUFDQTs7QUFFaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taWNoYWVsLWNvcmtlci1hcnR3b3JrLy4vbm9kZV9tb2R1bGVzL3lldC1hbm90aGVyLXJlYWN0LWxpZ2h0Ym94L2Rpc3QvcGx1Z2lucy90aHVtYm5haWxzL2luZGV4LmpzP2U3YmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTGlnaHRib3hQcm9wcywgY29tcG9zZVByZWZpeCwgY3JlYXRlSWNvbiwgSW1hZ2VTbGlkZSwgaXNJbWFnZVNsaWRlLCBjc3NDbGFzcywgbWFrZUNvbXBvc2VQcmVmaXgsIHVzZURvY3VtZW50Q29udGV4dCwgdXNlRXZlbnRDYWxsYmFjaywgY2xzeCwgY3NzVmFyLCBnZXRTbGlkZUtleSwgdXNlUlRMLCB1c2VFdmVudHMsIHVzZUxpZ2h0Ym94U3RhdGUsIHVzZVNlbnNvcnMsIHVzZUtleWJvYXJkTmF2aWdhdGlvbiwgdXNlQW5pbWF0aW9uLCBjbGVhbnVwLCBjYWxjdWxhdGVQcmVsb2FkLCBoYXNTbGlkZXMsIGdldFNsaWRlLCBtYWtlVXNlQ29udGV4dCwgTGlnaHRib3hQcm9wc1Byb3ZpZGVyLCBjcmVhdGVJY29uRGlzYWJsZWQsIEljb25CdXR0b24sIGFkZFRvb2xiYXJCdXR0b24sIGNyZWF0ZU1vZHVsZSB9IGZyb20gJy4uLy4uL2luZGV4LmpzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFBMVUdJTl9USFVNQk5BSUxTLCBFTEVNRU5UX0lDT04sIENMQVNTX0ZMRVhfQ0VOVEVSLCBBQ1RJT05fU1dJUEUsIEFDVElPTl9ORVhULCBBQ1RJT05fUFJFViwgUExVR0lOX0ZVTExTQ1JFRU4sIE1PRFVMRV9DT05UUk9MTEVSIH0gZnJvbSAnLi4vLi4vdHlwZXMuanMnO1xuXG5jb25zdCBkZWZhdWx0VGh1bWJuYWlsc1Byb3BzID0ge1xuICAgIHJlZjogbnVsbCxcbiAgICBwb3NpdGlvbjogXCJib3R0b21cIixcbiAgICB3aWR0aDogMTIwLFxuICAgIGhlaWdodDogODAsXG4gICAgYm9yZGVyOiAxLFxuICAgIGJvcmRlclJhZGl1czogNCxcbiAgICBwYWRkaW5nOiA0LFxuICAgIGdhcDogMTYsXG4gICAgaW1hZ2VGaXQ6IFwiY29udGFpblwiLFxuICAgIHZpZ25ldHRlOiB0cnVlLFxuICAgIGhpZGRlbjogZmFsc2UsXG4gICAgc2hvd1RvZ2dsZTogZmFsc2UsXG59O1xuY29uc3QgcmVzb2x2ZVRodW1ibmFpbHNQcm9wcyA9ICh0aHVtYm5haWxzKSA9PiAoe1xuICAgIC4uLmRlZmF1bHRUaHVtYm5haWxzUHJvcHMsXG4gICAgLi4udGh1bWJuYWlscyxcbn0pO1xuZnVuY3Rpb24gdXNlVGh1bWJuYWlsc1Byb3BzKCkge1xuICAgIGNvbnN0IHsgdGh1bWJuYWlscyB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIHJldHVybiByZXNvbHZlVGh1bWJuYWlsc1Byb3BzKHRodW1ibmFpbHMpO1xufVxuXG5jb25zdCBjc3NQcmVmaXggPSAodmFsdWUpID0+IGNvbXBvc2VQcmVmaXgoUExVR0lOX1RIVU1CTkFJTFMsIHZhbHVlKTtcbmNvbnN0IGNzc1RodW1ibmFpbFByZWZpeCA9ICh2YWx1ZSkgPT4gY3NzUHJlZml4KGNvbXBvc2VQcmVmaXgoXCJ0aHVtYm5haWxcIiwgdmFsdWUpKTtcblxuY29uc3QgVmlkZW9UaHVtYm5haWxJY29uID0gY3JlYXRlSWNvbihcIlZpZGVvVGh1bWJuYWlsXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTAgMTYuNWw2LTQuNS02LTQuNXY5ek0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDE4Yy00LjQxIDAtOC0zLjU5LTgtOHMzLjU5LTggOC04IDggMy41OSA4IDgtMy41OSA4LTggOHpcIiB9KSk7XG5jb25zdCBVbmtub3duVGh1bWJuYWlsSWNvbiA9IGNyZWF0ZUljb24oXCJVbmtub3duVGh1bWJuYWlsXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMjMgMThWNmMwLTEuMS0uOS0yLTItMkgzYy0xLjEgMC0yIC45LTIgMnYxMmMwIDEuMS45IDIgMiAyaDE4YzEuMSAwIDItLjkgMi0yek04LjUgMTIuNWwyLjUgMy4wMUwxNC41IDExbDQuNSA2SDVsMy41LTQuNXpcIiB9KSk7XG5mdW5jdGlvbiByZW5kZXJUaHVtYm5haWwoeyBzbGlkZSwgcmVuZGVyLCByZWN0LCBpbWFnZUZpdCB9KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGN1c3RvbVRodW1ibmFpbCA9IChfYSA9IHJlbmRlci50aHVtYm5haWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHJlbmRlciwgeyBzbGlkZSwgcmVuZGVyLCByZWN0LCBpbWFnZUZpdCB9KTtcbiAgICBpZiAoY3VzdG9tVGh1bWJuYWlsKSB7XG4gICAgICAgIHJldHVybiBjdXN0b21UaHVtYm5haWw7XG4gICAgfVxuICAgIGNvbnN0IGltYWdlU2xpZGVQcm9wcyA9IHsgcmVuZGVyLCByZWN0LCBpbWFnZUZpdCB9O1xuICAgIGlmIChzbGlkZS50aHVtYm5haWwpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2VTbGlkZSwgeyBzbGlkZTogeyBzcmM6IHNsaWRlLnRodW1ibmFpbCB9LCAuLi5pbWFnZVNsaWRlUHJvcHMgfSk7XG4gICAgfVxuICAgIGlmIChpc0ltYWdlU2xpZGUoc2xpZGUpKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlU2xpZGUsIHsgc2xpZGU6IHNsaWRlLCAuLi5pbWFnZVNsaWRlUHJvcHMgfSk7XG4gICAgfVxuICAgIGNvbnN0IHRodW1ibmFpbEljb25DbGFzcyA9IGNzc0NsYXNzKGNzc1RodW1ibmFpbFByZWZpeChFTEVNRU5UX0lDT04pKTtcbiAgICBpZiAoc2xpZGUudHlwZSA9PT0gXCJ2aWRlb1wiKSB7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgIHNsaWRlLnBvc3RlciAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlU2xpZGUsIHsgc2xpZGU6IHsgc3JjOiBzbGlkZS5wb3N0ZXIgfSwgLi4uaW1hZ2VTbGlkZVByb3BzIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChWaWRlb1RodW1ibmFpbEljb24sIHsgY2xhc3NOYW1lOiB0aHVtYm5haWxJY29uQ2xhc3MgfSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVW5rbm93blRodW1ibmFpbEljb24sIHsgY2xhc3NOYW1lOiB0aHVtYm5haWxJY29uQ2xhc3MgfSk7XG59XG5jb25zdCBhY3RpdmVQcmVmaXggPSBtYWtlQ29tcG9zZVByZWZpeChcImFjdGl2ZVwiKTtcbmNvbnN0IGZhZGVJblByZWZpeCA9IG1ha2VDb21wb3NlUHJlZml4KFwiZmFkZWluXCIpO1xuY29uc3QgZmFkZU91dFByZWZpeCA9IG1ha2VDb21wb3NlUHJlZml4KFwiZmFkZW91dFwiKTtcbmNvbnN0IHBsYWNlaG9sZGVyUHJlZml4ID0gbWFrZUNvbXBvc2VQcmVmaXgoXCJwbGFjZWhvbGRlclwiKTtcbmNvbnN0IERFTEFZID0gXCJkZWxheVwiO1xuY29uc3QgRFVSQVRJT04gPSBcImR1cmF0aW9uXCI7XG5mdW5jdGlvbiBUaHVtYm5haWwoeyBzbGlkZSwgb25DbGljaywgYWN0aXZlLCBmYWRlSW4sIGZhZGVPdXQsIHBsYWNlaG9sZGVyLCBvbkxvc2VGb2N1cyB9KSB7XG4gICAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHsgcmVuZGVyLCBzdHlsZXMgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCB7IGdldE93bmVyRG9jdW1lbnQgfSA9IHVzZURvY3VtZW50Q29udGV4dCgpO1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgaW1hZ2VGaXQgfSA9IHVzZVRodW1ibmFpbHNQcm9wcygpO1xuICAgIGNvbnN0IHJlY3QgPSB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgICBjb25zdCBvbkxvc2VGb2N1c0NhbGxiYWNrID0gdXNlRXZlbnRDYWxsYmFjayhvbkxvc2VGb2N1cyk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGZhZGVPdXQgJiYgZ2V0T3duZXJEb2N1bWVudCgpLmFjdGl2ZUVsZW1lbnQgPT09IHJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBvbkxvc2VGb2N1c0NhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9LCBbZmFkZU91dCwgb25Mb3NlRm9jdXNDYWxsYmFjaywgZ2V0T3duZXJEb2N1bWVudF0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IHJlZjogcmVmLCB0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoQ0xBU1NfRkxFWF9DRU5URVIpLCBjc3NDbGFzcyhjc3NUaHVtYm5haWxQcmVmaXgoKSksIGFjdGl2ZSAmJiBjc3NDbGFzcyhjc3NUaHVtYm5haWxQcmVmaXgoYWN0aXZlUHJlZml4KCkpKSwgZmFkZUluICYmIGNzc0NsYXNzKGNzc1RodW1ibmFpbFByZWZpeChmYWRlSW5QcmVmaXgoKSkpLCBmYWRlT3V0ICYmIGNzc0NsYXNzKGNzc1RodW1ibmFpbFByZWZpeChmYWRlT3V0UHJlZml4KCkpKSwgcGxhY2Vob2xkZXIgJiYgY3NzQ2xhc3MoY3NzVGh1bWJuYWlsUHJlZml4KHBsYWNlaG9sZGVyUHJlZml4KCkpKSksIHN0eWxlOiB7XG4gICAgICAgICAgICAuLi4oZmFkZUluXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KGZhZGVJblByZWZpeChEVVJBVElPTikpKV06IGAke2ZhZGVJbi5kdXJhdGlvbn1tc2AsXG4gICAgICAgICAgICAgICAgICAgIFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KGZhZGVJblByZWZpeChERUxBWSkpKV06IGAke2ZhZGVJbi5kZWxheX1tc2AsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAuLi4oZmFkZU91dFxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChmYWRlT3V0UHJlZml4KERVUkFUSU9OKSkpXTogYCR7ZmFkZU91dC5kdXJhdGlvbn1tc2AsXG4gICAgICAgICAgICAgICAgICAgIFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KGZhZGVPdXRQcmVmaXgoREVMQVkpKSldOiBgJHtmYWRlT3V0LmRlbGF5fW1zYCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgIC4uLnN0eWxlcy50aHVtYm5haWwsXG4gICAgICAgIH0sIG9uQ2xpY2s6IG9uQ2xpY2sgfSwgc2xpZGUgJiYgcmVuZGVyVGh1bWJuYWlsKHsgc2xpZGUsIHJlbmRlciwgcmVjdCwgaW1hZ2VGaXQgfSkpKTtcbn1cblxuZnVuY3Rpb24gaXNIb3Jpem9udGFsKHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIFtcInRvcFwiLCBcImJvdHRvbVwiXS5pbmNsdWRlcyhwb3NpdGlvbik7XG59XG5mdW5jdGlvbiBib3hTaXplKHRodW1ibmFpbHMsIGRpbWVuc2lvbikge1xuICAgIHJldHVybiBkaW1lbnNpb24gKyAyICogKHRodW1ibmFpbHMuYm9yZGVyICsgdGh1bWJuYWlscy5wYWRkaW5nKSArIHRodW1ibmFpbHMuZ2FwO1xufVxuZnVuY3Rpb24gZ2V0VGh1bWJuYWlsS2V5KHNsaWRlKSB7XG4gICAgY29uc3QgeyB0aHVtYm5haWwsIHBvc3RlciB9ID0gc2xpZGUgfHwgeyB0aHVtYm5haWw6IFwicGxhY2Vob2xkZXJcIiB9O1xuICAgIHJldHVybiAoKHR5cGVvZiB0aHVtYm5haWwgPT09IFwic3RyaW5nXCIgJiYgdGh1bWJuYWlsKSB8fFxuICAgICAgICAodHlwZW9mIHBvc3RlciA9PT0gXCJzdHJpbmdcIiAmJiBwb3N0ZXIpIHx8XG4gICAgICAgIChzbGlkZSAmJiBnZXRTbGlkZUtleShzbGlkZSkpIHx8XG4gICAgICAgIHVuZGVmaW5lZCk7XG59XG5mdW5jdGlvbiBUaHVtYm5haWxzVHJhY2soeyB2aXNpYmxlLCBjb250YWluZXJSZWYgfSkge1xuICAgIGNvbnN0IHRyYWNrID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGlzUlRMID0gdXNlUlRMKCk7XG4gICAgY29uc3QgeyBwdWJsaXNoLCBzdWJzY3JpYmUgfSA9IHVzZUV2ZW50cygpO1xuICAgIGNvbnN0IHsgY2Fyb3VzZWwsIHN0eWxlcyB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IHsgc2xpZGVzLCBnbG9iYWxJbmRleCwgYW5pbWF0aW9uIH0gPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgeyByZWdpc3RlclNlbnNvcnMsIHN1YnNjcmliZVNlbnNvcnMgfSA9IHVzZVNlbnNvcnMoKTtcbiAgICB1c2VLZXlib2FyZE5hdmlnYXRpb24oc3Vic2NyaWJlU2Vuc29ycyk7XG4gICAgY29uc3QgdGh1bWJuYWlscyA9IHVzZVRodW1ibmFpbHNQcm9wcygpO1xuICAgIGNvbnN0IHsgcG9zaXRpb24sIHdpZHRoLCBoZWlnaHQsIGJvcmRlciwgYm9yZGVyU3R5bGUsIGJvcmRlckNvbG9yLCBib3JkZXJSYWRpdXMsIHBhZGRpbmcsIGdhcCwgdmlnbmV0dGUgfSA9IHRodW1ibmFpbHM7XG4gICAgY29uc3QgYW5pbWF0aW9uRHVyYXRpb24gPSAoYW5pbWF0aW9uID09PSBudWxsIHx8IGFuaW1hdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYW5pbWF0aW9uLmR1cmF0aW9uKSB8fCAwO1xuICAgIGNvbnN0IG9mZnNldCA9IChhbmltYXRpb25EdXJhdGlvbiA+IDAgJiYgKGFuaW1hdGlvbiA9PT0gbnVsbCB8fCBhbmltYXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFuaW1hdGlvbi5pbmNyZW1lbnQpKSB8fCAwO1xuICAgIGNvbnN0IHsgcHJlcGFyZUFuaW1hdGlvbiB9ID0gdXNlQW5pbWF0aW9uKHRyYWNrLCAoc25hcHNob3QpID0+ICh7XG4gICAgICAgIGtleWZyYW1lczogaXNIb3Jpem9udGFsKHBvc2l0aW9uKVxuICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKCR7KGlzUlRMID8gLTEgOiAxKSAqIGJveFNpemUodGh1bWJuYWlscywgd2lkdGgpICogb2Zmc2V0ICsgc25hcHNob3R9cHgpYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVgoMClcIiB9LFxuICAgICAgICAgICAgXVxuICAgICAgICAgICAgOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7Ym94U2l6ZSh0aHVtYm5haWxzLCBoZWlnaHQpICogb2Zmc2V0ICsgc25hcHNob3R9cHgpYCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVkoMClcIiB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgZHVyYXRpb246IGFuaW1hdGlvbkR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6IGFuaW1hdGlvbiA9PT0gbnVsbCB8fCBhbmltYXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFuaW1hdGlvbi5lYXNpbmcsXG4gICAgfSkpO1xuICAgIGNvbnN0IGhhbmRsZUNvbnRyb2xsZXJTd2lwZSA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBsZXQgYW5pbWF0aW9uT2Zmc2V0ID0gMDtcbiAgICAgICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50ICYmIHRyYWNrLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSBjb250YWluZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrUmVjdCA9IHRyYWNrLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBhbmltYXRpb25PZmZzZXQgPSBpc0hvcml6b250YWwocG9zaXRpb24pXG4gICAgICAgICAgICAgICAgPyB0cmFja1JlY3QubGVmdCAtIGNvbnRhaW5lclJlY3QubGVmdCAtIChjb250YWluZXJSZWN0LndpZHRoIC0gdHJhY2tSZWN0LndpZHRoKSAvIDJcbiAgICAgICAgICAgICAgICA6IHRyYWNrUmVjdC50b3AgLSBjb250YWluZXJSZWN0LnRvcCAtIChjb250YWluZXJSZWN0LmhlaWdodCAtIHRyYWNrUmVjdC5oZWlnaHQpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBwcmVwYXJlQW5pbWF0aW9uKGFuaW1hdGlvbk9mZnNldCk7XG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IGNsZWFudXAoc3Vic2NyaWJlKEFDVElPTl9TV0lQRSwgaGFuZGxlQ29udHJvbGxlclN3aXBlKSksIFtzdWJzY3JpYmUsIGhhbmRsZUNvbnRyb2xsZXJTd2lwZV0pO1xuICAgIGNvbnN0IHByZWxvYWQgPSBjYWxjdWxhdGVQcmVsb2FkKGNhcm91c2VsLCBzbGlkZXMpO1xuICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgaWYgKGhhc1NsaWRlcyhzbGlkZXMpKSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gZ2xvYmFsSW5kZXggLSBwcmVsb2FkIC0gTWF0aC5hYnMob2Zmc2V0KTsgaW5kZXggPD0gZ2xvYmFsSW5kZXggKyBwcmVsb2FkICsgTWF0aC5hYnMob2Zmc2V0KTsgaW5kZXggKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAoY2Fyb3VzZWwuZmluaXRlICYmIChpbmRleCA8IDAgfHwgaW5kZXggPiBzbGlkZXMubGVuZ3RoIC0gMSkpIHx8XG4gICAgICAgICAgICAgICAgKG9mZnNldCA8IDAgJiYgaW5kZXggPCBnbG9iYWxJbmRleCAtIHByZWxvYWQpIHx8XG4gICAgICAgICAgICAgICAgKG9mZnNldCA+IDAgJiYgaW5kZXggPiBnbG9iYWxJbmRleCArIHByZWxvYWQpO1xuICAgICAgICAgICAgY29uc3Qgc2xpZGUgPSAhcGxhY2Vob2xkZXIgPyBnZXRTbGlkZShzbGlkZXMsIGluZGV4KSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBbYCR7aW5kZXh9YCwgZ2V0VGh1bWJuYWlsS2V5KHNsaWRlKV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCJ8XCIpO1xuICAgICAgICAgICAgaXRlbXMucHVzaCh7IGtleSwgaW5kZXgsIHNsaWRlIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKHNsaWRlSW5kZXgpID0+ICgpID0+IHtcbiAgICAgICAgaWYgKHNsaWRlSW5kZXggPiBnbG9iYWxJbmRleCkge1xuICAgICAgICAgICAgcHVibGlzaChBQ1RJT05fTkVYVCwgeyBjb3VudDogc2xpZGVJbmRleCAtIGdsb2JhbEluZGV4IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNsaWRlSW5kZXggPCBnbG9iYWxJbmRleCkge1xuICAgICAgICAgICAgcHVibGlzaChBQ1RJT05fUFJFViwgeyBjb3VudDogZ2xvYmFsSW5kZXggLSBzbGlkZUluZGV4IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoY3NzUHJlZml4KFwiY29udGFpbmVyXCIpKSwgY3NzQ2xhc3MoQ0xBU1NfRkxFWF9DRU5URVIpKSwgc3R5bGU6IHtcbiAgICAgICAgICAgIC4uLighdmlzaWJsZSA/IHsgZGlzcGxheTogXCJub25lXCIgfSA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKHdpZHRoICE9PSBkZWZhdWx0VGh1bWJuYWlsc1Byb3BzLndpZHRoID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcIndpZHRoXCIpKV06IGAke3dpZHRofXB4YCB9IDogbnVsbCksXG4gICAgICAgICAgICAuLi4oaGVpZ2h0ICE9PSBkZWZhdWx0VGh1bWJuYWlsc1Byb3BzLmhlaWdodFxuICAgICAgICAgICAgICAgID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcImhlaWdodFwiKSldOiBgJHtoZWlnaHR9cHhgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKGJvcmRlciAhPT0gZGVmYXVsdFRodW1ibmFpbHNQcm9wcy5ib3JkZXJcbiAgICAgICAgICAgICAgICA/IHsgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoXCJib3JkZXJcIikpXTogYCR7Ym9yZGVyfXB4YCB9XG4gICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgIC4uLihib3JkZXJTdHlsZSA/IHsgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoXCJib3JkZXJfc3R5bGVcIikpXTogYm9yZGVyU3R5bGUgfSA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKGJvcmRlckNvbG9yID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcImJvcmRlcl9jb2xvclwiKSldOiBib3JkZXJDb2xvciB9IDogbnVsbCksXG4gICAgICAgICAgICAuLi4oYm9yZGVyUmFkaXVzICE9PSBkZWZhdWx0VGh1bWJuYWlsc1Byb3BzLmJvcmRlclJhZGl1c1xuICAgICAgICAgICAgICAgID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcImJvcmRlcl9yYWRpdXNcIikpXTogYCR7Ym9yZGVyUmFkaXVzfXB4YCB9XG4gICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgIC4uLihwYWRkaW5nICE9PSBkZWZhdWx0VGh1bWJuYWlsc1Byb3BzLnBhZGRpbmdcbiAgICAgICAgICAgICAgICA/IHsgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoXCJwYWRkaW5nXCIpKV06IGAke3BhZGRpbmd9cHhgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKGdhcCAhPT0gZGVmYXVsdFRodW1ibmFpbHNQcm9wcy5nYXAgPyB7IFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KFwiZ2FwXCIpKV06IGAke2dhcH1weGAgfSA6IG51bGwpLFxuICAgICAgICAgICAgLi4uc3R5bGVzLnRodW1ibmFpbHNDb250YWluZXIsXG4gICAgICAgIH0gfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcIm5hdlwiLCB7IHJlZjogdHJhY2ssIHN0eWxlOiBzdHlsZXMudGh1bWJuYWlsc1RyYWNrLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoY3NzUHJlZml4KFwidHJhY2tcIikpLCBjc3NDbGFzcyhDTEFTU19GTEVYX0NFTlRFUikpLCB0YWJJbmRleDogLTEsIC4uLnJlZ2lzdGVyU2Vuc29ycyB9LCBpdGVtcy5tYXAoKHsga2V5LCBpbmRleCwgc2xpZGUgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmFkZUFuaW1hdGlvbkR1cmF0aW9uID0gYW5pbWF0aW9uRHVyYXRpb24gLyBNYXRoLmFicyhvZmZzZXQgfHwgMSk7XG4gICAgICAgICAgICBjb25zdCBmYWRlSW4gPSAob2Zmc2V0ID4gMCAmJiBpbmRleCA+IGdsb2JhbEluZGV4ICsgcHJlbG9hZCAtIG9mZnNldCAmJiBpbmRleCA8PSBnbG9iYWxJbmRleCArIHByZWxvYWQpIHx8XG4gICAgICAgICAgICAgICAgKG9mZnNldCA8IDAgJiYgaW5kZXggPCBnbG9iYWxJbmRleCAtIHByZWxvYWQgLSBvZmZzZXQgJiYgaW5kZXggPj0gZ2xvYmFsSW5kZXggLSBwcmVsb2FkKVxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZmFkZUFuaW1hdGlvbkR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkZWxheTogKChvZmZzZXQgPiAwID8gaW5kZXggLSAoZ2xvYmFsSW5kZXggKyBwcmVsb2FkIC0gb2Zmc2V0KSA6IGdsb2JhbEluZGV4IC0gcHJlbG9hZCAtIG9mZnNldCAtIGluZGV4KSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAxKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWRlQW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgZmFkZU91dCA9IChvZmZzZXQgPiAwICYmIGluZGV4IDwgZ2xvYmFsSW5kZXggLSBwcmVsb2FkKSB8fCAob2Zmc2V0IDwgMCAmJiBpbmRleCA+IGdsb2JhbEluZGV4ICsgcHJlbG9hZClcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGZhZGVBbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGVsYXk6IChvZmZzZXQgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9mZnNldCAtIChnbG9iYWxJbmRleCAtIHByZWxvYWQgLSBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogLW9mZnNldCAtIChpbmRleCAtIChnbG9iYWxJbmRleCArIHByZWxvYWQpKSkgKiBmYWRlQW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFRodW1ibmFpbCwgeyBrZXk6IGtleSwgc2xpZGU6IHNsaWRlLCBhY3RpdmU6IGluZGV4ID09PSBnbG9iYWxJbmRleCwgZmFkZUluOiBmYWRlSW4sIGZhZGVPdXQ6IGZhZGVPdXQsIHBsYWNlaG9sZGVyOiAhc2xpZGUsIG9uQ2xpY2s6IGhhbmRsZUNsaWNrKGluZGV4KSwgb25Mb3NlRm9jdXM6ICgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdHJhY2suY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7IH0gfSkpO1xuICAgICAgICB9KSksXG4gICAgICAgIHZpZ25ldHRlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNzc0NsYXNzKGNzc1ByZWZpeChcInZpZ25ldHRlXCIpKSB9KSkpO1xufVxuXG5jb25zdCBUaHVtYm5haWxzQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2VUaHVtYm5haWxzID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VUaHVtYm5haWxzXCIsIFwiVGh1bWJuYWlsc0NvbnRleHRcIiwgVGh1bWJuYWlsc0NvbnRleHQpO1xuZnVuY3Rpb24gVGh1bWJuYWlsc0NvbnRleHRQcm92aWRlcih7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSB7XG4gICAgY29uc3QgeyByZWYsIHBvc2l0aW9uLCBoaWRkZW4gfSA9IHJlc29sdmVUaHVtYm5haWxzUHJvcHMocHJvcHMudGh1bWJuYWlscyk7XG4gICAgY29uc3QgW3Zpc2libGUsIHNldFZpc2libGVdID0gUmVhY3QudXNlU3RhdGUoIWhpZGRlbik7XG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIHZpc2libGUsXG4gICAgICAgIHNob3c6ICgpID0+IHNldFZpc2libGUodHJ1ZSksXG4gICAgICAgIGhpZGU6ICgpID0+IHNldFZpc2libGUoZmFsc2UpLFxuICAgIH0pLCBbdmlzaWJsZV0pO1xuICAgIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiBjb250ZXh0LCBbY29udGV4dF0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaWdodGJveFByb3BzUHJvdmlkZXIsIHsgLi4ucHJvcHMgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUaHVtYm5haWxzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogY29udGFpbmVyUmVmLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoY3NzUHJlZml4KCkpLCBjc3NDbGFzcyhjc3NQcmVmaXgoYCR7cG9zaXRpb259YCkpKSB9LFxuICAgICAgICAgICAgICAgIFtcInN0YXJ0XCIsIFwidG9wXCJdLmluY2x1ZGVzKHBvc2l0aW9uKSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFRodW1ibmFpbHNUcmFjaywgeyBjb250YWluZXJSZWY6IGNvbnRhaW5lclJlZiwgdmlzaWJsZTogdmlzaWJsZSB9KSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjc3NDbGFzcyhjc3NQcmVmaXgoXCJ3cmFwcGVyXCIpKSB9LCBjaGlsZHJlbiksXG4gICAgICAgICAgICAgICAgW1wiZW5kXCIsIFwiYm90dG9tXCJdLmluY2x1ZGVzKHBvc2l0aW9uKSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFRodW1ibmFpbHNUcmFjaywgeyBjb250YWluZXJSZWY6IGNvbnRhaW5lclJlZiwgdmlzaWJsZTogdmlzaWJsZSB9KSkpKSk7XG59XG5cbmNvbnN0IHRodW1ibmFpbHNJY29uID0gKCkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBzdHJva2VXaWR0aDogMiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLCBmaWxsOiBcIm5vbmVcIiwgZDogXCJNMyA1bDE4IDBsMCAxNGwtMTggMGwwLTE0elwiIH0pLFxuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNSAxNGg0djNoLTR6TTEwIDE0aDR2M2gtNHpNMTUgMTRoNHYzaC00elwiIH0pKSk7XG5jb25zdCBUaHVtYm5haWxzVmlzaWJsZSA9IGNyZWF0ZUljb24oXCJUaHVtYm5haWxzVmlzaWJsZVwiLCB0aHVtYm5haWxzSWNvbigpKTtcbmNvbnN0IFRodW1ibmFpbHNIaWRkZW4gPSBjcmVhdGVJY29uRGlzYWJsZWQoXCJUaHVtYm5haWxzSGlkZGVuXCIsIHRodW1ibmFpbHNJY29uKCkpO1xuZnVuY3Rpb24gVGh1bWJuYWlsc0J1dHRvbigpIHtcbiAgICBjb25zdCB7IHZpc2libGUsIHNob3csIGhpZGUgfSA9IHVzZVRodW1ibmFpbHMoKTtcbiAgICBjb25zdCB7IHJlbmRlciB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGlmIChyZW5kZXIuYnV0dG9uVGh1bWJuYWlscykge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgcmVuZGVyLmJ1dHRvblRodW1ibmFpbHMoeyB2aXNpYmxlLCBzaG93LCBoaWRlIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgbGFiZWw6IHZpc2libGUgPyBcIkhpZGUgdGh1bWJuYWlsc1wiIDogXCJTaG93IHRodW1ibmFpbHNcIiwgaWNvbjogdmlzaWJsZSA/IFRodW1ibmFpbHNWaXNpYmxlIDogVGh1bWJuYWlsc0hpZGRlbiwgcmVuZGVySWNvbjogdmlzaWJsZSA/IHJlbmRlci5pY29uVGh1bWJuYWlsc1Zpc2libGUgOiByZW5kZXIuaWNvblRodW1ibmFpbHNIaWRkZW4sIG9uQ2xpY2s6IHZpc2libGUgPyBoaWRlIDogc2hvdyB9KSk7XG59XG5cbmZ1bmN0aW9uIFRodW1ibmFpbHMoeyBhdWdtZW50LCBjb250YWlucywgYXBwZW5kLCBhZGRQYXJlbnQgfSkge1xuICAgIGF1Z21lbnQoKHsgdGh1bWJuYWlsczogdGh1bWJuYWlsc1Byb3BzLCB0b29sYmFyLCAuLi5yZXN0UHJvcHMgfSkgPT4ge1xuICAgICAgICBjb25zdCB0aHVtYm5haWxzID0gcmVzb2x2ZVRodW1ibmFpbHNQcm9wcyh0aHVtYm5haWxzUHJvcHMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9vbGJhcjogYWRkVG9vbGJhckJ1dHRvbih0b29sYmFyLCBQTFVHSU5fVEhVTUJOQUlMUywgdGh1bWJuYWlscy5zaG93VG9nZ2xlID8gUmVhY3QuY3JlYXRlRWxlbWVudChUaHVtYm5haWxzQnV0dG9uLCBudWxsKSA6IG51bGwpLFxuICAgICAgICAgICAgdGh1bWJuYWlscyxcbiAgICAgICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBtb2R1bGUgPSBjcmVhdGVNb2R1bGUoUExVR0lOX1RIVU1CTkFJTFMsIFRodW1ibmFpbHNDb250ZXh0UHJvdmlkZXIpO1xuICAgIGlmIChjb250YWlucyhQTFVHSU5fRlVMTFNDUkVFTikpIHtcbiAgICAgICAgYXBwZW5kKFBMVUdJTl9GVUxMU0NSRUVOLCBtb2R1bGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYWRkUGFyZW50KE1PRFVMRV9DT05UUk9MTEVSLCBtb2R1bGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgVGh1bWJuYWlscyBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js":
/*!****************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Zoom)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultZoomProps = {\n    maxZoomPixelRatio: 1,\n    zoomInMultiplier: 2,\n    doubleTapDelay: 300,\n    doubleClickDelay: 500,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: false,\n};\nconst resolveZoomProps = (zoom) => ({\n    ...defaultZoomProps,\n    ...zoom,\n});\n\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n    const zoomAnimation = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const zoomAnimationStart = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { zoom: zoomAnimationDuration } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)().animation;\n    const reduceMotion = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useMotionPreference)();\n    const playZoomAnimation = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a, _b, _c;\n        (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        zoomAnimation.current = undefined;\n        if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n            try {\n                zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                    { transform: zoomAnimationStart.current },\n                    { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` },\n                ], {\n                    duration: !reduceMotion ? zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500 : 0,\n                    easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\",\n                });\n            }\n            catch (err) {\n                console.error(err);\n            }\n            zoomAnimationStart.current = undefined;\n            if (zoomAnimation.current) {\n                zoomAnimation.current.onfinish = () => {\n                    zoomAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)\n            ? window.getComputedStyle(zoomWrapperRef.current).transform\n            : undefined;\n    }, [zoomWrapperRef]);\n}\n\nfunction useZoomCallback(zoom, disabled) {\n    const { on } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const onZoomCallback = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a;\n        if (!disabled) {\n            (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, { zoom });\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\n\nfunction useZoomProps() {\n    const { zoom } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    return resolveZoomProps(zoom);\n}\n\nfunction useZoomImageRect(slideRect, imageDimensions) {\n    var _a, _b;\n    let imageRect = { width: 0, height: 0 };\n    let maxImageRect = { width: 0, height: 0 };\n    const { currentSlide } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { imageFit } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)().carousel;\n    const { maxZoomPixelRatio } = useZoomProps();\n    if (slideRect && currentSlide) {\n        const slide = { ...currentSlide, ...imageDimensions };\n        if ((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(slide)) {\n            const cover = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageFitCover)(slide, imageFit);\n            const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) || []).concat(slide.width ? [slide.width] : []));\n            const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map((x) => x.height)) || []).concat(slide.height ? [slide.height] : []));\n            if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n                maxImageRect = cover\n                    ? {\n                        width: Math.round(Math.min(width, (slideRect.width / slideRect.height) * height)),\n                        height: Math.round(Math.min(height, (slideRect.height / slideRect.width) * width)),\n                    }\n                    : { width, height };\n                maxImageRect = {\n                    width: maxImageRect.width * maxZoomPixelRatio,\n                    height: maxImageRect.height * maxZoomPixelRatio,\n                };\n                imageRect = cover\n                    ? {\n                        width: Math.min(slideRect.width, maxImageRect.width, width),\n                        height: Math.min(slideRect.height, maxImageRect.height, height),\n                    }\n                    : {\n                        width: Math.round(Math.min(slideRect.width, (slideRect.height / height) * width, width)),\n                        height: Math.round(Math.min(slideRect.height, (slideRect.width / width) * height, height)),\n                    };\n            }\n        }\n    }\n    const maxZoom = imageRect.width ? Math.max((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.round)(maxImageRect.width / imageRect.width, 5), 1) : 1;\n    return { imageRect, maxZoom };\n}\n\nfunction distance(pointerA, pointerB) {\n    return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n    const activePointers = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n    const lastPointerDown = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pinchZoomDistance = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { globalIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { getOwnerWindow } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useDocumentContext)();\n    const { containerRef, subscribeSensors } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { keyboardMoveDistance, zoomInMultiplier, wheelZoomDistanceFactor, scrollToZoom, doubleTapDelay, doubleClickDelay, doubleClickMaxStops, pinchZoomDistanceFactor, } = useZoomProps();\n    const translateCoordinates = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        if (containerRef.current) {\n            const { pageX, pageY } = event;\n            const { scrollX, scrollY } = getOwnerWindow();\n            const { left, top, width, height } = containerRef.current.getBoundingClientRect();\n            return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n        }\n        return [];\n    }, [containerRef, getOwnerWindow]);\n    const onKeyDown = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        const preventDefault = () => {\n            event.preventDefault();\n            event.stopPropagation();\n        };\n        if (zoom > 1) {\n            const move = (deltaX, deltaY) => {\n                preventDefault();\n                changeOffsets(deltaX, deltaY);\n            };\n            if (event.key === \"ArrowDown\") {\n                move(0, keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowUp\") {\n                move(0, -keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowLeft\") {\n                move(-keyboardMoveDistance, 0);\n            }\n            else if (event.key === \"ArrowRight\") {\n                move(keyboardMoveDistance, 0);\n            }\n        }\n        const handleChangeZoom = (zoomValue) => {\n            preventDefault();\n            changeZoom(zoomValue);\n        };\n        const hasMeta = () => event.getModifierState(\"Meta\");\n        if (event.key === \"+\" || (event.key === \"=\" && hasMeta())) {\n            handleChangeZoom(zoom * zoomInMultiplier);\n        }\n        else if (event.key === \"-\" || (event.key === \"_\" && hasMeta())) {\n            handleChangeZoom(zoom / zoomInMultiplier);\n        }\n        else if (event.key === \"0\" && hasMeta()) {\n            handleChangeZoom(1);\n        }\n    });\n    const onWheel = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        if (event.ctrlKey || scrollToZoom) {\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                event.stopPropagation();\n                changeZoom(zoom * (1 - event.deltaY / wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n                return;\n            }\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (!scrollToZoom) {\n                changeOffsets(event.deltaX, event.deltaY);\n            }\n        }\n    });\n    const clearPointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length, ...pointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const replacePointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        activePointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        var _a;\n        const pointers = activePointers.current;\n        if (!((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n        }\n        const { timeStamp } = event;\n        if (pointers.length === 0 &&\n            timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n            lastPointerDown.current = 0;\n            changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n        }\n        else {\n            lastPointerDown.current = timeStamp;\n        }\n        replacePointer(event);\n        if (pointers.length === 2) {\n            pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n        }\n    });\n    const onPointerMove = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        const pointers = activePointers.current;\n        const activePointer = pointers.find((p) => p.pointerId === event.pointerId);\n        if (pointers.length === 2 && pinchZoomDistance.current) {\n            event.stopPropagation();\n            replacePointer(event);\n            const currentDistance = distance(pointers[0], pointers[1]);\n            const delta = currentDistance - pinchZoomDistance.current;\n            if (Math.abs(delta) > 0) {\n                changeZoom(zoom * (1 + delta / pinchZoomDistanceFactor), true, ...pointers\n                    .map((x) => translateCoordinates(x))\n                    .reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n                pinchZoomDistance.current = currentDistance;\n            }\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (activePointer) {\n                if (pointers.length === 1) {\n                    changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n                }\n                replacePointer(event);\n            }\n        }\n    });\n    const onPointerUp = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        const pointers = activePointers.current;\n        if (pointers.length === 2 && pointers.find((p) => p.pointerId === event.pointerId)) {\n            pinchZoomDistance.current = undefined;\n        }\n        clearPointer(event);\n    }, [clearPointer]);\n    const cleanupSensors = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length);\n        lastPointerDown.current = 0;\n        pinchZoomDistance.current = undefined;\n    }, []);\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.usePointerEvents)(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (!disabled) {\n            return (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(cleanupSensors, subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL, onWheel));\n        }\n        return () => { };\n    }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\n\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n    const [zoom, setZoom] = react__WEBPACK_IMPORTED_MODULE_0__.useState(1);\n    const [offsetX, setOffsetX] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n    const [offsetY, setOffsetY] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n    const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n    const { currentSlide, globalIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { containerRect, slideRect } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { zoomInMultiplier } = useZoomProps();\n    const currentSource = currentSlide && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(currentSlide) ? currentSlide.src : undefined;\n    const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        setZoom(1);\n        setOffsetX(0);\n        setOffsetY(0);\n    }, [globalIndex, currentSource]);\n    const changeOffsets = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((dx, dy, targetZoom) => {\n        const newZoom = targetZoom || zoom;\n        const newOffsetX = offsetX - (dx || 0);\n        const newOffsetY = offsetY - (dy || 0);\n        const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n        const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n        setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n        setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n    }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n    const changeZoom = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((targetZoom, rapid, dx, dy) => {\n        const newZoom = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.round)(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n        if (newZoom === zoom)\n            return;\n        if (!rapid) {\n            animate();\n        }\n        changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n        setZoom(newZoom);\n    }, [zoom, maxZoom, changeOffsets, animate]);\n    const handleControllerRectChange = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        if (zoom > 1) {\n            if (zoom > maxZoom) {\n                changeZoom(maxZoom, true);\n            }\n            changeOffsets();\n        }\n    });\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(handleControllerRectChange, [containerRect.width, containerRect.height, handleControllerRectChange]);\n    const zoomIn = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    const zoomOut = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    return { zoom, offsetX, offsetY, disabled, changeOffsets, changeZoom, zoomIn, zoomOut };\n}\n\nconst ZoomControllerContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useZoom = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider({ children }) {\n    const [zoomWrapper, setZoomWrapper] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const { slideRect } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { imageRect, maxZoom } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n    const { zoom, offsetX, offsetY, disabled, changeZoom, changeOffsets, zoomIn, zoomOut } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    useZoomCallback(zoom, disabled);\n    useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    const zoomRef = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ ...zoomRef, setZoomWrapper }), [zoomRef, setZoomWrapper]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomControllerContext.Provider, { value: context }, children);\n}\n\nconst ZoomInIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ZoomIn\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" }),\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" })));\nconst ZoomOutIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ZoomOut\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" }));\nconst ZoomButton = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function ZoomButton({ zoomIn, onLoseFocus }, ref) {\n    const wasEnabled = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const wasFocused = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const { zoom, maxZoom, zoomIn: zoomInCallback, zoomOut: zoomOutCallback, disabled: zoomDisabled } = useZoom();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (disabled && wasEnabled.current && wasFocused.current) {\n            onLoseFocus();\n        }\n        if (!disabled) {\n            wasEnabled.current = true;\n        }\n    }, [disabled, onLoseFocus]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { ref: ref, disabled: disabled, label: zoomIn ? \"Zoom in\" : \"Zoom out\", icon: zoomIn ? ZoomInIcon : ZoomOutIcon, renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut, onClick: zoomIn ? zoomInCallback : zoomOutCallback, onFocus: () => {\n            wasFocused.current = true;\n        }, onBlur: () => {\n            wasFocused.current = false;\n        } }));\n});\n\nfunction ZoomButtonsGroup() {\n    const zoomInRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const zoomOutRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { focus } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const focusSibling = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((sibling) => {\n        var _a, _b;\n        if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n            (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n        else {\n            focus();\n        }\n    }, [focus]);\n    const focusZoomIn = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n    const focusZoomOut = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomButton, { zoomIn: true, ref: zoomInRef, onLoseFocus: focusZoomOut }),\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomButton, { ref: zoomOutRef, onLoseFocus: focusZoomIn })));\n}\n\nfunction ZoomToolbarControl() {\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const zoomRef = useZoom();\n    if (render.buttonZoom) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonZoom(zoomRef));\n    }\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomButtonsGroup, null);\n}\n\nfunction isResponsiveImageSlide(slide) {\n    var _a;\n    return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer({ current, preload }, { type, source }) {\n    switch (type) {\n        case \"fetch\":\n            if (!current) {\n                return { current: source };\n            }\n            return { current, preload: source };\n        case \"done\":\n            if (source === preload) {\n                return { current: source };\n            }\n            return { current, preload };\n        default:\n            throw new Error(_types_js__WEBPACK_IMPORTED_MODULE_2__.UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction ResponsiveImage(props) {\n    var _a, _b;\n    const [{ current, preload }, dispatch] = react__WEBPACK_IMPORTED_MODULE_0__.useReducer(reducer, {});\n    const { slide: image, rect, imageFit, render } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageFitCover)(image, imageFit);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.devicePixelRatio)();\n    const handleResize = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current || srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            dispatch({ type: \"fetch\", source: targetSource.src });\n        }\n    });\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n    const handlePreload = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((currentPreload) => dispatch({ type: \"done\", source: currentPreload }));\n    const style = {\n        WebkitTransform: \"translateZ(0)\",\n    };\n    if (!cover) {\n        Object.assign(style, rect.width / rect.height < width / height ? { width: \"100%\", height: \"auto\" } : { width: \"auto\", height: \"100%\" });\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n        preload && preload !== current && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { key: \"preload\", ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n}\n\nfunction ZoomWrapper({ render, slide, offset, rect }) {\n    var _a;\n    const [imageDimensions, setImageDimensions] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const zoomWrapperRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { zoom, maxZoom, offsetX, offsetY, setZoomWrapper } = useZoom();\n    const { carousel, on } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { currentIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        if (offset === 0) {\n            setZoomWrapper({ zoomWrapperRef, imageDimensions });\n            return () => setZoomWrapper(undefined);\n        }\n        return () => { };\n    }, [offset, imageDimensions, setZoomWrapper]);\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect, zoom, maxZoom });\n    if (!rendered && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(slide)) {\n        const slideProps = {\n            slide,\n            offset,\n            rect,\n            render,\n            imageFit: carousel.imageFit,\n            imageProps: carousel.imageProps,\n            onClick: offset === 0 ? () => { var _a; return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, { index: currentIndex }); } : undefined,\n        };\n        rendered = isResponsiveImageSlide(slide) ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResponsiveImage, { ...slideProps, slide: slide, rect: offset === 0 ? { width: rect.width * zoom, height: rect.height * zoom } : rect })) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { onLoad: (img) => setImageDimensions({ width: img.naturalWidth, height: img.naturalHeight }), ...slideProps }));\n    }\n    if (!rendered)\n        return null;\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: zoomWrapperRef, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER)), style: offset === 0 ? { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` } : undefined }, rendered));\n}\n\nconst Zoom = ({ augment, addModule }) => {\n    augment(({ zoom: zoomProps, toolbar, render, controller, ...restProps }) => {\n        const zoom = resolveZoomProps(zoomProps);\n        return {\n            zoom,\n            toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_ZOOM, react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomToolbarControl, null)),\n            render: {\n                ...render,\n                slide: (props) => { var _a; return (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(props.slide) ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomWrapper, { render: render, ...props }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props); },\n            },\n            controller: { ...controller, preventDefaultWheelY: zoom.scrollToZoom },\n            ...restProps,\n        };\n    });\n    addModule((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_ZOOM, ZoomContextProvider));\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3pvb20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzVjtBQUN2VDtBQUM4SDs7QUFFN0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSwwQkFBMEIseUNBQVk7QUFDdEMsK0JBQStCLHlDQUFZO0FBQzNDLFlBQVksOEJBQThCLEVBQUUsMkRBQWdCO0FBQzVELHlCQUF5Qiw4REFBbUI7QUFDNUMsOEJBQThCLDJEQUFnQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsdUNBQXVDO0FBQzdELHNCQUFzQixvQkFBb0IsS0FBSyxlQUFlLFFBQVEsaUJBQWlCLFFBQVEsTUFBTTtBQUNyRztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLDBEQUFlO0FBQ25CLFdBQVcsOENBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLFlBQVksS0FBSyxFQUFFLDJEQUFnQjtBQUNuQywyQkFBMkIsMkRBQWdCO0FBQzNDO0FBQ0E7QUFDQSw4RUFBOEUsTUFBTTtBQUNwRjtBQUNBLEtBQUs7QUFDTCxJQUFJLDRDQUFlO0FBQ25COztBQUVBO0FBQ0EsWUFBWSxPQUFPLEVBQUUsMkRBQWdCO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQjtBQUN0Qix5QkFBeUI7QUFDekIsWUFBWSxlQUFlLEVBQUUsMkRBQWdCO0FBQzdDLFlBQVksV0FBVyxFQUFFLDJEQUFnQjtBQUN6QyxZQUFZLG9CQUFvQjtBQUNoQztBQUNBLHdCQUF3QjtBQUN4QixZQUFZLHVEQUFZO0FB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YW5vdGhlci1yZWFjdC1saWdodGJveC9kaXN0L3BsdWdpbnMvem9vbS9pbmRleC5qcz82ODVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUxpZ2h0Ym94UHJvcHMsIHVzZU1vdGlvblByZWZlcmVuY2UsIHVzZUV2ZW50Q2FsbGJhY2ssIHVzZUxheW91dEVmZmVjdCwgdXNlTGlnaHRib3hTdGF0ZSwgaXNJbWFnZVNsaWRlLCBpc0ltYWdlRml0Q292ZXIsIHJvdW5kLCB1c2VEb2N1bWVudENvbnRleHQsIHVzZUNvbnRyb2xsZXIsIHVzZVBvaW50ZXJFdmVudHMsIGNsZWFudXAsIG1ha2VVc2VDb250ZXh0LCBjcmVhdGVJY29uLCBJY29uQnV0dG9uLCBkZXZpY2VQaXhlbFJhdGlvLCBJbWFnZVNsaWRlLCBjbHN4LCBjc3NDbGFzcywgYWRkVG9vbGJhckJ1dHRvbiwgY3JlYXRlTW9kdWxlIH0gZnJvbSAnLi4vLi4vaW5kZXguanMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRVZFTlRfT05fS0VZX0RPV04sIEVWRU5UX09OX1dIRUVMLCBVTktOT1dOX0FDVElPTl9UWVBFLCBDTEFTU19GVUxMU0laRSwgQ0xBU1NfRkxFWF9DRU5URVIsIENMQVNTX1NMSURFX1dSQVBQRVIsIFBMVUdJTl9aT09NIH0gZnJvbSAnLi4vLi4vdHlwZXMuanMnO1xuXG5jb25zdCBkZWZhdWx0Wm9vbVByb3BzID0ge1xuICAgIG1heFpvb21QaXhlbFJhdGlvOiAxLFxuICAgIHpvb21Jbk11bHRpcGxpZXI6IDIsXG4gICAgZG91YmxlVGFwRGVsYXk6IDMwMCxcbiAgICBkb3VibGVDbGlja0RlbGF5OiA1MDAsXG4gICAgZG91YmxlQ2xpY2tNYXhTdG9wczogMixcbiAgICBrZXlib2FyZE1vdmVEaXN0YW5jZTogNTAsXG4gICAgd2hlZWxab29tRGlzdGFuY2VGYWN0b3I6IDEwMCxcbiAgICBwaW5jaFpvb21EaXN0YW5jZUZhY3RvcjogMTAwLFxuICAgIHNjcm9sbFRvWm9vbTogZmFsc2UsXG59O1xuY29uc3QgcmVzb2x2ZVpvb21Qcm9wcyA9ICh6b29tKSA9PiAoe1xuICAgIC4uLmRlZmF1bHRab29tUHJvcHMsXG4gICAgLi4uem9vbSxcbn0pO1xuXG5mdW5jdGlvbiB1c2Vab29tQW5pbWF0aW9uKHpvb20sIG9mZnNldFgsIG9mZnNldFksIHpvb21XcmFwcGVyUmVmKSB7XG4gICAgY29uc3Qgem9vbUFuaW1hdGlvbiA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHpvb21BbmltYXRpb25TdGFydCA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHsgem9vbTogem9vbUFuaW1hdGlvbkR1cmF0aW9uIH0gPSB1c2VMaWdodGJveFByb3BzKCkuYW5pbWF0aW9uO1xuICAgIGNvbnN0IHJlZHVjZU1vdGlvbiA9IHVzZU1vdGlvblByZWZlcmVuY2UoKTtcbiAgICBjb25zdCBwbGF5Wm9vbUFuaW1hdGlvbiA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgKF9hID0gem9vbUFuaW1hdGlvbi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsKCk7XG4gICAgICAgIHpvb21BbmltYXRpb24uY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHpvb21BbmltYXRpb25TdGFydC5jdXJyZW50ICYmICh6b29tV3JhcHBlclJlZiA9PT0gbnVsbCB8fCB6b29tV3JhcHBlclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbVdyYXBwZXJSZWYuY3VycmVudCkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgem9vbUFuaW1hdGlvbi5jdXJyZW50ID0gKF9jID0gKF9iID0gem9vbVdyYXBwZXJSZWYuY3VycmVudCkuYW5pbWF0ZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IsIFtcbiAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IHpvb21BbmltYXRpb25TdGFydC5jdXJyZW50IH0sXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBgc2NhbGUoJHt6b29tfSkgdHJhbnNsYXRlWCgke29mZnNldFh9cHgpIHRyYW5zbGF0ZVkoJHtvZmZzZXRZfXB4KWAgfSxcbiAgICAgICAgICAgICAgICBdLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAhcmVkdWNlTW90aW9uID8gem9vbUFuaW1hdGlvbkR1cmF0aW9uICE9PSBudWxsICYmIHpvb21BbmltYXRpb25EdXJhdGlvbiAhPT0gdm9pZCAwID8gem9vbUFuaW1hdGlvbkR1cmF0aW9uIDogNTAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiB6b29tQW5pbWF0aW9uLmN1cnJlbnQgPyBcImVhc2Utb3V0XCIgOiBcImVhc2UtaW4tb3V0XCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgem9vbUFuaW1hdGlvblN0YXJ0LmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoem9vbUFuaW1hdGlvbi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgem9vbUFuaW1hdGlvbi5jdXJyZW50Lm9uZmluaXNoID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB6b29tQW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUxheW91dEVmZmVjdChwbGF5Wm9vbUFuaW1hdGlvbiwgW3pvb20sIG9mZnNldFgsIG9mZnNldFksIHBsYXlab29tQW5pbWF0aW9uXSk7XG4gICAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgem9vbUFuaW1hdGlvblN0YXJ0LmN1cnJlbnQgPSAoem9vbVdyYXBwZXJSZWYgPT09IG51bGwgfHwgem9vbVdyYXBwZXJSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21XcmFwcGVyUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHpvb21XcmFwcGVyUmVmLmN1cnJlbnQpLnRyYW5zZm9ybVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfSwgW3pvb21XcmFwcGVyUmVmXSk7XG59XG5cbmZ1bmN0aW9uIHVzZVpvb21DYWxsYmFjayh6b29tLCBkaXNhYmxlZCkge1xuICAgIGNvbnN0IHsgb24gfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCBvblpvb21DYWxsYmFjayA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIChfYSA9IG9uLnpvb20pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uLCB7IHpvb20gfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3Qob25ab29tQ2FsbGJhY2ssIFt6b29tLCBvblpvb21DYWxsYmFja10pO1xufVxuXG5mdW5jdGlvbiB1c2Vab29tUHJvcHMoKSB7XG4gICAgY29uc3QgeyB6b29tIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgcmV0dXJuIHJlc29sdmVab29tUHJvcHMoem9vbSk7XG59XG5cbmZ1bmN0aW9uIHVzZVpvb21JbWFnZVJlY3Qoc2xpZGVSZWN0LCBpbWFnZURpbWVuc2lvbnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGxldCBpbWFnZVJlY3QgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICBsZXQgbWF4SW1hZ2VSZWN0ID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgY29uc3QgeyBjdXJyZW50U2xpZGUgfSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICBjb25zdCB7IGltYWdlRml0IH0gPSB1c2VMaWdodGJveFByb3BzKCkuY2Fyb3VzZWw7XG4gICAgY29uc3QgeyBtYXhab29tUGl4ZWxSYXRpbyB9ID0gdXNlWm9vbVByb3BzKCk7XG4gICAgaWYgKHNsaWRlUmVjdCAmJiBjdXJyZW50U2xpZGUpIHtcbiAgICAgICAgY29uc3Qgc2xpZGUgPSB7IC4uLmN1cnJlbnRTbGlkZSwgLi4uaW1hZ2VEaW1lbnNpb25zIH07XG4gICAgICAgIGlmIChpc0ltYWdlU2xpZGUoc2xpZGUpKSB7XG4gICAgICAgICAgICBjb25zdCBjb3ZlciA9IGlzSW1hZ2VGaXRDb3ZlcihzbGlkZSwgaW1hZ2VGaXQpO1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLm1heCguLi4oKChfYSA9IHNsaWRlLnNyY1NldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcCgoeCkgPT4geC53aWR0aCkpIHx8IFtdKS5jb25jYXQoc2xpZGUud2lkdGggPyBbc2xpZGUud2lkdGhdIDogW10pKTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KC4uLigoKF9iID0gc2xpZGUuc3JjU2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWFwKCh4KSA9PiB4LmhlaWdodCkpIHx8IFtdKS5jb25jYXQoc2xpZGUuaGVpZ2h0ID8gW3NsaWRlLmhlaWdodF0gOiBbXSkpO1xuICAgICAgICAgICAgaWYgKHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwICYmIHNsaWRlUmVjdC53aWR0aCA+IDAgJiYgc2xpZGVSZWN0LmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICBtYXhJbWFnZVJlY3QgPSBjb3ZlclxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKE1hdGgubWluKHdpZHRoLCAoc2xpZGVSZWN0LndpZHRoIC8gc2xpZGVSZWN0LmhlaWdodCkgKiBoZWlnaHQpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChNYXRoLm1pbihoZWlnaHQsIChzbGlkZVJlY3QuaGVpZ2h0IC8gc2xpZGVSZWN0LndpZHRoKSAqIHdpZHRoKSksXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgICAgICAgICAgICAgICBtYXhJbWFnZVJlY3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBtYXhJbWFnZVJlY3Qud2lkdGggKiBtYXhab29tUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBtYXhJbWFnZVJlY3QuaGVpZ2h0ICogbWF4Wm9vbVBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbWFnZVJlY3QgPSBjb3ZlclxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLm1pbihzbGlkZVJlY3Qud2lkdGgsIG1heEltYWdlUmVjdC53aWR0aCwgd2lkdGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLm1pbihzbGlkZVJlY3QuaGVpZ2h0LCBtYXhJbWFnZVJlY3QuaGVpZ2h0LCBoZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IE1hdGgucm91bmQoTWF0aC5taW4oc2xpZGVSZWN0LndpZHRoLCAoc2xpZGVSZWN0LmhlaWdodCAvIGhlaWdodCkgKiB3aWR0aCwgd2lkdGgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChNYXRoLm1pbihzbGlkZVJlY3QuaGVpZ2h0LCAoc2xpZGVSZWN0LndpZHRoIC8gd2lkdGgpICogaGVpZ2h0LCBoZWlnaHQpKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBtYXhab29tID0gaW1hZ2VSZWN0LndpZHRoID8gTWF0aC5tYXgocm91bmQobWF4SW1hZ2VSZWN0LndpZHRoIC8gaW1hZ2VSZWN0LndpZHRoLCA1KSwgMSkgOiAxO1xuICAgIHJldHVybiB7IGltYWdlUmVjdCwgbWF4Wm9vbSB9O1xufVxuXG5mdW5jdGlvbiBkaXN0YW5jZShwb2ludGVyQSwgcG9pbnRlckIpIHtcbiAgICByZXR1cm4gKChwb2ludGVyQS5jbGllbnRYIC0gcG9pbnRlckIuY2xpZW50WCkgKiogMiArIChwb2ludGVyQS5jbGllbnRZIC0gcG9pbnRlckIuY2xpZW50WSkgKiogMikgKiogMC41O1xufVxuZnVuY3Rpb24gdXNlWm9vbVNlbnNvcnMoem9vbSwgbWF4Wm9vbSwgZGlzYWJsZWQsIGNoYW5nZVpvb20sIGNoYW5nZU9mZnNldHMsIHpvb21XcmFwcGVyUmVmKSB7XG4gICAgY29uc3QgYWN0aXZlUG9pbnRlcnMgPSBSZWFjdC51c2VSZWYoW10pO1xuICAgIGNvbnN0IGxhc3RQb2ludGVyRG93biA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBwaW5jaFpvb21EaXN0YW5jZSA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHsgZ2xvYmFsSW5kZXggfSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICBjb25zdCB7IGdldE93bmVyV2luZG93IH0gPSB1c2VEb2N1bWVudENvbnRleHQoKTtcbiAgICBjb25zdCB7IGNvbnRhaW5lclJlZiwgc3Vic2NyaWJlU2Vuc29ycyB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsga2V5Ym9hcmRNb3ZlRGlzdGFuY2UsIHpvb21Jbk11bHRpcGxpZXIsIHdoZWVsWm9vbURpc3RhbmNlRmFjdG9yLCBzY3JvbGxUb1pvb20sIGRvdWJsZVRhcERlbGF5LCBkb3VibGVDbGlja0RlbGF5LCBkb3VibGVDbGlja01heFN0b3BzLCBwaW5jaFpvb21EaXN0YW5jZUZhY3RvciwgfSA9IHVzZVpvb21Qcm9wcygpO1xuICAgIGNvbnN0IHRyYW5zbGF0ZUNvb3JkaW5hdGVzID0gUmVhY3QudXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3QgeyBwYWdlWCwgcGFnZVkgfSA9IGV2ZW50O1xuICAgICAgICAgICAgY29uc3QgeyBzY3JvbGxYLCBzY3JvbGxZIH0gPSBnZXRPd25lcldpbmRvdygpO1xuICAgICAgICAgICAgY29uc3QgeyBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQgfSA9IGNvbnRhaW5lclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgcmV0dXJuIFtwYWdlWCAtIGxlZnQgLSBzY3JvbGxYIC0gd2lkdGggLyAyLCBwYWdlWSAtIHRvcCAtIHNjcm9sbFkgLSBoZWlnaHQgLyAyXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfSwgW2NvbnRhaW5lclJlZiwgZ2V0T3duZXJXaW5kb3ddKTtcbiAgICBjb25zdCBvbktleURvd24gPSB1c2VFdmVudENhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2ZW50RGVmYXVsdCA9ICgpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHpvb20gPiAxKSB7XG4gICAgICAgICAgICBjb25zdCBtb3ZlID0gKGRlbHRhWCwgZGVsdGFZKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VPZmZzZXRzKGRlbHRhWCwgZGVsdGFZKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgICAgICAgICAgbW92ZSgwLCBrZXlib2FyZE1vdmVEaXN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICAgICAgICAgICAgbW92ZSgwLCAta2V5Ym9hcmRNb3ZlRGlzdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93TGVmdFwiKSB7XG4gICAgICAgICAgICAgICAgbW92ZSgta2V5Ym9hcmRNb3ZlRGlzdGFuY2UsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93UmlnaHRcIikge1xuICAgICAgICAgICAgICAgIG1vdmUoa2V5Ym9hcmRNb3ZlRGlzdGFuY2UsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhbmRsZUNoYW5nZVpvb20gPSAoem9vbVZhbHVlKSA9PiB7XG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY2hhbmdlWm9vbSh6b29tVmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYXNNZXRhID0gKCkgPT4gZXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZShcIk1ldGFcIik7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiK1wiIHx8IChldmVudC5rZXkgPT09IFwiPVwiICYmIGhhc01ldGEoKSkpIHtcbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZVpvb20oem9vbSAqIHpvb21Jbk11bHRpcGxpZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCItXCIgfHwgKGV2ZW50LmtleSA9PT0gXCJfXCIgJiYgaGFzTWV0YSgpKSkge1xuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlWm9vbSh6b29tIC8gem9vbUluTXVsdGlwbGllcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIjBcIiAmJiBoYXNNZXRhKCkpIHtcbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZVpvb20oMSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvbldoZWVsID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgc2Nyb2xsVG9ab29tKSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZXZlbnQuZGVsdGFZKSA+IE1hdGguYWJzKGV2ZW50LmRlbHRhWCkpIHtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2Vab29tKHpvb20gKiAoMSAtIGV2ZW50LmRlbHRhWSAvIHdoZWVsWm9vbURpc3RhbmNlRmFjdG9yKSwgdHJ1ZSwgLi4udHJhbnNsYXRlQ29vcmRpbmF0ZXMoZXZlbnQpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHpvb20gPiAxKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGlmICghc2Nyb2xsVG9ab29tKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlT2Zmc2V0cyhldmVudC5kZWx0YVgsIGV2ZW50LmRlbHRhWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBjbGVhclBvaW50ZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSBhY3RpdmVQb2ludGVycy5jdXJyZW50O1xuICAgICAgICBwb2ludGVycy5zcGxpY2UoMCwgcG9pbnRlcnMubGVuZ3RoLCAuLi5wb2ludGVycy5maWx0ZXIoKHApID0+IHAucG9pbnRlcklkICE9PSBldmVudC5wb2ludGVySWQpKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgcmVwbGFjZVBvaW50ZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY2xlYXJQb2ludGVyKGV2ZW50KTtcbiAgICAgICAgZXZlbnQucGVyc2lzdCgpO1xuICAgICAgICBhY3RpdmVQb2ludGVycy5jdXJyZW50LnB1c2goZXZlbnQpO1xuICAgIH0sIFtjbGVhclBvaW50ZXJdKTtcbiAgICBjb25zdCBvblBvaW50ZXJEb3duID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQ7XG4gICAgICAgIGlmICghKChfYSA9IHpvb21XcmFwcGVyUmVmID09PSBudWxsIHx8IHpvb21XcmFwcGVyUmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiB6b29tV3JhcHBlclJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoem9vbSA+IDEpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdGltZVN0YW1wIH0gPSBldmVudDtcbiAgICAgICAgaWYgKHBvaW50ZXJzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgdGltZVN0YW1wIC0gbGFzdFBvaW50ZXJEb3duLmN1cnJlbnQgPCAoZXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIiA/IGRvdWJsZVRhcERlbGF5IDogZG91YmxlQ2xpY2tEZWxheSkpIHtcbiAgICAgICAgICAgIGxhc3RQb2ludGVyRG93bi5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgIGNoYW5nZVpvb20oem9vbSAhPT0gbWF4Wm9vbSA/IHpvb20gKiBNYXRoLm1heChtYXhab29tICoqICgxIC8gZG91YmxlQ2xpY2tNYXhTdG9wcyksIHpvb21Jbk11bHRpcGxpZXIpIDogMSwgZmFsc2UsIC4uLnRyYW5zbGF0ZUNvb3JkaW5hdGVzKGV2ZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsYXN0UG9pbnRlckRvd24uY3VycmVudCA9IHRpbWVTdGFtcDtcbiAgICAgICAgfVxuICAgICAgICByZXBsYWNlUG9pbnRlcihldmVudCk7XG4gICAgICAgIGlmIChwb2ludGVycy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHBpbmNoWm9vbURpc3RhbmNlLmN1cnJlbnQgPSBkaXN0YW5jZShwb2ludGVyc1swXSwgcG9pbnRlcnNbMV0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgb25Qb2ludGVyTW92ZSA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gYWN0aXZlUG9pbnRlcnMuY3VycmVudDtcbiAgICAgICAgY29uc3QgYWN0aXZlUG9pbnRlciA9IHBvaW50ZXJzLmZpbmQoKHApID0+IHAucG9pbnRlcklkID09PSBldmVudC5wb2ludGVySWQpO1xuICAgICAgICBpZiAocG9pbnRlcnMubGVuZ3RoID09PSAyICYmIHBpbmNoWm9vbURpc3RhbmNlLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmVwbGFjZVBvaW50ZXIoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERpc3RhbmNlID0gZGlzdGFuY2UocG9pbnRlcnNbMF0sIHBvaW50ZXJzWzFdKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gY3VycmVudERpc3RhbmNlIC0gcGluY2hab29tRGlzdGFuY2UuY3VycmVudDtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlWm9vbSh6b29tICogKDEgKyBkZWx0YSAvIHBpbmNoWm9vbURpc3RhbmNlRmFjdG9yKSwgdHJ1ZSwgLi4ucG9pbnRlcnNcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoeCkgPT4gdHJhbnNsYXRlQ29vcmRpbmF0ZXMoeCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgY29vcmRpbmF0ZSkgPT4gY29vcmRpbmF0ZS5tYXAoKHgsIGkpID0+IGFjY1tpXSArIHggLyAyKSkpO1xuICAgICAgICAgICAgICAgIHBpbmNoWm9vbURpc3RhbmNlLmN1cnJlbnQgPSBjdXJyZW50RGlzdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHpvb20gPiAxKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGlmIChhY3RpdmVQb2ludGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VPZmZzZXRzKChhY3RpdmVQb2ludGVyLmNsaWVudFggLSBldmVudC5jbGllbnRYKSAvIHpvb20sIChhY3RpdmVQb2ludGVyLmNsaWVudFkgLSBldmVudC5jbGllbnRZKSAvIHpvb20pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXBsYWNlUG9pbnRlcihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvblBvaW50ZXJVcCA9IFJlYWN0LnVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQ7XG4gICAgICAgIGlmIChwb2ludGVycy5sZW5ndGggPT09IDIgJiYgcG9pbnRlcnMuZmluZCgocCkgPT4gcC5wb2ludGVySWQgPT09IGV2ZW50LnBvaW50ZXJJZCkpIHtcbiAgICAgICAgICAgIHBpbmNoWm9vbURpc3RhbmNlLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJQb2ludGVyKGV2ZW50KTtcbiAgICB9LCBbY2xlYXJQb2ludGVyXSk7XG4gICAgY29uc3QgY2xlYW51cFNlbnNvcnMgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gYWN0aXZlUG9pbnRlcnMuY3VycmVudDtcbiAgICAgICAgcG9pbnRlcnMuc3BsaWNlKDAsIHBvaW50ZXJzLmxlbmd0aCk7XG4gICAgICAgIGxhc3RQb2ludGVyRG93bi5jdXJyZW50ID0gMDtcbiAgICAgICAgcGluY2hab29tRGlzdGFuY2UuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICB9LCBbXSk7XG4gICAgdXNlUG9pbnRlckV2ZW50cyhzdWJzY3JpYmVTZW5zb3JzLCBvblBvaW50ZXJEb3duLCBvblBvaW50ZXJNb3ZlLCBvblBvaW50ZXJVcCwgZGlzYWJsZWQpO1xuICAgIFJlYWN0LnVzZUVmZmVjdChjbGVhbnVwU2Vuc29ycywgW2dsb2JhbEluZGV4LCBjbGVhbnVwU2Vuc29yc10pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGVhbnVwKGNsZWFudXBTZW5zb3JzLCBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX0tFWV9ET1dOLCBvbktleURvd24pLCBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX1dIRUVMLCBvbldoZWVsKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHsgfTtcbiAgICB9LCBbZGlzYWJsZWQsIHN1YnNjcmliZVNlbnNvcnMsIGNsZWFudXBTZW5zb3JzLCBvbktleURvd24sIG9uV2hlZWxdKTtcbn1cblxuZnVuY3Rpb24gdXNlWm9vbVN0YXRlKGltYWdlUmVjdCwgbWF4Wm9vbSwgem9vbVdyYXBwZXJSZWYpIHtcbiAgICBjb25zdCBbem9vbSwgc2V0Wm9vbV0gPSBSZWFjdC51c2VTdGF0ZSgxKTtcbiAgICBjb25zdCBbb2Zmc2V0WCwgc2V0T2Zmc2V0WF0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBbb2Zmc2V0WSwgc2V0T2Zmc2V0WV0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBhbmltYXRlID0gdXNlWm9vbUFuaW1hdGlvbih6b29tLCBvZmZzZXRYLCBvZmZzZXRZLCB6b29tV3JhcHBlclJlZik7XG4gICAgY29uc3QgeyBjdXJyZW50U2xpZGUsIGdsb2JhbEluZGV4IH0gPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgeyBjb250YWluZXJSZWN0LCBzbGlkZVJlY3QgfSA9IHVzZUNvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB7IHpvb21Jbk11bHRpcGxpZXIgfSA9IHVzZVpvb21Qcm9wcygpO1xuICAgIGNvbnN0IGN1cnJlbnRTb3VyY2UgPSBjdXJyZW50U2xpZGUgJiYgaXNJbWFnZVNsaWRlKGN1cnJlbnRTbGlkZSkgPyBjdXJyZW50U2xpZGUuc3JjIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGRpc2FibGVkID0gIWN1cnJlbnRTb3VyY2UgfHwgISh6b29tV3JhcHBlclJlZiA9PT0gbnVsbCB8fCB6b29tV3JhcHBlclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbVdyYXBwZXJSZWYuY3VycmVudCk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0Wm9vbSgxKTtcbiAgICAgICAgc2V0T2Zmc2V0WCgwKTtcbiAgICAgICAgc2V0T2Zmc2V0WSgwKTtcbiAgICB9LCBbZ2xvYmFsSW5kZXgsIGN1cnJlbnRTb3VyY2VdKTtcbiAgICBjb25zdCBjaGFuZ2VPZmZzZXRzID0gUmVhY3QudXNlQ2FsbGJhY2soKGR4LCBkeSwgdGFyZ2V0Wm9vbSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdab29tID0gdGFyZ2V0Wm9vbSB8fCB6b29tO1xuICAgICAgICBjb25zdCBuZXdPZmZzZXRYID0gb2Zmc2V0WCAtIChkeCB8fCAwKTtcbiAgICAgICAgY29uc3QgbmV3T2Zmc2V0WSA9IG9mZnNldFkgLSAoZHkgfHwgMCk7XG4gICAgICAgIGNvbnN0IG1heE9mZnNldFggPSAoaW1hZ2VSZWN0LndpZHRoICogbmV3Wm9vbSAtIHNsaWRlUmVjdC53aWR0aCkgLyAyIC8gbmV3Wm9vbTtcbiAgICAgICAgY29uc3QgbWF4T2Zmc2V0WSA9IChpbWFnZVJlY3QuaGVpZ2h0ICogbmV3Wm9vbSAtIHNsaWRlUmVjdC5oZWlnaHQpIC8gMiAvIG5ld1pvb207XG4gICAgICAgIHNldE9mZnNldFgoTWF0aC5taW4oTWF0aC5hYnMobmV3T2Zmc2V0WCksIE1hdGgubWF4KG1heE9mZnNldFgsIDApKSAqIE1hdGguc2lnbihuZXdPZmZzZXRYKSk7XG4gICAgICAgIHNldE9mZnNldFkoTWF0aC5taW4oTWF0aC5hYnMobmV3T2Zmc2V0WSksIE1hdGgubWF4KG1heE9mZnNldFksIDApKSAqIE1hdGguc2lnbihuZXdPZmZzZXRZKSk7XG4gICAgfSwgW3pvb20sIG9mZnNldFgsIG9mZnNldFksIHNsaWRlUmVjdCwgaW1hZ2VSZWN0LndpZHRoLCBpbWFnZVJlY3QuaGVpZ2h0XSk7XG4gICAgY29uc3QgY2hhbmdlWm9vbSA9IFJlYWN0LnVzZUNhbGxiYWNrKCh0YXJnZXRab29tLCByYXBpZCwgZHgsIGR5KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1pvb20gPSByb3VuZChNYXRoLm1pbihNYXRoLm1heCh0YXJnZXRab29tICsgMC4wMDEgPCBtYXhab29tID8gdGFyZ2V0Wm9vbSA6IG1heFpvb20sIDEpLCBtYXhab29tKSwgNSk7XG4gICAgICAgIGlmIChuZXdab29tID09PSB6b29tKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoIXJhcGlkKSB7XG4gICAgICAgICAgICBhbmltYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlT2Zmc2V0cyhkeCA/IGR4ICogKDEgLyB6b29tIC0gMSAvIG5ld1pvb20pIDogMCwgZHkgPyBkeSAqICgxIC8gem9vbSAtIDEgLyBuZXdab29tKSA6IDAsIG5ld1pvb20pO1xuICAgICAgICBzZXRab29tKG5ld1pvb20pO1xuICAgIH0sIFt6b29tLCBtYXhab29tLCBjaGFuZ2VPZmZzZXRzLCBhbmltYXRlXSk7XG4gICAgY29uc3QgaGFuZGxlQ29udHJvbGxlclJlY3RDaGFuZ2UgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKHpvb20gPiAxKSB7XG4gICAgICAgICAgICBpZiAoem9vbSA+IG1heFpvb20pIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2Vab29tKG1heFpvb20sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhbmdlT2Zmc2V0cygpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KGhhbmRsZUNvbnRyb2xsZXJSZWN0Q2hhbmdlLCBbY29udGFpbmVyUmVjdC53aWR0aCwgY29udGFpbmVyUmVjdC5oZWlnaHQsIGhhbmRsZUNvbnRyb2xsZXJSZWN0Q2hhbmdlXSk7XG4gICAgY29uc3Qgem9vbUluID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gY2hhbmdlWm9vbSh6b29tICogem9vbUluTXVsdGlwbGllciksIFt6b29tLCB6b29tSW5NdWx0aXBsaWVyLCBjaGFuZ2Vab29tXSk7XG4gICAgY29uc3Qgem9vbU91dCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IGNoYW5nZVpvb20oem9vbSAvIHpvb21Jbk11bHRpcGxpZXIpLCBbem9vbSwgem9vbUluTXVsdGlwbGllciwgY2hhbmdlWm9vbV0pO1xuICAgIHJldHVybiB7IHpvb20sIG9mZnNldFgsIG9mZnNldFksIGRpc2FibGVkLCBjaGFuZ2VPZmZzZXRzLCBjaGFuZ2Vab29tLCB6b29tSW4sIHpvb21PdXQgfTtcbn1cblxuY29uc3QgWm9vbUNvbnRyb2xsZXJDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZVpvb20gPSBtYWtlVXNlQ29udGV4dChcInVzZVpvb21cIiwgXCJab29tQ29udHJvbGxlckNvbnRleHRcIiwgWm9vbUNvbnRyb2xsZXJDb250ZXh0KTtcbmZ1bmN0aW9uIFpvb21Db250ZXh0UHJvdmlkZXIoeyBjaGlsZHJlbiB9KSB7XG4gICAgY29uc3QgW3pvb21XcmFwcGVyLCBzZXRab29tV3JhcHBlcl0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIGNvbnN0IHsgc2xpZGVSZWN0IH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgeyBpbWFnZVJlY3QsIG1heFpvb20gfSA9IHVzZVpvb21JbWFnZVJlY3Qoc2xpZGVSZWN0LCB6b29tV3JhcHBlciA9PT0gbnVsbCB8fCB6b29tV3JhcHBlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbVdyYXBwZXIuaW1hZ2VEaW1lbnNpb25zKTtcbiAgICBjb25zdCB7IHpvb20sIG9mZnNldFgsIG9mZnNldFksIGRpc2FibGVkLCBjaGFuZ2Vab29tLCBjaGFuZ2VPZmZzZXRzLCB6b29tSW4sIHpvb21PdXQgfSA9IHVzZVpvb21TdGF0ZShpbWFnZVJlY3QsIG1heFpvb20sIHpvb21XcmFwcGVyID09PSBudWxsIHx8IHpvb21XcmFwcGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiB6b29tV3JhcHBlci56b29tV3JhcHBlclJlZik7XG4gICAgdXNlWm9vbUNhbGxiYWNrKHpvb20sIGRpc2FibGVkKTtcbiAgICB1c2Vab29tU2Vuc29ycyh6b29tLCBtYXhab29tLCBkaXNhYmxlZCwgY2hhbmdlWm9vbSwgY2hhbmdlT2Zmc2V0cywgem9vbVdyYXBwZXIgPT09IG51bGwgfHwgem9vbVdyYXBwZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21XcmFwcGVyLnpvb21XcmFwcGVyUmVmKTtcbiAgICBjb25zdCB6b29tUmVmID0gUmVhY3QudXNlTWVtbygoKSA9PiAoeyB6b29tLCBtYXhab29tLCBvZmZzZXRYLCBvZmZzZXRZLCBkaXNhYmxlZCwgem9vbUluLCB6b29tT3V0LCBjaGFuZ2Vab29tIH0pLCBbem9vbSwgbWF4Wm9vbSwgb2Zmc2V0WCwgb2Zmc2V0WSwgZGlzYWJsZWQsIHpvb21Jbiwgem9vbU91dCwgY2hhbmdlWm9vbV0pO1xuICAgIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUodXNlWm9vbVByb3BzKCkucmVmLCAoKSA9PiB6b29tUmVmLCBbem9vbVJlZl0pO1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7IC4uLnpvb21SZWYsIHNldFpvb21XcmFwcGVyIH0pLCBbem9vbVJlZiwgc2V0Wm9vbVdyYXBwZXJdKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChab29tQ29udHJvbGxlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSwgY2hpbGRyZW4pO1xufVxuXG5jb25zdCBab29tSW5JY29uID0gY3JlYXRlSWNvbihcIlpvb21JblwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHpcIiB9KSxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEyIDEwaC0ydjJIOXYtMkg3VjloMlY3aDF2MmgydjF6XCIgfSkpKTtcbmNvbnN0IFpvb21PdXRJY29uID0gY3JlYXRlSWNvbihcIlpvb21PdXRcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xNS41IDE0aC0uNzlsLS4yOC0uMjdDMTUuNDEgMTIuNTkgMTYgMTEuMTEgMTYgOS41IDE2IDUuOTEgMTMuMDkgMyA5LjUgM1MzIDUuOTEgMyA5LjUgNS45MSAxNiA5LjUgMTZjMS42MSAwIDMuMDktLjU5IDQuMjMtMS41N2wuMjcuMjh2Ljc5bDUgNC45OUwyMC40OSAxOWwtNC45OS01em0tNiAwQzcuMDEgMTQgNSAxMS45OSA1IDkuNVM3LjAxIDUgOS41IDUgMTQgNy4wMSAxNCA5LjUgMTEuOTkgMTQgOS41IDE0ek03IDloNXYxSDd6XCIgfSkpO1xuY29uc3QgWm9vbUJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gWm9vbUJ1dHRvbih7IHpvb21Jbiwgb25Mb3NlRm9jdXMgfSwgcmVmKSB7XG4gICAgY29uc3Qgd2FzRW5hYmxlZCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgY29uc3Qgd2FzRm9jdXNlZCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgeyB6b29tLCBtYXhab29tLCB6b29tSW46IHpvb21JbkNhbGxiYWNrLCB6b29tT3V0OiB6b29tT3V0Q2FsbGJhY2ssIGRpc2FibGVkOiB6b29tRGlzYWJsZWQgfSA9IHVzZVpvb20oKTtcbiAgICBjb25zdCB7IHJlbmRlciB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IGRpc2FibGVkID0gem9vbURpc2FibGVkIHx8ICh6b29tSW4gPyB6b29tID49IG1heFpvb20gOiB6b29tIDw9IDEpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChkaXNhYmxlZCAmJiB3YXNFbmFibGVkLmN1cnJlbnQgJiYgd2FzRm9jdXNlZC5jdXJyZW50KSB7XG4gICAgICAgICAgICBvbkxvc2VGb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHdhc0VuYWJsZWQuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LCBbZGlzYWJsZWQsIG9uTG9zZUZvY3VzXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgcmVmOiByZWYsIGRpc2FibGVkOiBkaXNhYmxlZCwgbGFiZWw6IHpvb21JbiA/IFwiWm9vbSBpblwiIDogXCJab29tIG91dFwiLCBpY29uOiB6b29tSW4gPyBab29tSW5JY29uIDogWm9vbU91dEljb24sIHJlbmRlckljb246IHpvb21JbiA/IHJlbmRlci5pY29uWm9vbUluIDogcmVuZGVyLmljb25ab29tT3V0LCBvbkNsaWNrOiB6b29tSW4gPyB6b29tSW5DYWxsYmFjayA6IHpvb21PdXRDYWxsYmFjaywgb25Gb2N1czogKCkgPT4ge1xuICAgICAgICAgICAgd2FzRm9jdXNlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfSwgb25CbHVyOiAoKSA9PiB7XG4gICAgICAgICAgICB3YXNGb2N1c2VkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfSB9KSk7XG59KTtcblxuZnVuY3Rpb24gWm9vbUJ1dHRvbnNHcm91cCgpIHtcbiAgICBjb25zdCB6b29tSW5SZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgem9vbU91dFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IGZvY3VzIH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgZm9jdXNTaWJsaW5nID0gUmVhY3QudXNlQ2FsbGJhY2soKHNpYmxpbmcpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCEoKF9hID0gc2libGluZy5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzYWJsZWQpKSB7XG4gICAgICAgICAgICAoX2IgPSBzaWJsaW5nLmN1cnJlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH0sIFtmb2N1c10pO1xuICAgIGNvbnN0IGZvY3VzWm9vbUluID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gZm9jdXNTaWJsaW5nKHpvb21JblJlZiksIFtmb2N1c1NpYmxpbmddKTtcbiAgICBjb25zdCBmb2N1c1pvb21PdXQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBmb2N1c1NpYmxpbmcoem9vbU91dFJlZiksIFtmb2N1c1NpYmxpbmddKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoWm9vbUJ1dHRvbiwgeyB6b29tSW46IHRydWUsIHJlZjogem9vbUluUmVmLCBvbkxvc2VGb2N1czogZm9jdXNab29tT3V0IH0pLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFpvb21CdXR0b24sIHsgcmVmOiB6b29tT3V0UmVmLCBvbkxvc2VGb2N1czogZm9jdXNab29tSW4gfSkpKTtcbn1cblxuZnVuY3Rpb24gWm9vbVRvb2xiYXJDb250cm9sKCkge1xuICAgIGNvbnN0IHsgcmVuZGVyIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgY29uc3Qgem9vbVJlZiA9IHVzZVpvb20oKTtcbiAgICBpZiAocmVuZGVyLmJ1dHRvblpvb20pIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHJlbmRlci5idXR0b25ab29tKHpvb21SZWYpKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoWm9vbUJ1dHRvbnNHcm91cCwgbnVsbCk7XG59XG5cbmZ1bmN0aW9uIGlzUmVzcG9uc2l2ZUltYWdlU2xpZGUoc2xpZGUpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoKF9hID0gc2xpZGUuc3JjU2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSB8fCAwKSA+IDA7XG59XG5mdW5jdGlvbiByZWR1Y2VyKHsgY3VycmVudCwgcHJlbG9hZCB9LCB7IHR5cGUsIHNvdXJjZSB9KSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJmZXRjaFwiOlxuICAgICAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgY3VycmVudDogc291cmNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBjdXJyZW50LCBwcmVsb2FkOiBzb3VyY2UgfTtcbiAgICAgICAgY2FzZSBcImRvbmVcIjpcbiAgICAgICAgICAgIGlmIChzb3VyY2UgPT09IHByZWxvYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBjdXJyZW50OiBzb3VyY2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IGN1cnJlbnQsIHByZWxvYWQgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihVTktOT1dOX0FDVElPTl9UWVBFKTtcbiAgICB9XG59XG5mdW5jdGlvbiBSZXNwb25zaXZlSW1hZ2UocHJvcHMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IFt7IGN1cnJlbnQsIHByZWxvYWQgfSwgZGlzcGF0Y2hdID0gUmVhY3QudXNlUmVkdWNlcihyZWR1Y2VyLCB7fSk7XG4gICAgY29uc3QgeyBzbGlkZTogaW1hZ2UsIHJlY3QsIGltYWdlRml0LCByZW5kZXIgfSA9IHByb3BzO1xuICAgIGNvbnN0IHNyY1NldCA9IGltYWdlLnNyY1NldC5zb3J0KChhLCBiKSA9PiBhLndpZHRoIC0gYi53aWR0aCk7XG4gICAgY29uc3Qgd2lkdGggPSAoX2EgPSBpbWFnZS53aWR0aCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc3JjU2V0W3NyY1NldC5sZW5ndGggLSAxXS53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSAoX2IgPSBpbWFnZS5oZWlnaHQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHNyY1NldFtzcmNTZXQubGVuZ3RoIC0gMV0uaGVpZ2h0O1xuICAgIGNvbnN0IGNvdmVyID0gaXNJbWFnZUZpdENvdmVyKGltYWdlLCBpbWFnZUZpdCk7XG4gICAgY29uc3QgbWF4V2lkdGggPSBNYXRoLm1heCguLi5zcmNTZXQubWFwKCh4KSA9PiB4LndpZHRoKSk7XG4gICAgY29uc3QgdGFyZ2V0V2lkdGggPSBNYXRoLm1pbigoY292ZXIgPyBNYXRoLm1heCA6IE1hdGgubWluKShyZWN0LndpZHRoLCB3aWR0aCAqIChyZWN0LmhlaWdodCAvIGhlaWdodCkpLCBtYXhXaWR0aCk7XG4gICAgY29uc3QgcGl4ZWxEZW5zaXR5ID0gZGV2aWNlUGl4ZWxSYXRpbygpO1xuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHRhcmdldFNvdXJjZSA9IChfYSA9IHNyY1NldC5maW5kKCh4KSA9PiB4LndpZHRoID49IHRhcmdldFdpZHRoICogcGl4ZWxEZW5zaXR5KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc3JjU2V0W3NyY1NldC5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKCFjdXJyZW50IHx8IHNyY1NldC5maW5kSW5kZXgoKHgpID0+IHguc3JjID09PSBjdXJyZW50KSA8IHNyY1NldC5maW5kSW5kZXgoKHgpID0+IHggPT09IHRhcmdldFNvdXJjZSkpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJmZXRjaFwiLCBzb3VyY2U6IHRhcmdldFNvdXJjZS5zcmMgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoaGFuZGxlUmVzaXplLCBbcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQsIHBpeGVsRGVuc2l0eSwgaGFuZGxlUmVzaXplXSk7XG4gICAgY29uc3QgaGFuZGxlUHJlbG9hZCA9IHVzZUV2ZW50Q2FsbGJhY2soKGN1cnJlbnRQcmVsb2FkKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwiZG9uZVwiLCBzb3VyY2U6IGN1cnJlbnRQcmVsb2FkIH0pKTtcbiAgICBjb25zdCBzdHlsZSA9IHtcbiAgICAgICAgV2Via2l0VHJhbnNmb3JtOiBcInRyYW5zbGF0ZVooMClcIixcbiAgICB9O1xuICAgIGlmICghY292ZXIpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzdHlsZSwgcmVjdC53aWR0aCAvIHJlY3QuaGVpZ2h0IDwgd2lkdGggLyBoZWlnaHQgPyB7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcImF1dG9cIiB9IDogeyB3aWR0aDogXCJhdXRvXCIsIGhlaWdodDogXCIxMDAlXCIgfSk7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgcHJlbG9hZCAmJiBwcmVsb2FkICE9PSBjdXJyZW50ICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlU2xpZGUsIHsga2V5OiBcInByZWxvYWRcIiwgLi4ucHJvcHMsIHNsaWRlOiB7IC4uLmltYWdlLCBzcmM6IHByZWxvYWQsIHNyY1NldDogdW5kZWZpbmVkIH0sIHN0eWxlOiB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsIC4uLnN0eWxlIH0sIG9uTG9hZDogKCkgPT4gaGFuZGxlUHJlbG9hZChwcmVsb2FkKSwgcmVuZGVyOiB7XG4gICAgICAgICAgICAgICAgLi4ucmVuZGVyLFxuICAgICAgICAgICAgICAgIGljb25Mb2FkaW5nOiAoKSA9PiBudWxsLFxuICAgICAgICAgICAgICAgIGljb25FcnJvcjogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgIH0gfSkpLFxuICAgICAgICBjdXJyZW50ICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlU2xpZGUsIHsga2V5OiBcImN1cnJlbnRcIiwgLi4ucHJvcHMsIHNsaWRlOiB7IC4uLmltYWdlLCBzcmM6IGN1cnJlbnQsIHNyY1NldDogdW5kZWZpbmVkIH0sIHN0eWxlOiBzdHlsZSB9KSkpKTtcbn1cblxuZnVuY3Rpb24gWm9vbVdyYXBwZXIoeyByZW5kZXIsIHNsaWRlLCBvZmZzZXQsIHJlY3QgfSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBbaW1hZ2VEaW1lbnNpb25zLCBzZXRJbWFnZURpbWVuc2lvbnNdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCB6b29tV3JhcHBlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IHpvb20sIG1heFpvb20sIG9mZnNldFgsIG9mZnNldFksIHNldFpvb21XcmFwcGVyIH0gPSB1c2Vab29tKCk7XG4gICAgY29uc3QgeyBjYXJvdXNlbCwgb24gfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCB7IGN1cnJlbnRJbmRleCB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChvZmZzZXQgPT09IDApIHtcbiAgICAgICAgICAgIHNldFpvb21XcmFwcGVyKHsgem9vbVdyYXBwZXJSZWYsIGltYWdlRGltZW5zaW9ucyB9KTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiBzZXRab29tV3JhcHBlcih1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgfSwgW29mZnNldCwgaW1hZ2VEaW1lbnNpb25zLCBzZXRab29tV3JhcHBlcl0pO1xuICAgIGxldCByZW5kZXJlZCA9IChfYSA9IHJlbmRlci5zbGlkZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocmVuZGVyLCB7IHNsaWRlLCBvZmZzZXQsIHJlY3QsIHpvb20sIG1heFpvb20gfSk7XG4gICAgaWYgKCFyZW5kZXJlZCAmJiBpc0ltYWdlU2xpZGUoc2xpZGUpKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlUHJvcHMgPSB7XG4gICAgICAgICAgICBzbGlkZSxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIHJlY3QsXG4gICAgICAgICAgICByZW5kZXIsXG4gICAgICAgICAgICBpbWFnZUZpdDogY2Fyb3VzZWwuaW1hZ2VGaXQsXG4gICAgICAgICAgICBpbWFnZVByb3BzOiBjYXJvdXNlbC5pbWFnZVByb3BzLFxuICAgICAgICAgICAgb25DbGljazogb2Zmc2V0ID09PSAwID8gKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBvbi5jbGljaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24sIHsgaW5kZXg6IGN1cnJlbnRJbmRleCB9KTsgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgcmVuZGVyZWQgPSBpc1Jlc3BvbnNpdmVJbWFnZVNsaWRlKHNsaWRlKSA/IChSZWFjdC5jcmVhdGVFbGVtZW50KFJlc3BvbnNpdmVJbWFnZSwgeyAuLi5zbGlkZVByb3BzLCBzbGlkZTogc2xpZGUsIHJlY3Q6IG9mZnNldCA9PT0gMCA/IHsgd2lkdGg6IHJlY3Qud2lkdGggKiB6b29tLCBoZWlnaHQ6IHJlY3QuaGVpZ2h0ICogem9vbSB9IDogcmVjdCB9KSkgOiAoUmVhY3QuY3JlYXRlRWxlbWVudChJbWFnZVNsaWRlLCB7IG9uTG9hZDogKGltZykgPT4gc2V0SW1hZ2VEaW1lbnNpb25zKHsgd2lkdGg6IGltZy5uYXR1cmFsV2lkdGgsIGhlaWdodDogaW1nLm5hdHVyYWxIZWlnaHQgfSksIC4uLnNsaWRlUHJvcHMgfSkpO1xuICAgIH1cbiAgICBpZiAoIXJlbmRlcmVkKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHpvb21XcmFwcGVyUmVmLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoQ0xBU1NfRlVMTFNJWkUpLCBjc3NDbGFzcyhDTEFTU19GTEVYX0NFTlRFUiksIGNzc0NsYXNzKENMQVNTX1NMSURFX1dSQVBQRVIpKSwgc3R5bGU6IG9mZnNldCA9PT0gMCA/IHsgdHJhbnNmb3JtOiBgc2NhbGUoJHt6b29tfSkgdHJhbnNsYXRlWCgke29mZnNldFh9cHgpIHRyYW5zbGF0ZVkoJHtvZmZzZXRZfXB4KWAgfSA6IHVuZGVmaW5lZCB9LCByZW5kZXJlZCkpO1xufVxuXG5jb25zdCBab29tID0gKHsgYXVnbWVudCwgYWRkTW9kdWxlIH0pID0+IHtcbiAgICBhdWdtZW50KCh7IHpvb206IHpvb21Qcm9wcywgdG9vbGJhciwgcmVuZGVyLCBjb250cm9sbGVyLCAuLi5yZXN0UHJvcHMgfSkgPT4ge1xuICAgICAgICBjb25zdCB6b29tID0gcmVzb2x2ZVpvb21Qcm9wcyh6b29tUHJvcHMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgem9vbSxcbiAgICAgICAgICAgIHRvb2xiYXI6IGFkZFRvb2xiYXJCdXR0b24odG9vbGJhciwgUExVR0lOX1pPT00sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoWm9vbVRvb2xiYXJDb250cm9sLCBudWxsKSksXG4gICAgICAgICAgICByZW5kZXI6IHtcbiAgICAgICAgICAgICAgICAuLi5yZW5kZXIsXG4gICAgICAgICAgICAgICAgc2xpZGU6IChwcm9wcykgPT4geyB2YXIgX2E7IHJldHVybiBpc0ltYWdlU2xpZGUocHJvcHMuc2xpZGUpID8gUmVhY3QuY3JlYXRlRWxlbWVudChab29tV3JhcHBlciwgeyByZW5kZXI6IHJlbmRlciwgLi4ucHJvcHMgfSkgOiAoX2EgPSByZW5kZXIuc2xpZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHJlbmRlciwgcHJvcHMpOyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IHsgLi4uY29udHJvbGxlciwgcHJldmVudERlZmF1bHRXaGVlbFk6IHpvb20uc2Nyb2xsVG9ab29tIH0sXG4gICAgICAgICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgYWRkTW9kdWxlKGNyZWF0ZU1vZHVsZShQTFVHSU5fWk9PTSwgWm9vbUNvbnRleHRQcm92aWRlcikpO1xufTtcblxuZXhwb3J0IHsgWm9vbSBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js":
/*!***************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/types.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_CLOSE: () => (/* binding */ ACTION_CLOSE),\n/* harmony export */   ACTION_NEXT: () => (/* binding */ ACTION_NEXT),\n/* harmony export */   ACTION_PREV: () => (/* binding */ ACTION_PREV),\n/* harmony export */   ACTION_SWIPE: () => (/* binding */ ACTION_SWIPE),\n/* harmony export */   ACTIVE_SLIDE_COMPLETE: () => (/* binding */ ACTIVE_SLIDE_COMPLETE),\n/* harmony export */   ACTIVE_SLIDE_ERROR: () => (/* binding */ ACTIVE_SLIDE_ERROR),\n/* harmony export */   ACTIVE_SLIDE_LOADING: () => (/* binding */ ACTIVE_SLIDE_LOADING),\n/* harmony export */   ACTIVE_SLIDE_PLAYING: () => (/* binding */ ACTIVE_SLIDE_PLAYING),\n/* harmony export */   CLASS_FLEX_CENTER: () => (/* binding */ CLASS_FLEX_CENTER),\n/* harmony export */   CLASS_FULLSIZE: () => (/* binding */ CLASS_FULLSIZE),\n/* harmony export */   CLASS_NO_SCROLL: () => (/* binding */ CLASS_NO_SCROLL),\n/* harmony export */   CLASS_NO_SCROLL_PADDING: () => (/* binding */ CLASS_NO_SCROLL_PADDING),\n/* harmony export */   CLASS_SLIDE_WRAPPER: () => (/* binding */ CLASS_SLIDE_WRAPPER),\n/* harmony export */   ELEMENT_BUTTON: () => (/* binding */ ELEMENT_BUTTON),\n/* harmony export */   ELEMENT_ICON: () => (/* binding */ ELEMENT_ICON),\n/* harmony export */   EVENT_ON_KEY_DOWN: () => (/* binding */ EVENT_ON_KEY_DOWN),\n/* harmony export */   EVENT_ON_KEY_UP: () => (/* binding */ EVENT_ON_KEY_UP),\n/* harmony export */   EVENT_ON_POINTER_CANCEL: () => (/* binding */ EVENT_ON_POINTER_CANCEL),\n/* harmony export */   EVENT_ON_POINTER_DOWN: () => (/* binding */ EVENT_ON_POINTER_DOWN),\n/* harmony export */   EVENT_ON_POINTER_LEAVE: () => (/* binding */ EVENT_ON_POINTER_LEAVE),\n/* harmony export */   EVENT_ON_POINTER_MOVE: () => (/* binding */ EVENT_ON_POINTER_MOVE),\n/* harmony export */   EVENT_ON_POINTER_UP: () => (/* binding */ EVENT_ON_POINTER_UP),\n/* harmony export */   EVENT_ON_WHEEL: () => (/* binding */ EVENT_ON_WHEEL),\n/* harmony export */   IMAGE_FIT_CONTAIN: () => (/* binding */ IMAGE_FIT_CONTAIN),\n/* harmony export */   IMAGE_FIT_COVER: () => (/* binding */ IMAGE_FIT_COVER),\n/* harmony export */   MODULE_CAROUSEL: () => (/* binding */ MODULE_CAROUSEL),\n/* harmony export */   MODULE_CONTROLLER: () => (/* binding */ MODULE_CONTROLLER),\n/* harmony export */   MODULE_NAVIGATION: () => (/* binding */ MODULE_NAVIGATION),\n/* harmony export */   MODULE_NO_SCROLL: () => (/* binding */ MODULE_NO_SCROLL),\n/* harmony export */   MODULE_PORTAL: () => (/* binding */ MODULE_PORTAL),\n/* harmony export */   MODULE_ROOT: () => (/* binding */ MODULE_ROOT),\n/* harmony export */   MODULE_TOOLBAR: () => (/* binding */ MODULE_TOOLBAR),\n/* harmony export */   PLUGIN_CAPTIONS: () => (/* binding */ PLUGIN_CAPTIONS),\n/* harmony export */   PLUGIN_COUNTER: () => (/* binding */ PLUGIN_COUNTER),\n/* harmony export */   PLUGIN_DOWNLOAD: () => (/* binding */ PLUGIN_DOWNLOAD),\n/* harmony export */   PLUGIN_FULLSCREEN: () => (/* binding */ PLUGIN_FULLSCREEN),\n/* harmony export */   PLUGIN_INLINE: () => (/* binding */ PLUGIN_INLINE),\n/* harmony export */   PLUGIN_SHARE: () => (/* binding */ PLUGIN_SHARE),\n/* harmony export */   PLUGIN_SLIDESHOW: () => (/* binding */ PLUGIN_SLIDESHOW),\n/* harmony export */   PLUGIN_THUMBNAILS: () => (/* binding */ PLUGIN_THUMBNAILS),\n/* harmony export */   PLUGIN_ZOOM: () => (/* binding */ PLUGIN_ZOOM),\n/* harmony export */   SLIDE_STATUS_COMPLETE: () => (/* binding */ SLIDE_STATUS_COMPLETE),\n/* harmony export */   SLIDE_STATUS_ERROR: () => (/* binding */ SLIDE_STATUS_ERROR),\n/* harmony export */   SLIDE_STATUS_LOADING: () => (/* binding */ SLIDE_STATUS_LOADING),\n/* harmony export */   SLIDE_STATUS_PLACEHOLDER: () => (/* binding */ SLIDE_STATUS_PLACEHOLDER),\n/* harmony export */   SLIDE_STATUS_PLAYING: () => (/* binding */ SLIDE_STATUS_PLAYING),\n/* harmony export */   UNKNOWN_ACTION_TYPE: () => (/* binding */ UNKNOWN_ACTION_TYPE),\n/* harmony export */   VK_ARROW_LEFT: () => (/* binding */ VK_ARROW_LEFT),\n/* harmony export */   VK_ARROW_RIGHT: () => (/* binding */ VK_ARROW_RIGHT),\n/* harmony export */   VK_ESCAPE: () => (/* binding */ VK_ESCAPE),\n/* harmony export */   activeSlideStatus: () => (/* binding */ activeSlideStatus)\n/* harmony export */ });\nconst MODULE_CAROUSEL = \"carousel\";\nconst MODULE_CONTROLLER = \"controller\";\nconst MODULE_NAVIGATION = \"navigation\";\nconst MODULE_NO_SCROLL = \"no-scroll\";\nconst MODULE_PORTAL = \"portal\";\nconst MODULE_ROOT = \"root\";\nconst MODULE_TOOLBAR = \"toolbar\";\nconst PLUGIN_CAPTIONS = \"captions\";\nconst PLUGIN_COUNTER = \"counter\";\nconst PLUGIN_DOWNLOAD = \"download\";\nconst PLUGIN_FULLSCREEN = \"fullscreen\";\nconst PLUGIN_INLINE = \"inline\";\nconst PLUGIN_SHARE = \"share\";\nconst PLUGIN_SLIDESHOW = \"slideshow\";\nconst PLUGIN_THUMBNAILS = \"thumbnails\";\nconst PLUGIN_ZOOM = \"zoom\";\nconst SLIDE_STATUS_LOADING = \"loading\";\nconst SLIDE_STATUS_PLAYING = \"playing\";\nconst SLIDE_STATUS_ERROR = \"error\";\nconst SLIDE_STATUS_COMPLETE = \"complete\";\nconst SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nconst activeSlideStatus = (status) => `active-slide-${status}`;\nconst ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nconst ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nconst ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nconst ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nconst CLASS_FULLSIZE = \"fullsize\";\nconst CLASS_FLEX_CENTER = \"flex_center\";\nconst CLASS_NO_SCROLL = \"no_scroll\";\nconst CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nconst CLASS_SLIDE_WRAPPER = \"slide_wrapper\";\nconst ACTION_PREV = \"prev\";\nconst ACTION_NEXT = \"next\";\nconst ACTION_SWIPE = \"swipe\";\nconst ACTION_CLOSE = \"close\";\nconst EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nconst EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nconst EVENT_ON_POINTER_UP = \"onPointerUp\";\nconst EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nconst EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nconst EVENT_ON_KEY_DOWN = \"onKeyDown\";\nconst EVENT_ON_KEY_UP = \"onKeyUp\";\nconst EVENT_ON_WHEEL = \"onWheel\";\nconst VK_ESCAPE = \"Escape\";\nconst VK_ARROW_LEFT = \"ArrowLeft\";\nconst VK_ARROW_RIGHT = \"ArrowRight\";\nconst ELEMENT_BUTTON = \"button\";\nconst ELEMENT_ICON = \"icon\";\nconst IMAGE_FIT_CONTAIN = \"contain\";\nconst IMAGE_FIT_COVER = \"cover\";\nconst UNKNOWN_ACTION_TYPE = \"Unknown action type\";\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsT0FBTztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taWNoYWVsLWNvcmtlci1hcnR3b3JrLy4vbm9kZV9tb2R1bGVzL3lldC1hbm90aGVyLXJlYWN0LWxpZ2h0Ym94L2Rpc3QvdHlwZXMuanM/NjM5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNT0RVTEVfQ0FST1VTRUwgPSBcImNhcm91c2VsXCI7XG5jb25zdCBNT0RVTEVfQ09OVFJPTExFUiA9IFwiY29udHJvbGxlclwiO1xuY29uc3QgTU9EVUxFX05BVklHQVRJT04gPSBcIm5hdmlnYXRpb25cIjtcbmNvbnN0IE1PRFVMRV9OT19TQ1JPTEwgPSBcIm5vLXNjcm9sbFwiO1xuY29uc3QgTU9EVUxFX1BPUlRBTCA9IFwicG9ydGFsXCI7XG5jb25zdCBNT0RVTEVfUk9PVCA9IFwicm9vdFwiO1xuY29uc3QgTU9EVUxFX1RPT0xCQVIgPSBcInRvb2xiYXJcIjtcbmNvbnN0IFBMVUdJTl9DQVBUSU9OUyA9IFwiY2FwdGlvbnNcIjtcbmNvbnN0IFBMVUdJTl9DT1VOVEVSID0gXCJjb3VudGVyXCI7XG5jb25zdCBQTFVHSU5fRE9XTkxPQUQgPSBcImRvd25sb2FkXCI7XG5jb25zdCBQTFVHSU5fRlVMTFNDUkVFTiA9IFwiZnVsbHNjcmVlblwiO1xuY29uc3QgUExVR0lOX0lOTElORSA9IFwiaW5saW5lXCI7XG5jb25zdCBQTFVHSU5fU0hBUkUgPSBcInNoYXJlXCI7XG5jb25zdCBQTFVHSU5fU0xJREVTSE9XID0gXCJzbGlkZXNob3dcIjtcbmNvbnN0IFBMVUdJTl9USFVNQk5BSUxTID0gXCJ0aHVtYm5haWxzXCI7XG5jb25zdCBQTFVHSU5fWk9PTSA9IFwiem9vbVwiO1xuY29uc3QgU0xJREVfU1RBVFVTX0xPQURJTkcgPSBcImxvYWRpbmdcIjtcbmNvbnN0IFNMSURFX1NUQVRVU19QTEFZSU5HID0gXCJwbGF5aW5nXCI7XG5jb25zdCBTTElERV9TVEFUVVNfRVJST1IgPSBcImVycm9yXCI7XG5jb25zdCBTTElERV9TVEFUVVNfQ09NUExFVEUgPSBcImNvbXBsZXRlXCI7XG5jb25zdCBTTElERV9TVEFUVVNfUExBQ0VIT0xERVIgPSBcInBsYWNlaG9sZGVyXCI7XG5jb25zdCBhY3RpdmVTbGlkZVN0YXR1cyA9IChzdGF0dXMpID0+IGBhY3RpdmUtc2xpZGUtJHtzdGF0dXN9YDtcbmNvbnN0IEFDVElWRV9TTElERV9MT0FESU5HID0gYWN0aXZlU2xpZGVTdGF0dXMoU0xJREVfU1RBVFVTX0xPQURJTkcpO1xuY29uc3QgQUNUSVZFX1NMSURFX1BMQVlJTkcgPSBhY3RpdmVTbGlkZVN0YXR1cyhTTElERV9TVEFUVVNfUExBWUlORyk7XG5jb25zdCBBQ1RJVkVfU0xJREVfRVJST1IgPSBhY3RpdmVTbGlkZVN0YXR1cyhTTElERV9TVEFUVVNfRVJST1IpO1xuY29uc3QgQUNUSVZFX1NMSURFX0NPTVBMRVRFID0gYWN0aXZlU2xpZGVTdGF0dXMoU0xJREVfU1RBVFVTX0NPTVBMRVRFKTtcbmNvbnN0IENMQVNTX0ZVTExTSVpFID0gXCJmdWxsc2l6ZVwiO1xuY29uc3QgQ0xBU1NfRkxFWF9DRU5URVIgPSBcImZsZXhfY2VudGVyXCI7XG5jb25zdCBDTEFTU19OT19TQ1JPTEwgPSBcIm5vX3Njcm9sbFwiO1xuY29uc3QgQ0xBU1NfTk9fU0NST0xMX1BBRERJTkcgPSBcIm5vX3Njcm9sbF9wYWRkaW5nXCI7XG5jb25zdCBDTEFTU19TTElERV9XUkFQUEVSID0gXCJzbGlkZV93cmFwcGVyXCI7XG5jb25zdCBBQ1RJT05fUFJFViA9IFwicHJldlwiO1xuY29uc3QgQUNUSU9OX05FWFQgPSBcIm5leHRcIjtcbmNvbnN0IEFDVElPTl9TV0lQRSA9IFwic3dpcGVcIjtcbmNvbnN0IEFDVElPTl9DTE9TRSA9IFwiY2xvc2VcIjtcbmNvbnN0IEVWRU5UX09OX1BPSU5URVJfRE9XTiA9IFwib25Qb2ludGVyRG93blwiO1xuY29uc3QgRVZFTlRfT05fUE9JTlRFUl9NT1ZFID0gXCJvblBvaW50ZXJNb3ZlXCI7XG5jb25zdCBFVkVOVF9PTl9QT0lOVEVSX1VQID0gXCJvblBvaW50ZXJVcFwiO1xuY29uc3QgRVZFTlRfT05fUE9JTlRFUl9MRUFWRSA9IFwib25Qb2ludGVyTGVhdmVcIjtcbmNvbnN0IEVWRU5UX09OX1BPSU5URVJfQ0FOQ0VMID0gXCJvblBvaW50ZXJDYW5jZWxcIjtcbmNvbnN0IEVWRU5UX09OX0tFWV9ET1dOID0gXCJvbktleURvd25cIjtcbmNvbnN0IEVWRU5UX09OX0tFWV9VUCA9IFwib25LZXlVcFwiO1xuY29uc3QgRVZFTlRfT05fV0hFRUwgPSBcIm9uV2hlZWxcIjtcbmNvbnN0IFZLX0VTQ0FQRSA9IFwiRXNjYXBlXCI7XG5jb25zdCBWS19BUlJPV19MRUZUID0gXCJBcnJvd0xlZnRcIjtcbmNvbnN0IFZLX0FSUk9XX1JJR0hUID0gXCJBcnJvd1JpZ2h0XCI7XG5jb25zdCBFTEVNRU5UX0JVVFRPTiA9IFwiYnV0dG9uXCI7XG5jb25zdCBFTEVNRU5UX0lDT04gPSBcImljb25cIjtcbmNvbnN0IElNQUdFX0ZJVF9DT05UQUlOID0gXCJjb250YWluXCI7XG5jb25zdCBJTUFHRV9GSVRfQ09WRVIgPSBcImNvdmVyXCI7XG5jb25zdCBVTktOT1dOX0FDVElPTl9UWVBFID0gXCJVbmtub3duIGFjdGlvbiB0eXBlXCI7XG5cbmV4cG9ydCB7IEFDVElPTl9DTE9TRSwgQUNUSU9OX05FWFQsIEFDVElPTl9QUkVWLCBBQ1RJT05fU1dJUEUsIEFDVElWRV9TTElERV9DT01QTEVURSwgQUNUSVZFX1NMSURFX0VSUk9SLCBBQ1RJVkVfU0xJREVfTE9BRElORywgQUNUSVZFX1NMSURFX1BMQVlJTkcsIENMQVNTX0ZMRVhfQ0VOVEVSLCBDTEFTU19GVUxMU0laRSwgQ0xBU1NfTk9fU0NST0xMLCBDTEFTU19OT19TQ1JPTExfUEFERElORywgQ0xBU1NfU0xJREVfV1JBUFBFUiwgRUxFTUVOVF9CVVRUT04sIEVMRU1FTlRfSUNPTiwgRVZFTlRfT05fS0VZX0RPV04sIEVWRU5UX09OX0tFWV9VUCwgRVZFTlRfT05fUE9JTlRFUl9DQU5DRUwsIEVWRU5UX09OX1BPSU5URVJfRE9XTiwgRVZFTlRfT05fUE9JTlRFUl9MRUFWRSwgRVZFTlRfT05fUE9JTlRFUl9NT1ZFLCBFVkVOVF9PTl9QT0lOVEVSX1VQLCBFVkVOVF9PTl9XSEVFTCwgSU1BR0VfRklUX0NPTlRBSU4sIElNQUdFX0ZJVF9DT1ZFUiwgTU9EVUxFX0NBUk9VU0VMLCBNT0RVTEVfQ09OVFJPTExFUiwgTU9EVUxFX05BVklHQVRJT04sIE1PRFVMRV9OT19TQ1JPTEwsIE1PRFVMRV9QT1JUQUwsIE1PRFVMRV9ST09ULCBNT0RVTEVfVE9PTEJBUiwgUExVR0lOX0NBUFRJT05TLCBQTFVHSU5fQ09VTlRFUiwgUExVR0lOX0RPV05MT0FELCBQTFVHSU5fRlVMTFNDUkVFTiwgUExVR0lOX0lOTElORSwgUExVR0lOX1NIQVJFLCBQTFVHSU5fU0xJREVTSE9XLCBQTFVHSU5fVEhVTUJOQUlMUywgUExVR0lOX1pPT00sIFNMSURFX1NUQVRVU19DT01QTEVURSwgU0xJREVfU1RBVFVTX0VSUk9SLCBTTElERV9TVEFUVVNfTE9BRElORywgU0xJREVfU1RBVFVTX1BMQUNFSE9MREVSLCBTTElERV9TVEFUVVNfUExBWUlORywgVU5LTk9XTl9BQ1RJT05fVFlQRSwgVktfQVJST1dfTEVGVCwgVktfQVJST1dfUklHSFQsIFZLX0VTQ0FQRSwgYWN0aXZlU2xpZGVTdGF0dXMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\n");

/***/ })

};
;